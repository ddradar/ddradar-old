/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{0:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return use}));var r=function(template,style,script,t,e,n,r,o,c,l){"boolean"!=typeof r&&(c=o,o=r,r=!1);var h,f="function"==typeof script?script.options:script;if(template&&template.render&&(f.render=template.render,f.staticRenderFns=template.staticRenderFns,f._compiled=!0,e&&(f.functional=!0)),t&&(f._scopeId=t),n?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),style&&style.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},f._ssrRegister=h):style&&(h=r?function(){style.call(this,l(this.$root.$options.shadowRoot))}:function(t){style.call(this,o(t))}),h)if(f.functional){var d=f.render;f.render=function(t,e){return h.call(e),d(t,e)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,h):[h]}return script},use=function(t){"undefined"!=typeof window&&window.Vue&&window.Vue.use(t)},o=function(t,component){t.component(component.name,component)},c=function(t,e,component){t.prototype.$buefy||(t.prototype.$buefy={}),t.prototype.$buefy[e]=component}},1:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return l}));var r,o={defaultContainerElement:null,defaultIconPack:"mdi",defaultIconComponent:null,defaultIconPrev:"chevron-left",defaultIconNext:"chevron-right",defaultDialogConfirmText:null,defaultDialogCancelText:null,defaultSnackbarDuration:3500,defaultSnackbarPosition:null,defaultToastDuration:2e3,defaultToastPosition:null,defaultNotificationDuration:2e3,defaultNotificationPosition:null,defaultTooltipType:"is-primary",defaultTooltipAnimated:!1,defaultTooltipDelay:0,defaultInputAutocomplete:"on",defaultDateFormatter:null,defaultDateParser:null,defaultDateCreator:null,defaultTimeCreator:null,defaultDayNames:null,defaultMonthNames:null,defaultFirstDayOfWeek:null,defaultUnselectableDaysOfWeek:null,defaultTimeFormatter:null,defaultTimeParser:null,defaultModalCanCancel:["escape","x","outside","button"],defaultModalScroll:null,defaultDatepickerMobileNative:!0,defaultTimepickerMobileNative:!0,defaultNoticeQueue:!0,defaultInputHasCounter:!0,defaultTaginputHasCounter:!0,defaultUseHtml5Validation:!0,defaultDropdownMobileModal:!0,defaultFieldLabelPosition:null,defaultDatepickerYearsRange:[-100,3],defaultDatepickerNearbyMonthDays:!0,defaultDatepickerNearbySelectableMonthDays:!1,defaultDatepickerShowWeekNumber:!1,defaultDatepickerMobileModal:!0,defaultTrapFocus:!1,defaultButtonRounded:!1,defaultCarouselInterval:3500,defaultLinkTags:["a","button","input","router-link","nuxt-link","n-link","RouterLink","NuxtLink","NLink"],customIconPacks:null},c=function(t){o=t},l=function(t){r=t}},10:function(t,e,n){"use strict";n.r(e),n.d(e,"createDecorator",(function(){return f})),n.d(e,"mixins",(function(){return d}));var r=n(4);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}var h={__proto__:[]}instanceof Array;function f(t){return function(e,n,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.default.extend({mixins:e})}var v=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(v.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var data=new e;e.prototype._init=n;var r={};return Object.keys(data).forEach((function(t){void 0!==data[t]&&(r[t]=data[t])})),r}(this,t)}});var c=t.__decorators__;c&&(c.forEach((function(t){return t(e)})),delete t.__decorators__);var f,d,m=Object.getPrototypeOf(t.prototype),w=m instanceof r.default?m.constructor:r.default,_=w.extend(e);return function(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!y[r]){var c=Object.getOwnPropertyDescriptor(t,r);if(!c||c.configurable){var l,f,d=Object.getOwnPropertyDescriptor(e,r);if(!h){if("cid"===r)return;var v=Object.getOwnPropertyDescriptor(n,r);if(l=d.value,f=o(l),null!=l&&("object"===f||"function"===f)&&v&&v.value===d.value)return}0,Object.defineProperty(t,r,d)}}}))}(_,t,w),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(l(f=_,d=t),Object.getOwnPropertyNames(d.prototype).forEach((function(t){l(f.prototype,d.prototype,t)})),Object.getOwnPropertyNames(d).forEach((function(t){l(f,d,t)}))),_}var y={prototype:!0,arguments:!0,callee:!0,caller:!0};function w(t){return"function"==typeof t?m(t):function(e){return m(e,t)}}w.registerHooks=function(t){v.push.apply(v,c(t))},e.default=w},11:function(t,e,n){"use strict";function r(t,source){for(var e=function(e){Object.defineProperty(t,e,{get:function(){return source[e]}})},n=0,r=Object.keys(source||{});n<r.length;n++){e(r[n])}}function o(t){if(!t._vmdModuleName)throw new Error("ERR_GET_MODULE_NAME : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");return"vuexModuleDecorators/"+t._vmdModuleName}n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l}));var c=function(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules};function l(t,e){var n=o(t);if(e&&e.getters[n])return e.getters[n];if(t._statics)return t._statics;var r=t._genStatic;if(!r)throw new Error("ERR_GET_MODULE_NO_STATICS : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");var c=r(e);return e?e.getters[n]=c:t._statics=c,c}var h=["actions","getters","mutations","modules","state","namespaced","commit"];function f(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function d(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function v(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function m(t){return function(e){var n=e,o=function(){return function(t){var e=new t.prototype.constructor({}),s={};return Object.keys(e).forEach((function(t){if(-1===h.indexOf(t))e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(s[t]=e[t]);else if(void 0!==e[t])throw new Error("ERR_RESERVED_STATE_KEY_USED: You cannot use the following\n        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']\n        as fields in your module. These are reserved as they have special purpose in Vuex")})),s}(n)};n.state||(n.state=t&&t.stateFactory?o:o()),n.getters||(n.getters={}),n.namespaced||(n.namespaced=t&&t.namespaced),Object.getOwnPropertyNames(n.prototype).forEach((function(t){var e=Object.getOwnPropertyDescriptor(n.prototype,t);e.get&&n.getters&&(n.getters[t]=function(t,n,o,c){var l={context:{state:t,getters:n,rootState:o,rootGetters:c}};return r(l,t),r(l,n),e.get.call(l)})}));var c=t;return c.name&&(Object.defineProperty(e,"_genStatic",{value:function(t){var e={store:t||c.store};if(!e.store)throw new Error("ERR_STORE_NOT_PROVIDED: To use getModule(), either the module\n            should be decorated with store in decorator, i.e. @Module({store: store}) or\n            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)");return function(t,e,n){var r=e.stateFactory?t.state():t.state;Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&-1===["undefined","function"].indexOf(typeof r[t])&&Object.defineProperty(n,t,{get:function(){return n.store.state[e.name][t]}})}))}(n,c,e),n.getters&&function(t,e,n){Object.keys(t.getters).forEach((function(r){t.namespaced?Object.defineProperty(n,r,{get:function(){return n.store.getters[e.name+"/"+r]}}):Object.defineProperty(n,r,{get:function(){return n.store.getters[r]}})}))}(n,c,e),n.mutations&&function(t,e,n){Object.keys(t.mutations).forEach((function(r){t.namespaced?n[r]=function(){for(var t,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];(t=n.store).commit.apply(t,v([e.name+"/"+r],o))}:n[r]=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=n.store).commit.apply(t,v([r],e))}}))}(n,c,e),n.actions&&function(t,e,n){Object.keys(t.actions).forEach((function(r){t.namespaced?n[r]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return f(this,void 0,void 0,(function(){var o;return d(this,(function(c){return[2,(o=n.store).dispatch.apply(o,v([e.name+"/"+r],t))]}))}))}:n[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f(this,void 0,void 0,(function(){var e;return d(this,(function(o){return[2,(e=n.store).dispatch.apply(e,v([r],t))]}))}))}}))}(n,c,e),e}}),Object.defineProperty(e,"_vmdModuleName",{value:c.name})),c.dynamic&&function(t,e){if(!e.name)throw new Error("Name of module not provided in decorator options");if(!e.store)throw new Error("Store not provided in decorator options when using dynamic option");e.store.registerModule(e.name,t,{preserveState:e.preserveState||!1})}(n,c),e}}function y(t){if("function"!=typeof t)return m(t);m({})(t)}function w(t){var e=t||{},n=e.commit,c=void 0===n?void 0:n,h=e.rawError,v=void 0!==h&&h,m=e.root,y=void 0!==m&&m;return function(t,e,n){var h=t.constructor;h.hasOwnProperty("actions")||(h.actions=Object.assign({},h.actions));var m=n.value,w=function(t,n){return f(this,void 0,void 0,(function(){var f,y,w,_,I;return d(this,(function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),f=null,h._genStatic?(y=o(h),(w=t.rootGetters[y]?t.rootGetters[y]:l(h)).context=t,[4,m.call(w,n)]):[3,2];case 1:return f=d.sent(),[3,4];case 2:return r(_={context:t},t.state),r(_,t.getters),[4,m.call(_,n)];case 3:f=d.sent(),d.label=4;case 4:return c&&t.commit(c,f),[2,f];case 5:throw I=d.sent(),v?I:new Error('ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]\n'+new Error("Could not perform action "+e.toString()).stack+"\n"+I.stack);case 6:return[2]}}))}))};h.actions[e]=y?{root:y,handler:w}:w}}function _(t,e,n){if(!e&&!n)return w(t);w()(t,e,n)}function I(t,e,n){var r=t.constructor;r.hasOwnProperty("mutations")||(r.mutations=Object.assign({},r.mutations));var o=n.value;r.mutations[e]=function(t,e){o.call(t,e)}}},116:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},h=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,l=c?input[i+2]:0,h=n>>2,f=(3&n)<<4|o>>4,d=(15&o)<<2|l>>6,v=63&l;c||(v=64,r||(d=64)),output.push(e[h],e[f],e[d],e[v])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(h(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{c=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,c=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var l=n<<2|r>>4;if(output.push(l),64!==o){var h=r<<4&240|o>>2;if(output.push(h),64!==c){var f=o<<6&192|c;output.push(f)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},d=function(t){try{return f.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=v(t[e],source[e]));return t}var m=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var w="FirebaseError",_=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,I.prototype.create),r}return r.__extends(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];for(var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?S(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new _(n,o),l=0,h=Object.keys(e);l<h.length;l++){var f=h[l];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=e[f])}return c},t}();function S(template,data){return template.replace(k,(function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"}))}var k=/\{\$([^}]+)}/g;function E(t){return JSON.parse(t)}var T=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=E(d(r[0])||""),e=E(d(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}};var A=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],l=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(l^h),c=1518500249):(o=b^l^h,c=1859775393):i<60?(o=b&l|h&(b|l),c=2400959708):(o=b^l^h,c=3395469782);r=(a<<5|a>>>27)+o+f+c+n[i]&4294967295;f=h,h=l,l=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function N(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=m,e.ErrorFactory=I,e.FirebaseError=_,e.Sha1=A,e.assert=c,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=f,e.base64Decode=d,e.base64Encode=function(t){var e=h(t);return f.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new D(t,e);return n.subscribe.bind(n)},e.decode=T,e.deepCopy=function(t){return v(void 0,t)},e.deepExtend=v,e.errorPrefix=C,e.getUA=y,e.isAdmin=function(t){var e=T(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return y().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return y().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=T(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=T(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},e.issuedAtTime=function(t){var e=T(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=E,e.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var c=o[r];n(c[0],c[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,c(i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(19))},117:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},h=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,l=c?input[i+2]:0,h=n>>2,f=(3&n)<<4|o>>4,d=(15&o)<<2|l>>6,v=63&l;c||(v=64,r||(d=64)),output.push(e[h],e[f],e[d],e[v])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(h(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{c=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,c=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var l=n<<2|r>>4;if(output.push(l),64!==o){var h=r<<4&240|o>>2;if(output.push(h),64!==c){var f=o<<6&192|c;output.push(f)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},d=function(t){try{return f.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=v(t[e],source[e]));return t}var m=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var w="FirebaseError",_=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,I.prototype.create),r}return r.__extends(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];for(var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?S(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new _(n,o),l=0,h=Object.keys(e);l<h.length;l++){var f=h[l];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=e[f])}return c},t}();function S(template,data){return template.replace(k,(function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"}))}var k=/\{\$([^}]+)}/g;function E(t){return JSON.parse(t)}var T=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=E(d(r[0])||""),e=E(d(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}};var A=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],l=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(l^h),c=1518500249):(o=b^l^h,c=1859775393):i<60?(o=b&l|h&(b|l),c=2400959708):(o=b^l^h,c=3395469782);r=(a<<5|a>>>27)+o+f+c+n[i]&4294967295;f=h,h=l,l=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function N(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=m,e.ErrorFactory=I,e.FirebaseError=_,e.Sha1=A,e.assert=c,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=f,e.base64Decode=d,e.base64Encode=function(t){var e=h(t);return f.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new D(t,e);return n.subscribe.bind(n)},e.decode=T,e.deepCopy=function(t){return v(void 0,t)},e.deepExtend=v,e.errorPrefix=C,e.getUA=y,e.isAdmin=function(t){var e=T(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return y().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return y().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=T(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=T(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},e.issuedAtTime=function(t){var e=T(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=E,e.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var c=o[r];n(c[0],c[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,c(i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(19))},119:function(t,e,n){"use strict";var r=n(3),o=n(1),c=n(0),l=n(2),h={props:{size:String,expanded:Boolean,loading:Boolean,rounded:Boolean,icon:String,iconPack:String,autocomplete:String,maxlength:[Number,String],useHtml5Validation:{type:Boolean,default:function(){return o.c.defaultUseHtml5Validation}},validationMessage:String},data:function(){return{isValid:!0,isFocused:!1,newIconPack:this.iconPack||o.c.defaultIconPack}},computed:{parentField:function(){for(var t=this.$parent,i=0;i<3;i++)t&&!t.$data._isField&&(t=t.$parent);return t},statusType:function(){if(this.parentField&&this.parentField.newType){if("string"==typeof this.parentField.newType)return this.parentField.newType;for(var t in this.parentField.newType)if(this.parentField.newType[t])return t}},statusMessage:function(){if(this.parentField)return this.parentField.newMessage},iconSize:function(){switch(this.size){case"is-small":return this.size;case"is-medium":return;case"is-large":return"mdi"===this.newIconPack?"is-medium":""}}},methods:{focus:function(){var t=this;void 0!==this.$data._elementRef&&this.$nextTick((function(){var e=t.$el.querySelector(t.$data._elementRef);e&&e.focus()}))},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t),this.checkHtml5Validity()},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},getElement:function(){return this.$el.querySelector(this.$data._elementRef)},setInvalid:function(){var t=this.validationMessage||this.getElement().validationMessage;this.setValidity("is-danger",t)},setValidity:function(t,e){var n=this;this.$nextTick((function(){n.parentField&&(n.parentField.type||(n.parentField.newType=t),n.parentField.message||(n.parentField.newMessage=e))}))},checkHtml5Validity:function(){if(this.useHtml5Validation&&void 0!==this.$refs[this.$data._elementRef])return this.getElement().checkValidity()?(this.setValidity(null,null),this.isValid=!0):(this.setInvalid(),this.isValid=!1),this.isValid}}},f={sizes:{default:"mdi-24px","is-small":null,"is-medium":"mdi-36px","is-large":"mdi-48px"},iconPrefix:"mdi-"},d=function(){var t=o.c&&o.c.defaultIconComponent?"":"fa-";return{sizes:{default:t+"lg","is-small":null,"is-medium":t+"2x","is-large":t+"3x"},iconPrefix:t,internalIcons:{information:"info-circle",alert:"exclamation-triangle","alert-circle":"exclamation-circle","chevron-right":"angle-right","chevron-left":"angle-left","chevron-down":"angle-down","eye-off":"eye-slash","menu-down":"caret-down","menu-up":"caret-up","close-circle":"times-circle"}}};const v={name:"BIcon",props:{type:[String,Object],component:String,pack:String,icon:String,size:String,customSize:String,customClass:String,both:Boolean},computed:{iconConfig:function(){var t;return(t={mdi:f,fa:d(),fas:d(),far:d(),fad:d(),fab:d(),fal:d()},o.c&&o.c.customIconPacks&&(t=Object(r.d)(t,o.c.customIconPacks,!0)),t)[this.newPack]},iconPrefix:function(){return this.iconConfig&&this.iconConfig.iconPrefix?this.iconConfig.iconPrefix:""},newIcon:function(){return"".concat(this.iconPrefix).concat(this.getEquivalentIconOf(this.icon))},newPack:function(){return this.pack||o.c.defaultIconPack},newType:function(){if(this.type){var t=[];if("string"==typeof this.type)t=this.type.split("-");else for(var e in this.type)if(this.type[e]){t=e.split("-");break}if(!(t.length<=1))return"has-text-".concat(t[1])}},newCustomSize:function(){return this.customSize||this.customSizeByPack},customSizeByPack:function(){if(this.iconConfig&&this.iconConfig.sizes){if(this.size&&void 0!==this.iconConfig.sizes[this.size])return this.iconConfig.sizes[this.size];if(this.iconConfig.sizes.default)return this.iconConfig.sizes.default}return null},useIconComponent:function(){return this.component||o.c.defaultIconComponent}},methods:{getEquivalentIconOf:function(t){return this.both&&this.iconConfig&&this.iconConfig.internalIcons&&this.iconConfig.internalIcons[t]?this.iconConfig.internalIcons[t]:t}}};const m=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon",class:[t.newType,t.size]},[t.useIconComponent?n(t.useIconComponent,{tag:"component",class:[t.customClass],attrs:{icon:[t.newPack,t.newIcon],size:t.newCustomSize}}):n("i",{class:[t.newPack,t.newIcon,t.newCustomSize,t.customClass]})],1)},staticRenderFns:[]},void 0,v,void 0,!1,void 0,!1,void 0,void 0,void 0);const y={name:"BInput",components:Object(l.a)({},m.name,m),mixins:[h],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},passwordReveal:Boolean,iconClickable:Boolean,hasCounter:{type:Boolean,default:function(){return o.c.defaultInputHasCounter}},customClass:{type:String,default:""},iconRight:String,iconRightClickable:Boolean},data:function(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||o.c.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},rootClasses:function(){return[this.iconPosition,this.size,{"is-expanded":this.expanded,"is-loading":this.loading,"is-clearfix":!this.hasMessage}]},inputClasses:function(){return[this.statusType,this.size,{"is-rounded":this.rounded}]},hasIconRight:function(){return this.passwordReveal||this.loading||this.statusTypeIcon||this.iconRight},rightIcon:function(){return this.passwordReveal?this.passwordVisibleIcon:this.statusTypeIcon?this.statusTypeIcon:this.iconRight},rightIconType:function(){return this.passwordReveal?"is-primary":this.statusTypeIcon?this.statusType:null},iconPosition:function(){return this.icon&&this.hasIconRight?"has-icons-left has-icons-right":!this.icon&&this.hasIconRight?"has-icons-right":this.icon?"has-icons-left":void 0},statusTypeIcon:function(){switch(this.statusType){case"is-success":return"check";case"is-danger":return"alert-circle";case"is-info":return"information";case"is-warning":return"alert"}},hasMessage:function(){return!!this.statusMessage},passwordVisibleIcon:function(){return this.isPasswordVisible?"eye-off":"eye"},valueLength:function(){return"string"==typeof this.computedValue?this.computedValue.length:"number"==typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value:function(t){this.newValue=t}},methods:{togglePasswordVisibility:function(){var t=this;this.isPasswordVisible=!this.isPasswordVisible,this.newType=this.isPasswordVisible?"text":"password",this.$nextTick((function(){t.$refs.input.focus()}))},onInput:function(t){var e=this;this.$nextTick((function(){t.target&&(e.computedValue=t.target.value)}))},iconClick:function(t,e){var n=this;this.$emit(t,e),this.$nextTick((function(){n.$refs.input.focus()}))},rightIconClick:function(t){this.passwordReveal?this.togglePasswordVisibility():this.iconRightClickable&&this.iconClick("icon-right-click",t)}}};const w=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:t.rootClasses},["textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"input",class:[t.inputClasses,t.customClass],attrs:{type:t.newType,autocomplete:t.newAutocomplete,maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"input",t.$attrs,!1)):n("textarea",t._b({ref:"textarea",staticClass:"textarea",class:[t.inputClasses,t.customClass],attrs:{maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"textarea",t.$attrs,!1)),t._v(" "),t.icon?n("b-icon",{staticClass:"is-left",class:{"is-clickable":t.iconClickable},attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize},nativeOn:{click:function(e){t.iconClick("icon-click",e)}}}):t._e(),t._v(" "),!t.loading&&t.hasIconRight?n("b-icon",{staticClass:"is-right",class:{"is-clickable":t.passwordReveal||t.iconRightClickable},attrs:{icon:t.rightIcon,pack:t.iconPack,size:t.iconSize,type:t.rightIconType,both:""},nativeOn:{click:function(e){return t.rightIconClick(e)}}}):t._e(),t._v(" "),t.maxlength&&t.hasCounter&&"number"!==t.type?n("small",{staticClass:"help counter",class:{"is-invisible":!t.isFocused}},[t._v("\r\n            "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\r\n        ")]):t._e()],1)},staticRenderFns:[]},void 0,y,void 0,!1,void 0,!1,void 0,void 0,void 0);const _={name:"BAutocomplete",components:Object(l.a)({},w.name,w),mixins:[h],inheritAttrs:!1,props:{value:[Number,String],data:{type:Array,default:function(){return[]}},field:{type:String,default:"value"},keepFirst:Boolean,clearOnSelect:Boolean,openOnFocus:Boolean,customFormatter:Function,checkInfiniteScroll:Boolean,keepOpen:Boolean,clearable:Boolean},data:function(){return{selected:null,hovered:null,isActive:!1,newValue:this.value,newAutocomplete:this.autocomplete||"off",isListInViewportVertically:!0,hasFocus:!1,_isAutocomplete:!0,_elementRef:"input"}},computed:{whiteList:function(){var t=[];if(t.push(this.$refs.input.$el.querySelector("input")),t.push(this.$refs.dropdown),void 0!==this.$refs.dropdown){var e=this.$refs.dropdown.querySelectorAll("*"),n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var h=c.value;t.push(h)}}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}if(this.$parent.$data._isTaginput){t.push(this.$parent.$el);var f=this.$parent.$el.querySelectorAll("*"),d=!0,v=!1,m=void 0;try{for(var y,w=f[Symbol.iterator]();!(d=(y=w.next()).done);d=!0){var _=y.value;t.push(_)}}catch(t){v=!0,m=t}finally{try{d||null==w.return||w.return()}finally{if(v)throw m}}}return t},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},clearButton:function(){return this.clearable&&this.newValue?"close-circle":""}},watch:{isActive:function(t){var e=this;t?this.calcDropdownInViewportVertical():(this.$nextTick((function(){return e.setHovered(null)})),setTimeout((function(){e.calcDropdownInViewportVertical()}),100))},newValue:function(t){this.$emit("input",t);var e=this.getValue(this.selected);e&&e!==t&&this.setSelected(null,!1),!this.hasFocus||this.openOnFocus&&!t||(this.isActive=!!t)},value:function(t){this.newValue=t,!this.isValid&&this.$refs.input.checkHtml5Validity()},data:function(t){this.keepFirst&&this.selectFirstOption(t)}},methods:{setHovered:function(option){void 0!==option&&(this.hovered=option)},setSelected:function(option){var t=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0!==option&&(this.selected=option,this.$emit("select",this.selected),null!==this.selected&&(this.newValue=this.clearOnSelect?"":this.getValue(this.selected)),e&&this.$nextTick((function(){t.isActive=!1})))},selectFirstOption:function(t){var e=this;this.$nextTick((function(){t.length?(e.openOnFocus||""!==e.newValue&&e.hovered!==t[0])&&e.setHovered(t[0]):e.setHovered(null)}))},enterPressed:function(){null!==this.hovered&&this.setSelected(this.hovered,!this.keepOpen)},tabPressed:function(){null!==this.hovered?this.setSelected(this.hovered,!this.keepOpen):this.isActive=!1},clickedOutside:function(t){this.whiteList.indexOf(t.target)<0&&(this.isActive=!1)},getValue:function(option){if(null!==option)return void 0!==this.customFormatter?this.customFormatter(option):"object"===Object(l.c)(option)?Object(r.a)(option,this.field):option},checkIfReachedTheEndOfScroll:function(t){t.clientHeight!==t.scrollHeight&&t.scrollTop+t.clientHeight>=t.scrollHeight&&this.$emit("infinite-scroll")},calcDropdownInViewportVertical:function(){var t=this;this.$nextTick((function(){if(void 0!==t.$refs.dropdown){var rect=t.$refs.dropdown.getBoundingClientRect();t.isListInViewportVertically=rect.top>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)}}))},keyArrows:function(t){var e="down"===t?1:-1;if(this.isActive){var n=this.data.indexOf(this.hovered)+e;n=(n=n>this.data.length-1?this.data.length:n)<0?0:n,this.setHovered(this.data[n]);var r=this.$refs.dropdown.querySelector(".dropdown-content"),element=r.querySelectorAll("a.dropdown-item:not(.is-disabled)")[n];if(!element)return;var o=r.scrollTop,c=r.scrollTop+r.clientHeight-element.clientHeight;element.offsetTop<o?r.scrollTop=element.offsetTop:element.offsetTop>=c&&(r.scrollTop=element.offsetTop-r.clientHeight+element.clientHeight)}else this.isActive=!0},focused:function(t){this.getValue(this.selected)===this.newValue&&this.$el.querySelector("input").select(),this.openOnFocus&&(this.isActive=!0,this.keepFirst&&this.selectFirstOption(this.data)),this.hasFocus=!0,this.$emit("focus",t)},onBlur:function(t){this.hasFocus=!1,this.$emit("blur",t)},onInput:function(t){var e=this.getValue(this.selected);e&&e===this.newValue||this.$emit("typing",this.newValue)},clearInputText:function(){this.newValue=""}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),window.addEventListener("resize",this.calcDropdownInViewportVertical))},mounted:function(){var t=this;if(this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){var e=this.$refs.dropdown.querySelector(".dropdown-content");e.addEventListener("scroll",(function(){return t.checkIfReachedTheEndOfScroll(e)}))}},beforeDestroy:function(){("undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),window.removeEventListener("resize",this.calcDropdownInViewportVertical)),this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content"))&&this.$refs.dropdown.querySelector(".dropdown-content").removeEventListener("scroll",this.checkIfReachedTheEndOfScroll)}};const I=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete control",class:{"is-expanded":t.expanded}},[n("b-input",t._b({ref:"input",attrs:{type:"text",size:t.size,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-right":t.clearButton,"icon-right-clickable":"","icon-pack":t.iconPack,maxlength:t.maxlength,autocomplete:t.newAutocomplete,"use-html5-validation":t.useHtml5Validation},on:{input:t.onInput,focus:t.focused,blur:t.onBlur,"icon-right-click":t.clearInputText},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault(),t.isActive=!1},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.tabPressed(e):null},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.enterPressed(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.keyArrows("up")},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.keyArrows("down")}]},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},"b-input",t.$attrs,!1)),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive&&(t.data.length>0||t.hasEmptySlot||t.hasHeaderSlot),expression:"isActive && (data.length > 0 || hasEmptySlot || hasHeaderSlot)"}],ref:"dropdown",staticClass:"dropdown-menu",class:{"is-opened-top":!t.isListInViewportVertically}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"dropdown-content"},[t.hasHeaderSlot?n("div",{staticClass:"dropdown-item"},[t._t("header")],2):t._e(),t._v(" "),t._l(t.data,(function(option,e){return n("a",{key:e,staticClass:"dropdown-item",class:{"is-hovered":option===t.hovered},on:{click:function(e){t.setSelected(option)}}},[t.hasDefaultSlot?t._t("default",null,{option:option,index:e}):n("span",[t._v("\r\n                            "+t._s(t.getValue(option,!0))+"\r\n                        ")])],2)})),t._v(" "),0===t.data.length&&t.hasEmptySlot?n("div",{staticClass:"dropdown-item is-disabled"},[t._t("empty")],2):t._e(),t._v(" "),t.hasFooterSlot?n("div",{staticClass:"dropdown-item"},[t._t("footer")],2):t._e()],2)])])],1)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);var S={install:function(t){Object(c.c)(t,I)}};Object(c.d)(S);var k=S;const E={name:"BButton",components:Object(l.a)({},m.name,m),inheritAttrs:!1,props:{type:[String,Object],size:String,label:String,iconPack:String,iconLeft:String,iconRight:String,rounded:{type:Boolean,default:function(){return o.c.defaultButtonRounded}},loading:Boolean,outlined:Boolean,expanded:Boolean,inverted:Boolean,focused:Boolean,active:Boolean,hovered:Boolean,selected:Boolean,nativeType:{type:String,default:"button",validator:function(t){return["button","submit","reset"].indexOf(t)>=0}},tag:{type:String,default:"button",validator:function(t){return o.c.defaultLinkTags.indexOf(t)>=0}}},computed:{computedTag:function(){return void 0!==this.$attrs.disabled&&!1!==this.$attrs.disabled?"button":this.tag},iconSize:function(){return this.size&&"is-medium"!==this.size?"is-large"===this.size?"is-medium":this.size:"is-small"}}};const T=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.computedTag,t._g(t._b({tag:"component",staticClass:"button",class:[t.size,t.type,{"is-rounded":t.rounded,"is-loading":t.loading,"is-outlined":t.outlined,"is-fullwidth":t.expanded,"is-inverted":t.inverted,"is-focused":t.focused,"is-active":t.active,"is-hovered":t.hovered,"is-selected":t.selected}],attrs:{type:t.nativeType}},"component",t.$attrs,!1),t.$listeners),[t.iconLeft?n("b-icon",{attrs:{pack:t.iconPack,icon:t.iconLeft,size:t.iconSize}}):t._e(),t._v(" "),t.label?n("span",[t._v(t._s(t.label))]):n("span",[t._t("default")],2),t._v(" "),t.iconRight?n("b-icon",{attrs:{pack:t.iconPack,icon:t.iconRight,size:t.iconSize}}):t._e()],1)},staticRenderFns:[]},void 0,E,void 0,!1,void 0,!1,void 0,void 0,void 0);var A={install:function(t){Object(c.c)(t,T)}};Object(c.d)(A);var D=A;const N={name:"BCarousel",components:Object(l.a)({},m.name,m),props:{value:{type:Number,default:0},animated:{type:String,default:"slide"},interval:Number,hasDrag:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!0},pauseHover:{type:Boolean,default:!0},pauseInfo:{type:Boolean,default:!0},pauseInfoType:{type:String,default:"is-white"},pauseText:{type:String,default:"Pause"},arrow:{type:Boolean,default:!0},arrowBoth:{type:Boolean,default:!0},arrowHover:{type:Boolean,default:!0},repeat:{type:Boolean,default:!0},iconPack:String,iconSize:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},indicator:{type:Boolean,default:!0},indicatorBackground:Boolean,indicatorCustom:Boolean,indicatorCustomSize:{type:String,default:"is-small"},indicatorInside:{type:Boolean,default:!0},indicatorMode:{type:String,default:"click"},indicatorPosition:{type:String,default:"is-bottom"},indicatorStyle:{type:String,default:"is-dots"},overlay:Boolean,progress:Boolean,progressType:{type:String,default:"is-primary"},withCarouselList:Boolean},data:function(){return{_isCarousel:!0,activeItem:this.value,carouselItems:[],isPause:!1,dragX:0,timer:null}},computed:{indicatorClasses:function(){return[{"has-background":this.indicatorBackground,"has-custom":this.indicatorCustom,"is-inside":this.indicatorInside},this.indicatorCustom&&this.indicatorCustomSize,this.indicatorInside&&this.indicatorPosition]}},watch:{value:function(t){t<this.activeItem?this.changeItem(t):this.changeItem(t,!1)},carouselItems:function(){this.activeItem<this.carouselItems.length&&(this.carouselItems[this.activeItem].isActive=!0)},autoplay:function(t){t?this.startTimer():this.pauseTimer()}},methods:{startTimer:function(){var t=this;this.autoplay&&!this.timer&&(this.isPause=!1,this.timer=setInterval((function(){t.repeat||t.activeItem!==t.carouselItems.length-1?t.next():t.pauseTimer()}),this.interval||o.c.defaultCarouselInterval))},pauseTimer:function(){this.isPause=!0,this.timer&&(clearInterval(this.timer),this.timer=null)},checkPause:function(){if(this.pauseHover&&this.autoplay)return this.pauseTimer()},changeItem:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.activeItem!==t&&(this.activeItem<this.carouselItems.length&&this.carouselItems[this.activeItem].status(!1,e),this.carouselItems[t].status(!0,e),this.activeItem=t,this.$emit("change",t))},modeChange:function(t,e){if(this.indicatorMode===t)return this.$emit("input",e),e<this.activeItem?this.changeItem(e):this.changeItem(e,!1)},prev:function(){0===this.activeItem?this.repeat&&this.changeItem(this.carouselItems.length-1):this.changeItem(this.activeItem-1)},next:function(){this.activeItem===this.carouselItems.length-1?this.repeat&&this.changeItem(0,!1):this.changeItem(this.activeItem+1,!1)},checkArrow:function(t){return!!this.arrowBoth||(this.activeItem!==t||void 0)},dragStart:function(t){this.hasDrag&&(this.dragx=t.touches?t.changedTouches[0].pageX:t.pageX,t.touches?this.pauseTimer():t.preventDefault())},dragEnd:function(t){if(this.hasDrag){var e=(t.touches?t.changedTouches[0].pageX:t.pageX)-this.dragx;Math.abs(e)>50&&(e<0?this.next():this.prev()),t.touches&&this.startTimer()}}},mounted:function(){this.activeItem<this.carouselItems.length&&(this.carouselItems[this.activeItem].isActive=!0),this.startTimer()},beforeDestroy:function(){this.pauseTimer()}};const C=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel",class:{"is-overlay":t.overlay},on:{mouseenter:t.pauseTimer,mouseleave:t.startTimer}},[t.progress?n("progress",{staticClass:"progress",class:t.progressType,attrs:{max:t.carouselItems.length-1},domProps:{value:t.activeItem}},[t._v("\r\n            "+t._s(t.carouselItems.length-1)+"\r\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"carousel-items",on:{mousedown:t.dragStart,mouseup:t.dragEnd,touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchend:function(e){return e.stopPropagation(),t.dragEnd(e)}}},[t._t("default"),t._v(" "),t.arrow?n("div",{staticClass:"carousel-arrow",class:{"is-hovered":t.arrowHover}},[t.checkArrow(0)?n("b-icon",{staticClass:"has-icons-left",attrs:{pack:t.iconPack,icon:t.iconPrev,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.prev(e)}}}):t._e(),t._v(" "),t.checkArrow(t.carouselItems.length-1)?n("b-icon",{staticClass:"has-icons-right",attrs:{pack:t.iconPack,icon:t.iconNext,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.next(e)}}}):t._e()],1):t._e()],2),t._v(" "),t.autoplay&&t.pauseHover&&t.pauseInfo&&t.isPause?n("div",{staticClass:"carousel-pause"},[n("span",{staticClass:"tag",class:t.pauseInfoType},[t._v("\r\n                "+t._s(t.pauseText)+"\r\n            ")])]):t._e(),t._v(" "),t.withCarouselList&&!t.indicator?[t._t("list",null,{active:t.activeItem,switch:t.changeItem})]:t._e(),t._v(" "),t.indicator?n("div",{staticClass:"carousel-indicator",class:t.indicatorClasses},t._l(t.carouselItems,(function(e,r){return n("a",{key:r,staticClass:"indicator-item",class:{"is-active":r===t.activeItem},on:{mouseover:function(e){t.modeChange("hover",r)},click:function(e){t.modeChange("click",r)}}},[t._t("indicators",[n("span",{staticClass:"indicator-style",class:t.indicatorStyle})],{i:r})],2)}))):t._e(),t._v(" "),t.overlay?[t._t("overlay")]:t._e()],2)},staticRenderFns:[]},void 0,N,void 0,!1,void 0,!1,void 0,void 0,void 0);const O={name:"BCarouselItem",data:function(){return{isActive:!1,transitionName:null}},computed:{transition:function(){return"fade"===this.$parent.animated?"fade":this.transitionName}},methods:{status:function(t,e){this.transitionName=e?"slide-next":"slide-prev",this.isActive=t}},created:function(){if(!this.$parent.$data._isCarousel)throw this.$destroy(),new Error("You should wrap bCarouselItem on a bCarousel");this.$parent.carouselItems.push(this)},beforeDestroy:function(){var t=this.$parent.carouselItems.indexOf(this);t>=0&&this.$parent.carouselItems.splice(t,1)}};const x=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:this.transition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isActive,expression:"isActive"}],staticClass:"carousel-item"},[this._t("default")],2)])},staticRenderFns:[]},void 0,O,void 0,!1,void 0,!1,void 0,void 0,void 0);const P={name:"BCarouselList",components:Object(l.a)({},m.name,m),props:{config:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}},value:{type:Number,default:0},hasDrag:{type:Boolean,default:!0},hasGrayscale:Boolean,hasOpacity:Boolean,repeat:Boolean,itemsToShow:{type:Number,default:4},itemsToList:{type:Number,default:1},asIndicator:Boolean,arrow:{type:Boolean,default:!0},arrowHover:{type:Boolean,default:!0},iconPack:String,iconSize:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},refresh:Boolean},data:function(){return{activeItem:this.value,breakpoints:{},delta:0,dragging:!1,hold:0,itemWidth:0,total:0,settings:{}}},computed:{listClass:function(){return[{"has-grayscale":this.settings.hasGrayscale||this.hasGrayscale,"has-opacity":this.settings.hasOpacity||this.hasOpacity,"is-dragging":this.dragging}]},itemStyle:function(){return"width: ".concat(this.itemWidth,"px;")},transformStyle:function(){var t=this.delta+this.activeItem*this.itemWidth*1,e=this.dragging?-t:-Math.abs(t);return"transform: translateX(".concat(e,"px);")}},watch:{value:function(t){this.switchTo(t)},refresh:function(t){t&&this.asIndicator&&this.getWidth()}},methods:{initConfig:function(){this.breakpoints=this.config.breakpoints,this.settings=Object(r.d)(this.$props,this.config,!0)},getWidth:function(){var rect=this.$el.getBoundingClientRect();this.itemWidth=rect.width/this.settings.itemsToShow},update:function(){this.breakpoints&&this.updateConfig(),this.getWidth()},updateConfig:function(){var t,e=this;Object.keys(this.breakpoints).sort((function(a,b){return b-a})).some((function(n){if(t=window.matchMedia("(min-width: ".concat(n,"px)")).matches)return e.settings=e.config.breakpoints[n],!0})),t||(this.settings=this.config)},switchTo:function(t){if(!(t<0||this.activeItem===t||!this.repeat&&t>this.total)){var e=this.repeat&&t>this.total?0:t;this.activeItem=e,this.$emit("switch",e)}},next:function(){this.switchTo(this.activeItem+this.itemsToList)},prev:function(){this.switchTo(this.activeItem-this.itemsToList)},checkArrow:function(t){if(this.repeat||this.activeItem!==t)return!0},checkAsIndicator:function(t,e){if(this.asIndicator){var n=(new Date).getTime();!e.touches&&n-this.hold>200||this.switchTo(t)}},dragStart:function(t){!this.hasDrag||0!==t.button&&"touchstart"!==t.type||(this.hold=(new Date).getTime(),this.dragging=!0,this.dragStartX=t.touches?t.touches[0].clientX:t.clientX,window.addEventListener(t.touches?"touchmove":"mousemove",this.dragMove),window.addEventListener(t.touches?"touchend":"mouseup",this.dragEnd))},dragMove:function(t){this.dragEndX=t.touches?t.touches[0].clientX:t.clientX;var e=this.dragEndX-this.dragStartX;this.delta=e<0?Math.abs(e):-Math.abs(e),t.touches||t.preventDefault()},dragEnd:function(t){var e=1*Object(r.g)(this.delta),n=Math.round(Math.abs(this.delta/this.itemWidth)+.15);this.switchTo(this.activeItem+e*n),this.dragging=!1,this.delta=0,window.removeEventListener(t.touches?"touchmove":"mousemove",this.dragMove),window.removeEventListener(t.touches?"touchend":"mouseup",this.dragEnd)}},created:function(){this.initConfig(),"undefined"!=typeof window&&window.addEventListener("resize",this.update)},mounted:function(){var t=this;this.total=this.data.length-1,this.$nextTick((function(){t.update()}))},beforeDestroy:function(){window.removeEventListener("resize",this.update)}};const R=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-list",class:{"has-shadow":t.activeItem>0},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.dragStart(e)},touchstart:t.dragStart}},[n("div",{staticClass:"carousel-slides",class:t.listClass,style:t.transformStyle},t._l(t.data,(function(e,r){return n("div",{key:r,staticClass:"carousel-slide",class:{"is-active":t.activeItem===r},style:t.itemStyle,on:{click:function(e){e.preventDefault(),t.checkAsIndicator(r,e)}}},[t._t("item",[n("figure",{staticClass:"image"},[n("img",{attrs:{src:e.image,title:e.title}})])],{list:e,index:r,active:t.activeItem})],2)}))),t._v(" "),t.arrow?n("div",{staticClass:"carousel-arrow",class:{"is-hovered":t.arrowHover}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.activeItem>0,expression:"activeItem > 0"}],staticClass:"has-icons-left",attrs:{pack:t.iconPack,icon:t.iconPrev,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.prev(e)}}}),t._v(" "),n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.checkArrow(t.total),expression:"checkArrow(total)"}],staticClass:"has-icons-right",attrs:{pack:t.iconPack,icon:t.iconNext,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.next(e)}}})],1):t._e()])},staticRenderFns:[]},void 0,P,void 0,!1,void 0,!1,void 0,void 0,void 0);var M={install:function(t){Object(c.c)(t,C),Object(c.c)(t,x),Object(c.c)(t,R)}};Object(c.d)(M);var L=M,j={props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],type:String,disabled:Boolean,required:Boolean,name:String,size:String},data:function(){return{newValue:this.value}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}};const V={name:"BCheckbox",mixins:[j],props:{indeterminate:Boolean,trueValue:{type:[String,Number,Boolean,Function,Object,Array],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array],default:!1}}};const B=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"b-checkbox checkbox",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,required:t.required,name:t.name,"true-value":t.trueValue,"false-value":t.falseValue},domProps:{indeterminate:t.indeterminate,value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,o=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var c=t.nativeValue,l=t._i(n,c);r.checked?l<0&&(t.computedValue=n.concat([c])):l>-1&&(t.computedValue=n.slice(0,l).concat(n.slice(l+1)))}else t.computedValue=o}}}),t._v(" "),n("span",{staticClass:"check",class:t.type}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,V,void 0,!1,void 0,!1,void 0,void 0,void 0);const F={name:"BCheckboxButton",mixins:[j],props:{type:{type:String,default:"is-primary"},expanded:Boolean},data:function(){return{isFocused:!1}},computed:{checked:function(){return Array.isArray(this.newValue)?this.newValue.indexOf(this.nativeValue)>=0:this.newValue===this.nativeValue}}};const U=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[n("label",{ref:"label",staticClass:"b-checkbox checkbox button",class:[t.checked?t.type:null,t.size,{"is-disabled":t.disabled,"is-focused":t.isFocused}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[t._t("default"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t.computedValue},on:{click:function(t){t.stopPropagation()},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},change:function(e){var n=t.computedValue,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t.nativeValue,l=t._i(n,c);r.checked?l<0&&(t.computedValue=n.concat([c])):l>-1&&(t.computedValue=n.slice(0,l).concat(n.slice(l+1)))}else t.computedValue=o}}})],2)])},staticRenderFns:[]},void 0,F,void 0,!1,void 0,!1,void 0,void 0,void 0);var $={install:function(t){Object(c.c)(t,B),Object(c.c)(t,U)}};Object(c.d)($);var H=$;const z={name:"BCollapse",props:{open:{type:Boolean,default:!0},animation:{type:String,default:"fade"},ariaId:{type:String,default:""},position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom"].indexOf(t)>-1}}},data:function(){return{isOpen:this.open}},watch:{open:function(t){this.isOpen=t}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit("update:open",this.isOpen),this.$emit(this.isOpen?"open":"close")}},render:function(t){var e=t("div",{staticClass:"collapse-trigger",on:{click:this.toggle}},this.$scopedSlots.trigger?[this.$scopedSlots.trigger({open:this.isOpen})]:[this.$slots.trigger]),content=t("transition",{props:{name:this.animation}},[t("div",{staticClass:"collapse-content",attrs:{id:this.ariaId,"aria-expanded":this.isOpen},directives:[{name:"show",value:this.isOpen}]},this.$slots.default)]);return t("div",{staticClass:"collapse"},"is-top"===this.position?[e,content]:[content,e])}},G=Object(c.a)({},void 0,z,void 0,void 0,void 0,!1,void 0,void 0,void 0);var W={install:function(t){Object(c.c)(t,G)}};Object(c.d)(W);var Y,K=W,X="AM",J="PM",Q={mixins:[h],inheritAttrs:!1,props:{value:Date,inline:Boolean,minTime:Date,maxTime:Date,placeholder:String,editable:Boolean,disabled:Boolean,hourFormat:{type:String,default:"24",validator:function(t){return"24"===t||"12"===t}},incrementHours:{type:Number,default:1},incrementMinutes:{type:Number,default:1},incrementSeconds:{type:Number,default:1},timeFormatter:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultTimeFormatter?o.c.defaultTimeFormatter(t):function(t,e){var n=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),c="";return"12"===e.hourFormat&&(c=" "+(n<12?X:J),n>12?n-=12:0===n&&(n=12)),e.pad(n)+":"+e.pad(r)+(e.enableSeconds?":"+e.pad(o):"")+c}(t,e)}},timeParser:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultTimeParser?o.c.defaultTimeParser(t):function(t,e){if(t){var n=!1;if("12"===e.hourFormat){var r=t.split(" ");t=r[0],n=r[1]===X}var time=t.split(":"),o=parseInt(time[0],10),c=parseInt(time[1],10),l=e.enableSeconds?parseInt(time[2],10):0;if(isNaN(o)||o<0||o>23||"12"===e.hourFormat&&(o<1||o>12)||isNaN(c)||c<0||c>59)return null;var h=null;return e.computedValue&&!isNaN(e.computedValue)?h=new Date(e.computedValue):(h=e.timeCreator()).setMilliseconds(0),h.setSeconds(l),h.setMinutes(c),"12"===e.hourFormat&&(n&&12===o?o=0:n||12===o||(o+=12)),h.setHours(o),new Date(h.getTime())}return null}(t,e)}},mobileNative:{type:Boolean,default:function(){return o.c.defaultTimepickerMobileNative}},timeCreator:{type:Function,default:function(){return"function"==typeof o.c.defaultTimeCreator?o.c.defaultTimeCreator():new Date}},position:String,unselectableTimes:Array,openOnFocus:Boolean,enableSeconds:Boolean,defaultMinutes:Number,defaultSeconds:Number,focusable:{type:Boolean,default:!0},tzOffset:{type:Number,default:0}},data:function(){return{dateSelected:this.value,hoursSelected:null,minutesSelected:null,secondsSelected:null,meridienSelected:null,_elementRef:"input",AM:X,PM:J,HOUR_FORMAT_24:"24",HOUR_FORMAT_12:"12"}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(t){this.dateSelected=t,this.$emit("input",this.dateSelected)}},hours:function(){if(!this.incrementHours||this.incrementHours<1)throw new Error("Hour increment cannot be null or less than 1.");for(var t=[],e=this.isHourFormat24?24:12,i=0;i<e;i+=this.incrementHours){var n=i,label=n;this.isHourFormat24||(label=n=i+1,this.meridienSelected===this.AM?12===n&&(n=0):this.meridienSelected===this.PM&&12!==n&&(n+=12)),t.push({label:this.formatNumber(label),value:n})}return t},minutes:function(){if(!this.incrementMinutes||this.incrementMinutes<1)throw new Error("Minute increment cannot be null or less than 1.");for(var t=[],i=0;i<60;i+=this.incrementMinutes)t.push({label:this.formatNumber(i,!0),value:i});return t},seconds:function(){if(!this.incrementSeconds||this.incrementSeconds<1)throw new Error("Second increment cannot be null or less than 1.");for(var t=[],i=0;i<60;i+=this.incrementSeconds)t.push({label:this.formatNumber(i,!0),value:i});return t},meridiens:function(){return[X,J]},isMobile:function(){return this.mobileNative&&r.c.any()},isHourFormat24:function(){return"24"===this.hourFormat}},watch:{hourFormat:function(){null!==this.hoursSelected&&(this.meridienSelected=this.hoursSelected>=12?J:X)},value:{handler:function(t){this.updateInternalState(t),!this.isValid&&this.$refs.input.checkHtml5Validity()},immediate:!0}},methods:{onMeridienChange:function(t){null!==this.hoursSelected&&(t===J?this.hoursSelected+=12:t===X&&(this.hoursSelected-=12)),this.updateDateSelected(this.hoursSelected,this.minutesSelected,this.enableSeconds?this.secondsSelected:0,t)},onHoursChange:function(t){this.minutesSelected||void 0===this.defaultMinutes||(this.minutesSelected=this.defaultMinutes),this.secondsSelected||void 0===this.defaultSeconds||(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(parseInt(t,10),this.minutesSelected,this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onMinutesChange:function(t){!this.secondsSelected&&this.defaultSeconds&&(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(this.hoursSelected,parseInt(t,10),this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onSecondsChange:function(t){this.updateDateSelected(this.hoursSelected,this.minutesSelected,parseInt(t,10),this.meridienSelected)},updateDateSelected:function(t,e,n,r){if(null!=t&&null!=e&&(!this.isHourFormat24&&null!==r||this.isHourFormat24)){var time=null;this.computedValue&&!isNaN(this.computedValue)?time=new Date(this.computedValue):(time=this.timeCreator()).setMilliseconds(0),time.setHours(t),time.setMinutes(e),time.setSeconds(n),this.computedValue=new Date(time.getTime())}},updateInternalState:function(t){t?(this.hoursSelected=t.getHours(),this.minutesSelected=t.getMinutes(),this.secondsSelected=t.getSeconds(),this.meridienSelected=t.getHours()>=12?J:X):(this.hoursSelected=null,this.minutesSelected=null,this.secondsSelected=null,this.meridienSelected=X),this.dateSelected=t},isHourDisabled:function(t){var e=this,n=!1;if(this.minTime){var r=this.minTime.getHours(),o=this.minutes.every((function(n){return e.isMinuteDisabledForHour(t,n.value)}));n=t<r||o}if(this.maxTime&&!n){var c=this.maxTime.getHours();n=t>c}this.unselectableTimes&&(n||(n=this.unselectableTimes.filter((function(time){return e.enableSeconds&&null!==e.secondsSelected?time.getHours()===t&&time.getMinutes()===e.minutesSelected&&time.getSeconds()===e.secondsSelected:null!==e.minutesSelected?time.getHours()===t&&time.getMinutes()===e.minutesSelected:time.getHours()===t})).length>0));return n},isMinuteDisabledForHour:function(t,e){var n=!1;if(this.minTime){var r=this.minTime.getHours(),o=this.minTime.getMinutes();n=t===r&&e<o}if(this.maxTime&&!n){var c=this.maxTime.getHours(),l=this.maxTime.getMinutes();n=t===c&&e>l}return n},isMinuteDisabled:function(t){var e=this,n=!1;null!==this.hoursSelected&&(n=!!this.isHourDisabled(this.hoursSelected)||this.isMinuteDisabledForHour(this.hoursSelected,t),this.unselectableTimes&&(n||(n=this.unselectableTimes.filter((function(time){return e.enableSeconds&&null!==e.secondsSelected?time.getHours()===e.hoursSelected&&time.getMinutes()===t&&time.getSeconds()===e.secondsSelected:time.getHours()===e.hoursSelected&&time.getMinutes()===t})).length>0)));return n},isSecondDisabled:function(t){var e=this,n=!1;if(null!==this.minutesSelected){if(this.isMinuteDisabled(this.minutesSelected))n=!0;else{if(this.minTime){var r=this.minTime.getHours(),o=this.minTime.getMinutes(),c=this.minTime.getSeconds();n=this.hoursSelected===r&&this.minutesSelected===o&&t<c}if(this.maxTime&&!n){var l=this.maxTime.getHours(),h=this.maxTime.getMinutes(),f=this.maxTime.getSeconds();n=this.hoursSelected===l&&this.minutesSelected===h&&t>f}}if(this.unselectableTimes)if(!n)n=this.unselectableTimes.filter((function(time){return time.getHours()===e.hoursSelected&&time.getMinutes()===e.minutesSelected&&time.getSeconds()===t})).length>0}return n},onChange:function(t){var e=this.timeParser(t,this);this.updateInternalState(e),e&&!isNaN(e)?this.computedValue=e:(this.computedValue=null,this.$refs.input.newValue=this.computedValue)},toggle:function(t){this.$refs.dropdown&&(this.$refs.dropdown.isActive="boolean"==typeof t?t:!this.$refs.dropdown.isActive)},close:function(){this.toggle(!1)},handleOnFocus:function(){this.onFocus(),this.openOnFocus&&this.toggle(!0)},formatHHMMSS:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return this.formatNumber(n,!0)+":"+this.formatNumber(r,!0)+":"+this.formatNumber(o,!0)}return""},onChangeNativePicker:function(t){var e=t.target.value;if(e){var time=null;this.computedValue&&!isNaN(this.computedValue)?time=new Date(this.computedValue):(time=new Date).setMilliseconds(0);var n=e.split(":");time.setHours(parseInt(n[0],10)),time.setMinutes(parseInt(n[1],10)),time.setSeconds(n[2]?parseInt(n[2],10):0),this.computedValue=new Date(time.getTime())}else this.computedValue=null},formatNumber:function(t,e){return this.isHourFormat24||e?this.pad(t):t},pad:function(t){return(t<10?"0":"")+t},formatValue:function(t){return t&&!isNaN(t)?this.timeFormatter(t,this):null},keyPress:function(t){this.$refs.dropdown&&this.$refs.dropdown.isActive&&27===t.keyCode&&this.toggle(!1)},onActiveChange:function(t){t||this.onBlur()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}},Z={bind:function(t,e){var element,n=e.value;if(void 0===n||n){var r=(element=t)?element.querySelectorAll("a[href],\n                                     area[href],\n                                     input:not([disabled]),\n                                     select:not([disabled]),\n                                     textarea:not([disabled]),\n                                     button:not([disabled]),\n                                     iframe,\n                                     object,\n                                     embed,\n                                     *[tabindex],\n                                     *[contenteditable]"):null;if(r&&r.length>0){var o=r[0],c=r[r.length-1];Y=function(t){t.target===o&&t.shiftKey&&"Tab"===t.key?(t.preventDefault(),c.focus()):t.target!==c||t.shiftKey||"Tab"!==t.key||(t.preventDefault(),o.focus())},t.addEventListener("keydown",Y)}}},unbind:function(t){t.removeEventListener("keydown",Y)}},tt=["escape","outside"];const et={name:"BDropdown",directives:{trapFocus:Z},props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,hoverable:Boolean,inline:Boolean,position:{type:String,validator:function(t){return["is-top-right","is-top-left","is-bottom-left"].indexOf(t)>-1}},mobileModal:{type:Boolean,default:function(){return o.c.defaultDropdownMobileModal}},ariaRole:{type:String,default:""},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean},data:function(){return{selected:this.value,isActive:!1,isHoverable:this.hoverable,_isDropdown:!0}},computed:{rootClasses:function(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded}]},isMobileModal:function(){return this.mobileModal&&!this.inline&&!this.hoverable},cancelOptions:function(){return"boolean"==typeof this.canClose?this.canClose?tt:[]:this.canClose},ariaRoleMenu:function(){return"menu"===this.ariaRole||"list"===this.ariaRole?this.ariaRole:null}},watch:{value:function(t){this.selected=t},isActive:function(t){this.$emit("active-change",t)}},methods:{selectItem:function(t){if(this.multiple){if(this.selected){var e=this.selected.indexOf(t);-1===e?this.selected.push(t):this.selected.splice(e,1)}else this.selected=[t];this.$emit("change",this.selected)}else this.selected!==t&&(this.selected=t,this.$emit("change",this.selected));this.$emit("input",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1))},isInWhiteList:function(t){if(t===this.$refs.dropdownMenu)return!0;if(t===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu){var e=this.$refs.dropdownMenu.querySelectorAll("*"),n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){if(t===c.value)return!0}}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}if(void 0!==this.$refs.trigger){var h=this.$refs.trigger.querySelectorAll("*"),f=!0,d=!1,v=void 0;try{for(var m,y=h[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){if(t===m.value)return!0}}catch(t){d=!0,v=t}finally{try{f||null==y.return||y.return()}finally{if(d)throw v}}}return!1},clickedOutside:function(t){this.cancelOptions.indexOf("outside")<0||this.inline||this.isInWhiteList(t.target)||(this.isActive=!1)},keyPress:function(t){if(this.isActive&&27===t.keyCode){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},toggle:function(){var t=this;this.disabled||(this.isActive?this.isActive=!this.isActive:this.$nextTick((function(){var e=!t.isActive;t.isActive=e,setTimeout((function(){return t.isActive=e}))})))},checkHoverable:function(){this.hoverable&&(this.isHoverable=!0)}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress))}};const nt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown",class:t.rootClasses},[t.inline?t._e():n("div",{ref:"trigger",staticClass:"dropdown-trigger",attrs:{role:"button","aria-haspopup":"true"},on:{click:t.toggle,mouseenter:t.checkHoverable}},[t._t("trigger",null,{active:t.isActive})],2),t._v(" "),n("transition",{attrs:{name:t.animation}},[t.isMobileModal?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"background",attrs:{"aria-hidden":!t.isActive}}):t._e()]),t._v(" "),n("transition",{attrs:{name:t.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&(t.isActive||t.isHoverable)||t.inline,expression:"(!disabled && (isActive || isHoverable)) || inline"},{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{"aria-hidden":!t.isActive}},[n("div",{staticClass:"dropdown-content",attrs:{role:t.ariaRoleMenu}},[t._t("default")],2)])])],1)},staticRenderFns:[]},void 0,et,void 0,!1,void 0,!1,void 0,void 0,void 0);const it={name:"BDropdownItem",props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses:function(){return{"is-disabled":this.$parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses:function(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem:function(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable:function(){return!(this.$parent.disabled||this.separator||this.disabled||this.custom)},isActive:function(){return null!==this.$parent.selected&&(this.$parent.multiple?this.$parent.selected.indexOf(this.value)>=0:this.value===this.$parent.selected)}},methods:{selectItem:function(){this.isClickable&&(this.$parent.selectItem(this.value),this.$emit("click"))}},created:function(){if(!this.$parent.$data._isDropdown)throw this.$destroy(),new Error("You should wrap bDropdownItem on a bDropdown")}};const ot=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.separator?n("hr",{staticClass:"dropdown-divider"}):t.custom||t.hasLink?n("div",{class:t.itemClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2):n("a",{staticClass:"dropdown-item",class:t.anchorClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2)},staticRenderFns:[]},void 0,it,void 0,!1,void 0,!1,void 0,void 0,void 0);const st={name:"BFieldBody",props:{message:{type:String},type:{type:[String,Object]}},render:function(t){var e=this;return t("div",{attrs:{class:"field-body"}},this.$slots.default.map((function(element){return element.tag?e.message?t("b-field",{attrs:{message:e.message,type:e.type}},[element]):t("b-field",{attrs:{type:e.type}},[element]):element})))}},at=Object(c.a)({},void 0,st,void 0,void 0,void 0,!1,void 0,void 0,void 0);const ut={name:"BField",components:Object(l.a)({},at.name,at),props:{type:[String,Object],label:String,labelFor:String,message:[String,Array,Object],grouped:Boolean,groupMultiline:Boolean,position:String,expanded:Boolean,horizontal:Boolean,addons:{type:Boolean,default:!0},customClass:String,labelPosition:{type:String,default:function(){return o.c.defaultFieldLabelPosition}}},data:function(){return{newType:this.type,newMessage:this.message,fieldLabelSize:null,_isField:!0}},computed:{rootClasses:function(){return[this.newPosition,{"is-expanded":this.expanded,"is-grouped-multiline":this.groupMultiline,"is-horizontal":this.horizontal,"is-floating-in-label":this.hasLabel&&!this.horizontal&&"inside"===this.labelPosition,"is-floating-label":this.hasLabel&&!this.horizontal&&"on-border"===this.labelPosition},this.numberInputClasses]},newPosition:function(){if(void 0!==this.position){var t=this.position.split("-");if(!(t.length<1)){var e=this.grouped?"is-grouped-":"has-addons-";return this.position?e+t[1]:void 0}}},formattedMessage:function(){if("string"==typeof this.newMessage)return this.newMessage;var t=[];if(Array.isArray(this.newMessage))this.newMessage.forEach((function(e){if("string"==typeof e)t.push(e);else for(var n in e)e[n]&&t.push(n)}));else for(var e in this.newMessage)this.newMessage[e]&&t.push(e);return t.filter((function(t){if(t)return t})).join(" <br> ")},hasLabel:function(){return this.label||this.$slots.label},numberInputClasses:function(){if(this.$slots.default){var t=this.$slots.default.filter((function(t){return t.tag&&t.tag.toLowerCase().indexOf("numberinput")>=0}))[0];if(t){var e=["has-numberinput"],n=t.componentOptions.propsData.controlsPosition,r=t.componentOptions.propsData.size;return n&&e.push("has-numberinput-".concat(n)),r&&e.push("has-numberinput-".concat(r)),e}}return null}},watch:{type:function(t){this.newType=t},message:function(t){this.newMessage=t}},methods:{fieldType:function(){if(this.grouped)return"is-grouped";var t=0;return this.$slots.default&&(t=this.$slots.default.reduce((function(i,t){return t.tag?i+1:i}),0)),t>1&&this.addons&&!this.horizontal?"has-addons":void 0}},mounted:function(){this.horizontal&&(this.$el.querySelectorAll(".input, .select, .button, .textarea, .b-slider").length>0&&(this.fieldLabelSize="is-normal"))}};const ct=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field",class:[t.rootClasses,t.fieldType()]},[t.horizontal?n("div",{staticClass:"field-label",class:[t.customClass,t.fieldLabelSize]},[t.hasLabel?n("label",{staticClass:"label",class:t.customClass,attrs:{for:t.labelFor}},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2):t._e()]):[t.hasLabel?n("label",{staticClass:"label",class:t.customClass,attrs:{for:t.labelFor}},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2):t._e()],t._v(" "),t.horizontal?n("b-field-body",{attrs:{message:t.newMessage?t.formattedMessage:"",type:t.newType}},[t._t("default")],2):[t._t("default")],t._v(" "),t.newMessage&&!t.horizontal?n("p",{staticClass:"help",class:t.newType,domProps:{innerHTML:t._s(t.formattedMessage)}}):t._e()],2)},staticRenderFns:[]},void 0,ut,void 0,!1,void 0,!1,void 0,void 0,void 0);const lt={name:"BClockpickerFace",props:{pickerSize:Number,min:Number,max:Number,double:Boolean,value:Number,faceNumbers:Array,disabledValues:Function},data:function(){return{isDragging:!1,inputValue:this.value,prevAngle:720}},computed:{count:function(){return this.max-this.min+1},countPerRing:function(){return this.double?this.count/2:this.count},radius:function(){return this.pickerSize/2},outerRadius:function(){return this.radius-5-20},innerRadius:function(){return Math.max(.6*this.outerRadius,this.outerRadius-5-40)},degreesPerUnit:function(){return 360/this.countPerRing},degrees:function(){return this.degreesPerUnit*Math.PI/180},handRotateAngle:function(){for(var t=this.prevAngle;t<0;)t+=360;var e=this.calcHandAngle(this.displayedValue),n=this.shortestDistanceDegrees(t,e);return this.prevAngle+n},handScale:function(){return this.calcHandScale(this.displayedValue)},handStyle:function(){return{transform:"rotate(".concat(this.handRotateAngle,"deg) scaleY(").concat(this.handScale,")"),transition:".3s cubic-bezier(.25,.8,.50,1)"}},displayedValue:function(){return null==this.inputValue?this.min:this.inputValue}},watch:{value:function(t){t!==this.inputValue&&(this.prevAngle=this.handRotateAngle),this.inputValue=t}},methods:{isDisabled:function(t){return this.disabledValues&&this.disabledValues(t)},euclidean:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},shortestDistanceDegrees:function(t,e){var n=(e-t)%360,r=180-Math.abs(Math.abs(n)-180);return(n+360)%360<180?1*r:-1*r},coordToAngle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)},getNumberTranslate:function(t){var e=this.getNumberCoords(t),n=e.x,r=e.y;return"translate(".concat(n,"px, ").concat(r,"px)")},getNumberCoords:function(t){var e=this.isInnerRing(t)?this.innerRadius:this.outerRadius;return{x:Math.round(e*Math.sin((t-this.min)*this.degrees)),y:Math.round(-e*Math.cos((t-this.min)*this.degrees))}},getFaceNumberClasses:function(t){return{active:t.value===this.displayedValue,disabled:this.isDisabled(t.value)}},isInnerRing:function(t){return this.double&&t-this.min>=this.countPerRing},calcHandAngle:function(t){var e=this.degreesPerUnit*(t-this.min);return this.isInnerRing(t)&&(e-=360),e},calcHandScale:function(t){return this.isInnerRing(t)?this.innerRadius/this.outerRadius:1},onMouseDown:function(t){t.preventDefault(),this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(){this.isDragging=!1,this.isDisabled(this.inputValue)||this.$emit("change",this.inputValue)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e=this.$refs.clock.getBoundingClientRect(),n=e.width,r=e.top,o=e.left,c="touches"in t?t.touches[0]:t,l={x:n/2,y:-n/2},h={x:c.clientX-o,y:r-c.clientY},f=Math.round(this.coordToAngle(l,h)+360)%360,d=this.double&&this.euclidean(l,h)<(this.outerRadius+this.innerRadius)/2-16,v=Math.round(f/this.degreesPerUnit)+this.min+(d?this.countPerRing:0);f>=360-this.degreesPerUnit/2&&(v=d?this.max:this.min),this.update(v)}},update:function(t){this.inputValue===t||this.isDisabled(t)||(this.prevAngle=this.handRotateAngle,this.inputValue=t,this.$emit("input",t))}}};const ht=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-clockpicker-face",on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onDragMove,touchstart:t.onMouseDown,touchend:t.onMouseUp,touchmove:t.onDragMove}},[n("div",{ref:"clock",staticClass:"b-clockpicker-face-outer-ring"},[n("div",{staticClass:"b-clockpicker-face-hand",style:t.handStyle}),t._v(" "),t._l(t.faceNumbers,(function(e,r){return n("span",{key:r,staticClass:"b-clockpicker-face-number",class:t.getFaceNumberClasses(e),style:{transform:t.getNumberTranslate(e.value)}},[n("span",[t._v(t._s(e.label))])])}))],2)])},staticRenderFns:[]},void 0,lt,void 0,!1,void 0,!1,void 0,void 0,void 0);var ft;const pt={name:"BClockpicker",components:(ft={},Object(l.a)(ft,ht.name,ht),Object(l.a)(ft,w.name,w),Object(l.a)(ft,ct.name,ct),Object(l.a)(ft,m.name,m),Object(l.a)(ft,nt.name,nt),Object(l.a)(ft,ot.name,ot),ft),mixins:[Q],props:{pickerSize:{type:Number,default:290},hourFormat:{type:String,default:"12",validator:function(t){return"24"===t||"12"===t}},incrementMinutes:{type:Number,default:5},autoSwitch:{type:Boolean,default:!0},type:{type:String,default:"is-primary"},hoursLabel:{type:String,default:function(){return o.c.defaultClockpickerHoursLabel||"Hours"}},minutesLabel:{type:String,default:function(){return o.c.defaultClockpickerMinutesLabel||"Min"}}},data:function(){return{isSelectingHour:!0,isDragging:!1,_isClockpicker:!0}},computed:{hoursDisplay:function(){if(null==this.hoursSelected)return"--";if(this.isHourFormat24)return this.pad(this.hoursSelected);var t=this.hoursSelected;return this.meridienSelected===this.PM&&(t-=12),0===t&&(t=12),t},minutesDisplay:function(){return null==this.minutesSelected?"--":this.pad(this.minutesSelected)},minFaceValue:function(){return this.isSelectingHour&&!this.isHourFormat24&&this.meridienSelected===this.PM?12:0},maxFaceValue:function(){return this.isSelectingHour?this.isHourFormat24||this.meridienSelected!==this.AM?23:11:59},faceSize:function(){return this.pickerSize-24},faceDisabledValues:function(){return this.isSelectingHour?this.isHourDisabled:this.isMinuteDisabled}},methods:{onClockInput:function(t){this.isSelectingHour?(this.hoursSelected=t,this.onHoursChange(t)):(this.minutesSelected=t,this.onMinutesChange(t))},onClockChange:function(t){this.autoSwitch&&this.isSelectingHour&&(this.isSelectingHour=!this.isSelectingHour)},onMeridienClick:function(t){this.meridienSelected!==t&&(this.meridienSelected=t,this.onMeridienChange(t))}}};const vt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-clockpicker control",class:[t.size,t.type,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline},on:{"active-change":t.onActiveChange}},[t.inline?t._e():n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){e.stopPropagation(),t.toggle(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toggle(!0)},change:function(e){return t.onChangeNativePicker(e)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),n("div",{staticClass:"card",attrs:{disabled:t.disabled,custom:""}},[t.inline?n("header",{staticClass:"card-header"},[n("div",{staticClass:"b-clockpicker-header card-header-title"},[n("div",{staticClass:"b-clockpicker-time"},[n("span",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursDisplay))]),t._v(" "),n("span",[t._v(":")]),t._v(" "),n("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesDisplay))])]),t._v(" "),t.isHourFormat24?t._e():n("div",{staticClass:"b-clockpicker-period"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.AM},on:{click:function(e){t.onMeridienClick(t.AM)}}},[t._v("am")]),t._v(" "),n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.PM},on:{click:function(e){t.onMeridienClick(t.PM)}}},[t._v("pm")])])])]):t._e(),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"b-clockpicker-body",style:{width:t.faceSize+"px",height:t.faceSize+"px"}},[t.inline?t._e():n("div",{staticClass:"b-clockpicker-time"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursLabel))]),t._v(" "),n("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesLabel))])]),t._v(" "),t.isHourFormat24||t.inline?t._e():n("div",{staticClass:"b-clockpicker-period"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.AM},on:{click:function(e){t.onMeridienClick(t.AM)}}},[t._v(t._s(t.AM))]),t._v(" "),n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.PM},on:{click:function(e){t.onMeridienClick(t.PM)}}},[t._v(t._s(t.PM))])]),t._v(" "),n("b-clockpicker-face",{attrs:{"picker-size":t.faceSize,min:t.minFaceValue,max:t.maxFaceValue,"face-numbers":t.isSelectingHour?t.hours:t.minutes,"disabled-values":t.faceDisabledValues,double:t.isSelectingHour&&t.isHourFormat24,value:t.isSelectingHour?t.hoursSelected:t.minutesSelected},on:{input:t.onClockInput,change:t.onClockChange}})],1)]),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"b-clockpicker-footer card-footer"},[t._t("default")],2):t._e()])],1):n("b-input",t._b({ref:"input",attrs:{type:"time",autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){e.stopPropagation(),t.toggle(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toggle(!0)},change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,pt,void 0,!1,void 0,!1,void 0,void 0,void 0);var mt={install:function(t){Object(c.c)(t,vt)}};Object(c.d)(mt);var yt=mt;const gt={name:"BSelect",components:Object(l.a)({},m.name,m),mixins:[h],inheritAttrs:!1,props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},placeholder:String,multiple:Boolean,nativeSize:[String,Number]},data:function(){return{selected:this.value,_elementRef:"select"}},computed:{computedValue:{get:function(){return this.selected},set:function(t){this.selected=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},spanClasses:function(){return[this.size,this.statusType,{"is-fullwidth":this.expanded,"is-loading":this.loading,"is-multiple":this.multiple,"is-rounded":this.rounded,"is-empty":null===this.selected}]}},watch:{value:function(t){this.selected=t,!this.isValid&&this.checkHtml5Validity()}}};const bt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded,"has-icons-left":t.icon}},[n("span",{staticClass:"select",class:t.spanClasses},[n("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"select",attrs:{multiple:t.multiple,size:t.nativeSize},on:{blur:function(e){t.$emit("blur",e)&&t.checkHtml5Validity()},focus:function(e){t.$emit("focus",e)},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.computedValue=e.target.multiple?n:n[0]}}},"select",t.$attrs,!1),[t.placeholder?[null==t.computedValue?n("option",{attrs:{disabled:"",hidden:""},domProps:{value:null}},[t._v("\r\n                        "+t._s(t.placeholder)+"\r\n                    ")]):t._e()]:t._e(),t._v(" "),t._t("default")],2)]),t._v(" "),t.icon?n("b-icon",{staticClass:"is-left",attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize}}):t._e()],1)},staticRenderFns:[]},void 0,gt,void 0,!1,void 0,!1,void 0,void 0,void 0);const wt={name:"BDatepickerTableRow",props:{selectedDate:{type:[Date,Array]},hoveredDateRange:Array,week:{type:Array,required:!0},month:{type:Number,required:!0},minDate:Date,maxDate:Date,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,events:Array,indicators:String,dateCreator:Function,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:{type:Boolean,default:function(){return!1}},range:Boolean,multiple:Boolean,rulesForFirstWeek:{type:Number,default:function(){return 4}},firstDayOfWeek:Number},methods:{firstWeekOffset:function(t,e,n){var r=7+e-n;return-((7+new Date(t,0,r).getDay()-e)%7)+r-1},daysInYear:function(t){return this.isLeapYear(t)?366:365},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getSetDayOfYear:function(input){return Math.round((input-new Date(input.getFullYear(),0,1))/864e5)+1},weeksInYear:function(t,e,n){var r=this.firstWeekOffset(t,e,n),o=this.firstWeekOffset(t+1,e,n);return(this.daysInYear(t)-r+o)/7},getWeekNumber:function(t){var e,n,r=this.firstDayOfWeek,o=this.rulesForFirstWeek,c=this.firstWeekOffset(t.getFullYear(),r,o),l=Math.floor((this.getSetDayOfYear(t)-c-1)/7)+1;return l<1?(n=t.getFullYear()-1,e=l+this.weeksInYear(n,r,o)):l>this.weeksInYear(t.getFullYear(),r,o)?(e=l-this.weeksInYear(t.getFullYear(),r,o),n=t.getFullYear()+1):(n=t.getFullYear(),e=l),e},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),this.nearbyMonthDays&&!this.nearbySelectableMonthDays&&e.push(t.getMonth()===this.month),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(t.getDate()===n.getDate()&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())return!0;e.push(!1)}if(this.unselectableDates)for(var r=0;r<this.unselectableDates.length;r++){var o=this.unselectableDates[r];e.push(t.getDate()!==o.getDate()||t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var c=0;c<this.unselectableDaysOfWeek.length;c++){var l=this.unselectableDaysOfWeek[c];e.push(t.getDay()!==l)}return e.indexOf(!1)<0},emitChosenDate:function(t){this.disabled||this.selectableDate(t)&&this.$emit("select",t)},eventsDateMatch:function(t){if(!this.events||!this.events.length)return!1;for(var e=[],i=0;i<this.events.length;i++)this.events[i].date.getDay()===t.getDay()&&e.push(this.events[i]);return!!e.length&&e},classObject:function(t){function e(t,e,n){return!(!t||!e||n)&&(Array.isArray(e)?e.some((function(e){return t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()})):t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}function n(t,e,n){return!(!Array.isArray(e)||n)&&(t>e[0]&&t<e[1])}return{"is-selected":e(t,this.selectedDate)||n(t,this.selectedDate,this.multiple),"is-first-selected":e(t,Array.isArray(this.selectedDate)&&this.selectedDate[0],this.multiple),"is-within-selected":n(t,this.selectedDate,this.multiple),"is-last-selected":e(t,Array.isArray(this.selectedDate)&&this.selectedDate[1],this.multiple),"is-within-hovered-range":this.hoveredDateRange&&2===this.hoveredDateRange.length&&(e(t,this.hoveredDateRange)||n(t,this.hoveredDateRange)),"is-first-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[0]),"is-within-hovered":n(t,this.hoveredDateRange),"is-last-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[1]),"is-today":e(t,this.dateCreator()),"is-selectable":this.selectableDate(t)&&!this.disabled,"is-unselectable":!this.selectableDate(t)||this.disabled,"is-invisible":!this.nearbyMonthDays&&t.getMonth()!==this.month,"is-nearby":this.nearbySelectableMonthDays&&t.getMonth()!==this.month}},setRangeHoverEndDate:function(t){this.range&&this.$emit("rangeHoverEndDate",t)}}};const _t=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datepicker-row"},[t.showWeekNumber?n("a",{staticClass:"datepicker-cell is-week-number"},[t._v("\r\n            "+t._s(t.getWeekNumber(t.week[6]))+"\r\n        ")]):t._e(),t._v(" "),t._l(t.week,(function(e,r){return[t.selectableDate(e)&&!t.disabled?n("a",{key:r,staticClass:"datepicker-cell",class:[t.classObject(e),{"has-event":t.eventsDateMatch(e)},t.indicators],attrs:{role:"button",href:"#",disabled:t.disabled},on:{click:function(n){n.preventDefault(),t.emitChosenDate(e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.preventDefault(),t.emitChosenDate(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"]))return null;n.preventDefault(),t.emitChosenDate(e)}],mouseenter:function(n){t.setRangeHoverEndDate(e)}}},[t._v("\r\n                "+t._s(e.getDate())+"\r\n                "),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})}))):t._e()]):n("div",{key:r,staticClass:"datepicker-cell",class:t.classObject(e)},[t._v("\r\n                "+t._s(e.getDate())+"\r\n            ")])]}))],2)},staticRenderFns:[]},void 0,wt,void 0,!1,void 0,!1,void 0,void 0,void 0);var It=function(t){return void 0!==t};const St={name:"BDatepickerTable",components:Object(l.a)({},_t.name,_t),props:{value:{type:[Date,Array]},dayNames:Array,monthNames:Array,firstDayOfWeek:Number,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:{type:Boolean,default:function(){return!1}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:Boolean,multiple:Boolean},data:function(){return{selectedBeginDate:void 0,selectedEndDate:void 0,hoveredEndDate:void 0,multipleSelectedDates:[]}},computed:{visibleDayNames:function(){for(var t=[],e=this.firstDayOfWeek;t.length<this.dayNames.length;){var n=this.dayNames[e%this.dayNames.length];t.push(n),e++}return this.showWeekNumber&&t.unshift(""),t},hasEvents:function(){return this.events&&this.events.length},eventsInThisMonth:function(){if(!this.events)return[];for(var t=[],i=0;i<this.events.length;i++){var e=this.events[i];e.hasOwnProperty("date")||(e={date:e}),e.hasOwnProperty("type")||(e.type="is-primary"),e.date.getMonth()===this.focused.month&&e.date.getFullYear()===this.focused.year&&t.push(e)}return t},weeksInThisMonth:function(){for(var t=this.focused.month,e=this.focused.year,n=[],r=1;n.length<6;){var o=this.weekBuilder(r,t,e);n.push(o),r+=7}return n},hoveredDateRange:function(){return this.range&&isNaN(this.selectedEndDate)?this.hoveredEndDate<this.selectedBeginDate?[this.hoveredEndDate,this.selectedBeginDate].filter(It):[this.selectedBeginDate,this.hoveredEndDate].filter(It):[]}},methods:{updateSelectedDate:function(t){this.range||this.multiple?this.range?this.handleSelectRangeDate(t):this.multiple&&this.handleSelectMultipleDates(t):this.$emit("input",t)},handleSelectRangeDate:function(t){this.selectedBeginDate&&this.selectedEndDate?(this.selectedBeginDate=t,this.selectedEndDate=void 0,this.$emit("range-start",t)):this.selectedBeginDate&&!this.selectedEndDate?(this.selectedBeginDate>t?(this.selectedEndDate=this.selectedBeginDate,this.selectedBeginDate=t):this.selectedEndDate=t,this.$emit("range-end",t),this.$emit("input",[this.selectedBeginDate,this.selectedEndDate])):(this.selectedBeginDate=t,this.$emit("range-start",t))},handleSelectMultipleDates:function(t){this.multipleSelectedDates.filter((function(e){return e.getTime()===t.getTime()})).length?this.multipleSelectedDates=this.multipleSelectedDates.filter((function(e){return e.getTime()!==t.getTime()})):this.multipleSelectedDates.push(t),this.$emit("input",this.multipleSelectedDates)},weekBuilder:function(t,e,n){for(var r=new Date(n,e),o=[],c=new Date(n,e,t).getDay(),l=c>=this.firstDayOfWeek?c-this.firstDayOfWeek:7-this.firstDayOfWeek+c,h=1,i=0;i<l;i++)o.unshift(new Date(r.getFullYear(),r.getMonth(),t-h)),h++;o.push(new Date(n,e,t));for(var f=1;o.length<7;)o.push(new Date(n,e,t+f)),f++;return o},eventsInThisWeek:function(t){return this.eventsInThisMonth.filter((function(e){var n=new Date(Date.parse(e.date));n.setHours(0,0,0,0);var r=n.getTime();return t.some((function(t){return t.getTime()===r}))}))},setRangeHoverEndDate:function(t){this.hoveredEndDate=t}}};const kt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("header",{staticClass:"datepicker-header"},t._l(t.visibleDayNames,(function(e,r){return n("div",{key:r,staticClass:"datepicker-cell"},[t._v("\r\n                "+t._s(e)+"\r\n            ")])}))),t._v(" "),n("div",{staticClass:"datepicker-body",class:{"has-events":t.hasEvents}},t._l(t.weeksInThisMonth,(function(e,r){return n("b-datepicker-table-row",{key:r,attrs:{"selected-date":t.value,week:e,month:t.focused.month,"min-date":t.minDate,"max-date":t.maxDate,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.eventsInThisWeek(e),indicators:t.indicators,"date-creator":t.dateCreator,"nearby-month-days":t.nearbyMonthDays,"nearby-selectable-month-days":t.nearbySelectableMonthDays,"show-week-number":t.showWeekNumber,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,range:t.range,"hovered-date-range":t.hoveredDateRange,multiple:t.multiple},on:{select:t.updateSelectedDate,rangeHoverEndDate:t.setRangeHoverEndDate}})})),1)])},staticRenderFns:[]},void 0,St,void 0,!1,void 0,!1,void 0,void 0,void 0);const Et={name:"BDatepickerMonth",props:{value:{type:[Date,Array]},monthNames:Array,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,multiple:Boolean},data:function(){return{multipleSelectedDates:[]}},computed:{hasEvents:function(){return this.events&&this.events.length},eventsInThisYear:function(){if(!this.events)return[];for(var t=[],i=0;i<this.events.length;i++){var e=this.events[i];e.hasOwnProperty("date")||(e={date:e}),e.hasOwnProperty("type")||(e.type="is-primary"),e.date.getFullYear()===this.focused.year&&t.push(e)}return t},monthDates:function(){for(var t=this.focused.year,e=[],i=0;i<12;i++){var n=new Date(t,i,1);n.setHours(0,0,0,0),e.push(n)}return e}},methods:{selectMultipleDates:function(t){this.multipleSelectedDates.find((function(e){return e.getTime()===t.getTime()}))?this.multipleSelectedDates=this.multipleSelectedDates.filter((function(e){return e.getTime()!==t.getTime()})):this.multipleSelectedDates.push(t),this.$emit("input",this.multipleSelectedDates)},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),e.push(t.getFullYear()===this.focused.year),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())return!0;e.push(!1)}if(this.unselectableDates)for(var r=0;r<this.unselectableDates.length;r++){var o=this.unselectableDates[r];e.push(t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var c=0;c<this.unselectableDaysOfWeek.length;c++){var l=this.unselectableDaysOfWeek[c];e.push(t.getDay()!==l)}return e.indexOf(!1)<0},eventsDateMatch:function(t){if(!this.eventsInThisYear.length)return!1;for(var e=[],i=0;i<this.eventsInThisYear.length;i++)this.eventsInThisYear[i].date.getMonth()===t.getMonth()&&e.push(this.events[i]);return!!e.length&&e},classObject:function(t){function e(t,e,n){return!(!t||!e||n)&&(t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}return{"is-selected":e(t,this.value,this.multiple)||(n=t,r=this.multipleSelectedDates,o=this.multiple,!(!Array.isArray(r)||!o)&&r.some((function(t){return n.getDate()===t.getDate()&&n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()}))),"is-today":e(t,this.dateCreator()),"is-selectable":this.selectableDate(t)&&!this.disabled,"is-unselectable":!this.selectableDate(t)||this.disabled};var n,r,o},emitChosenDate:function(t){this.disabled||(this.multiple?this.selectMultipleDates(t):this.selectableDate(t)&&this.$emit("input",t))}}};const Tt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("div",{staticClass:"datepicker-body",class:{"has-events":t.hasEvents}},[n("div",{staticClass:"datepicker-months"},[t._l(t.monthDates,(function(e,r){return[t.selectableDate(e)&&!t.disabled?n("a",{key:r,staticClass:"datepicker-cell",class:[t.classObject(e),{"has-event":t.eventsDateMatch(e)},t.indicators],attrs:{role:"button",href:"#",disabled:t.disabled},on:{click:function(n){n.preventDefault(),t.emitChosenDate(e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.preventDefault(),t.emitChosenDate(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"]))return null;n.preventDefault(),t.emitChosenDate(e)}]}},[t._v("\r\n                        "+t._s(t.monthNames[e.getMonth()])+"\r\n                        "),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})}))):t._e()]):n("div",{key:r,staticClass:"datepicker-cell",class:t.classObject(e)},[t._v("\r\n                        "+t._s(t.monthNames[e.getMonth()])+"\r\n                    ")])]}))],2)])])},staticRenderFns:[]},void 0,Et,void 0,!1,void 0,!1,void 0,void 0,void 0);var At;const Dt={name:"BDatepicker",components:(At={},Object(l.a)(At,kt.name,kt),Object(l.a)(At,Tt.name,Tt),Object(l.a)(At,w.name,w),Object(l.a)(At,ct.name,ct),Object(l.a)(At,bt.name,bt),Object(l.a)(At,m.name,m),Object(l.a)(At,nt.name,nt),Object(l.a)(At,ot.name,ot),At),mixins:[h],inheritAttrs:!1,props:{value:{type:[Date,Array]},dayNames:{type:Array,default:function(){return Array.isArray(o.c.defaultDayNames)?o.c.defaultDayNames:["Su","M","Tu","W","Th","F","S"]}},monthNames:{type:Array,default:function(){return Array.isArray(o.c.defaultMonthNames)?o.c.defaultMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}},firstDayOfWeek:{type:Number,default:function(){return"number"==typeof o.c.defaultFirstDayOfWeek?o.c.defaultFirstDayOfWeek:0}},inline:Boolean,minDate:Date,maxDate:Date,focusedDate:Date,placeholder:String,editable:Boolean,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:{type:Array,default:function(){return o.c.defaultUnselectableDaysOfWeek}},selectableDates:Array,dateFormatter:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultDateFormatter?o.c.defaultDateFormatter(t):function(t,e){var n=(Array.isArray(t)?t:[t]).map((function(t){var n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate(),r=new Date(n);return e.isTypeMonth?r.toLocaleDateString(void 0,{year:"numeric",month:"2-digit"}):r.toLocaleDateString()}));return e.multiple?n.join(", "):n.join(" - ")}(t,e)}},dateParser:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultDateParser?o.c.defaultDateParser(t):function(t,e){if(!e.isTypeMonth)return new Date(Date.parse(t));if(t){var s=t.split("/"),n=4===s[0].length?s[0]:s[1],r=2===s[0].length?s[0]:s[1];if(n&&r)return new Date(parseInt(n,10),parseInt(r-1,10),1,0,0,0,0)}return null}(t,e)}},dateCreator:{type:Function,default:function(){return"function"==typeof o.c.defaultDateCreator?o.c.defaultDateCreator():new Date}},mobileNative:{type:Boolean,default:function(){return o.c.defaultDatepickerMobileNative}},position:String,events:Array,indicators:{type:String,default:"dots"},openOnFocus:Boolean,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},yearsRange:{type:Array,default:function(){return o.c.defaultDatepickerYearsRange}},type:{type:String,validator:function(t){return["month"].indexOf(t)>=0}},nearbyMonthDays:{type:Boolean,default:function(){return o.c.defaultDatepickerNearbyMonthDays}},nearbySelectableMonthDays:{type:Boolean,default:function(){return o.c.defaultDatepickerNearbySelectableMonthDays}},showWeekNumber:{type:Boolean,default:function(){return o.c.defaultDatepickerShowWeekNumber}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},mobileModal:{type:Boolean,default:function(){return o.c.defaultDatepickerMobileModal}},focusable:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:o.c.defaultTrapFocus}},data:function(){var t=(Array.isArray(this.value)?this.value[0]:this.value)||this.focusedDate||this.dateCreator();return{dateSelected:this.value,focusedDateData:{month:t.getMonth(),year:t.getFullYear()},_elementRef:"input",_isDatepicker:!0}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(t){this.updateInternalState(t),this.multiple||this.togglePicker(!1),this.$emit("input",t)}},listOfMonths:function(){var t=0,e=12;return this.minDate&&this.focusedDateData.year===this.minDate.getFullYear()&&(t=this.minDate.getMonth()),this.maxDate&&this.focusedDateData.year===this.maxDate.getFullYear()&&(e=this.maxDate.getMonth()),this.monthNames.map((function(n,r){return{name:n,index:r,disabled:r<t||r>e}}))},listOfYears:function(){var t=this.focusedDateData.year+this.yearsRange[1];this.maxDate&&this.maxDate.getFullYear()<t&&(t=Math.max(this.maxDate.getFullYear(),this.focusedDateData.year));var e=this.focusedDateData.year+this.yearsRange[0];this.minDate&&this.minDate.getFullYear()>e&&(e=Math.min(this.minDate.getFullYear(),this.focusedDateData.year));for(var n=[],i=e;i<=t;i++)n.push(i);return n.reverse()},showPrev:function(){return!!this.minDate&&(this.isTypeMonth?this.focusedDateData.year<=this.minDate.getFullYear():new Date(this.focusedDateData.year,this.focusedDateData.month)<=new Date(this.minDate.getFullYear(),this.minDate.getMonth()))},showNext:function(){return!!this.maxDate&&(this.isTypeMonth?this.focusedDateData.year>=this.maxDate.getFullYear():new Date(this.focusedDateData.year,this.focusedDateData.month)>=new Date(this.maxDate.getFullYear(),this.maxDate.getMonth()))},isMobile:function(){return this.mobileNative&&r.c.any()},isTypeMonth:function(){return"month"===this.type}},watch:{value:function(t){this.updateInternalState(t),this.multiple||this.togglePicker(!1),!this.isValid&&this.$refs.input.checkHtml5Validity()},focusedDate:function(t){t&&(this.focusedDateData={month:t.getMonth(),year:t.getFullYear()})},"focusedDateData.month":function(t){this.$emit("change-month",t)},"focusedDateData.year":function(t){this.$emit("change-year",t)}},methods:{onChange:function(t){var e=this.dateParser(t,this);!e||isNaN(e)&&(!Array.isArray(e)||2!==e.length||isNaN(e[0])||isNaN(e[1]))?(this.computedValue=null,this.$refs.input.newValue=this.computedValue):this.computedValue=e},formatValue:function(t){return Array.isArray(t)?Array.isArray(t)&&t.every((function(t){return!isNaN(t)}))?this.dateFormatter(t,this):null:t&&!isNaN(t)?this.dateFormatter(t,this):null},prev:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year-=1:this.focusedDateData.month>0?this.focusedDateData.month-=1:(this.focusedDateData.month=11,this.focusedDateData.year-=1))},next:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year+=1:this.focusedDateData.month<11?this.focusedDateData.month+=1:(this.focusedDateData.month=0,this.focusedDateData.year+=1))},formatNative:function(t){return this.isTypeMonth?this.formatYYYYMM(t):this.formatYYYYMMDD(t)},formatYYYYMMDD:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate();return n+"-"+(r<10?"0":"")+r+"-"+(o<10?"0":"")+o}return""},formatYYYYMM:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1;return n+"-"+(r<10?"0":"")+r}return""},onChangeNativePicker:function(t){var e=t.target.value;this.computedValue=e?new Date(e+"T00:00:00"):null},updateInternalState:function(t){var e=Array.isArray(t)?t.length?t[0]:this.dateCreator():t||this.dateCreator();this.focusedDateData={month:e.getMonth(),year:e.getFullYear()},this.dateSelected=t},togglePicker:function(t){this.$refs.dropdown&&this.closeOnClick&&(this.$refs.dropdown.isActive="boolean"==typeof t?t:!this.$refs.dropdown.isActive)},handleOnFocus:function(t){this.onFocus(t),this.openOnFocus&&this.togglePicker(!0)},toggle:function(){if(this.mobileNative&&this.isMobile){var input=this.$refs.input.$refs.input;return input.focus(),void input.click()}this.$refs.dropdown.toggle()},onInputClick:function(t){this.$refs.dropdown.isActive&&t.stopPropagation()},keyPress:function(t){this.$refs.dropdown&&this.$refs.dropdown.isActive&&27===t.keyCode&&this.togglePicker(!1)},onActiveChange:function(t){t||this.onBlur()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}};const Nt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline,"mobile-modal":t.mobileModal,"trap-focus":t.trapFocus},on:{"active-change":t.onActiveChange}},[t.inline?t._e():n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,rounded:t.rounded,loading:t.loading,disabled:t.disabled,readonly:!t.editable,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus},nativeOn:{click:function(e){return t.onInputClick(e)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.togglePicker(!0)},change:function(e){t.onChange(e.target.value)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),n("b-dropdown-item",{attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("header",{staticClass:"datepicker-header"},[void 0!==t.$slots.header&&t.$slots.header.length?[t._t("header")]:n("div",{staticClass:"pagination field is-centered",class:t.size},[n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showPrev&&!t.disabled,expression:"!showPrev && !disabled"}],staticClass:"pagination-previous",attrs:{role:"button",href:"#",disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.prev(e)},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.prev(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?(e.preventDefault(),t.prev(e)):null}]}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"",type:"is-primary is-clickable"}})],1),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showNext&&!t.disabled,expression:"!showNext && !disabled"}],staticClass:"pagination-next",attrs:{role:"button",href:"#",disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.next(e)},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.next(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?(e.preventDefault(),t.next(e)):null}]}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"",type:"is-primary is-clickable"}})],1),t._v(" "),n("div",{staticClass:"pagination-list"},[n("b-field",[t.isTypeMonth?t._e():n("b-select",{attrs:{disabled:t.disabled,size:t.size},model:{value:t.focusedDateData.month,callback:function(e){t.$set(t.focusedDateData,"month",e)},expression:"focusedDateData.month"}},t._l(t.listOfMonths,(function(e){return n("option",{key:e.name,attrs:{disabled:e.disabled},domProps:{value:e.index}},[t._v("\r\n                                        "+t._s(e.name)+"\r\n                                    ")])}))),t._v(" "),n("b-select",{attrs:{disabled:t.disabled,size:t.size},model:{value:t.focusedDateData.year,callback:function(e){t.$set(t.focusedDateData,"year",e)},expression:"focusedDateData.year"}},t._l(t.listOfYears,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v("\r\n                                        "+t._s(e)+"\r\n                                    ")])})))],1)],1)])],2),t._v(" "),t.isTypeMonth?n("div",[n("b-datepicker-month",{attrs:{"month-names":t.monthNames,"min-date":t.minDate,"max-date":t.maxDate,focused:t.focusedDateData,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.events,indicators:t.indicators,"date-creator":t.dateCreator,multiple:t.multiple},on:{close:function(e){t.togglePicker(!1)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],1):n("div",{staticClass:"datepicker-content"},[n("b-datepicker-table",{attrs:{"day-names":t.dayNames,"month-names":t.monthNames,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,"min-date":t.minDate,"max-date":t.maxDate,focused:t.focusedDateData,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.events,indicators:t.indicators,"date-creator":t.dateCreator,"type-month":t.isTypeMonth,"nearby-month-days":t.nearbyMonthDays,"nearby-selectable-month-days":t.nearbySelectableMonthDays,"show-week-number":t.showWeekNumber,range:t.range,multiple:t.multiple},on:{"range-start":function(e){return t.$emit("range-start",e)},"range-end":function(e){return t.$emit("range-end",e)},close:function(e){t.togglePicker(!1)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],1),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"datepicker-footer"},[t._t("default")],2):t._e()])],1):n("b-input",t._b({ref:"input",attrs:{type:t.isTypeMonth?"month":"date",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,Dt,void 0,!1,void 0,!1,void 0,void 0,void 0);var Ct={install:function(t){Object(c.c)(t,Nt)}};Object(c.d)(Ct);var Ot,xt=Ct;const Pt={name:"BTimepicker",components:(Ot={},Object(l.a)(Ot,w.name,w),Object(l.a)(Ot,ct.name,ct),Object(l.a)(Ot,bt.name,bt),Object(l.a)(Ot,m.name,m),Object(l.a)(Ot,nt.name,nt),Object(l.a)(Ot,ot.name,ot),Ot),mixins:[Q],inheritAttrs:!1,data:function(){return{_isTimepicker:!0}},computed:{nativeStep:function(){if(this.enableSeconds)return"1"}}};const Rt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline},on:{"active-change":t.onActiveChange}},[t.inline?t._e():n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toggle(!0)},change:function(e){t.onChange(e.target.value)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),n("b-dropdown-item",{attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("b-field",{attrs:{grouped:"",position:"is-centered"}},[n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onHoursChange(e.target.value)}},model:{value:t.hoursSelected,callback:function(e){t.hoursSelected=e},expression:"hoursSelected"}},t._l(t.hours,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isHourDisabled(e.value)},domProps:{value:e.value}},[t._v("\r\n                            "+t._s(e.label)+"\r\n                        ")])}))),t._v(" "),n("span",{staticClass:"control is-colon"},[t._v(":")]),t._v(" "),n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onMinutesChange(e.target.value)}},model:{value:t.minutesSelected,callback:function(e){t.minutesSelected=e},expression:"minutesSelected"}},t._l(t.minutes,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isMinuteDisabled(e.value)},domProps:{value:e.value}},[t._v("\r\n                            "+t._s(e.label)+"\r\n                        ")])}))),t._v(" "),t.enableSeconds?[n("span",{staticClass:"control is-colon"},[t._v(":")]),t._v(" "),n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onSecondsChange(e.target.value)}},model:{value:t.secondsSelected,callback:function(e){t.secondsSelected=e},expression:"secondsSelected"}},t._l(t.seconds,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isSecondDisabled(e.value)},domProps:{value:e.value}},[t._v("\r\n                                "+t._s(e.label)+"\r\n                            ")])})))]:t._e(),t._v(" "),t.isHourFormat24?t._e():n("b-select",{attrs:{disabled:t.disabled},nativeOn:{change:function(e){t.onMeridienChange(e.target.value)}},model:{value:t.meridienSelected,callback:function(e){t.meridienSelected=e},expression:"meridienSelected"}},t._l(t.meridiens,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v("\r\n                            "+t._s(e)+"\r\n                        ")])})))],2),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"timepicker-footer"},[t._t("default")],2):t._e()],1)],1):n("b-input",t._b({ref:"input",attrs:{type:"time",step:t.nativeStep,autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{change:function(e){t.onChange(e.target.value)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,Pt,void 0,!1,void 0,!1,void 0,void 0,void 0);var Mt;const Lt={name:"BDatetimepicker",components:(Mt={},Object(l.a)(Mt,Nt.name,Nt),Object(l.a)(Mt,Rt.name,Rt),Mt),mixins:[h],inheritAttrs:!1,props:{value:{type:Date},editable:{type:Boolean,default:!1},placeholder:String,disabled:Boolean,icon:String,iconPack:String,inline:Boolean,openOnFocus:Boolean,position:String,mobileNative:{type:Boolean,default:!0},minDatetime:Date,maxDatetime:Date,datetimeFormatter:{type:Function},datetimeParser:{type:Function},datetimeCreator:{type:Function,default:function(t){return"function"==typeof o.c.defaultDatetimeCreator?o.c.defaultDatetimeCreator(t):t}},datepicker:Object,timepicker:Object,tzOffset:{type:Number,default:0},focusable:{type:Boolean,default:!0}},data:function(){return{newValue:this.adjustValue(this.value)}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){if(t){var e=new Date(t.getTime());this.newValue?t.getDate()===this.newValue.getDate()&&t.getMonth()===this.newValue.getMonth()&&t.getFullYear()===this.newValue.getFullYear()||0!==t.getHours()||0!==t.getMinutes()||0!==t.getSeconds()||e.setHours(this.newValue.getHours(),this.newValue.getMinutes(),this.newValue.getSeconds(),0):e=this.datetimeCreator(t),this.minDatetime&&e<this.adjustValue(this.minDatetime)?e=this.adjustValue(this.minDatetime):this.maxDatetime&&e>this.adjustValue(this.maxDatetime)&&(e=this.adjustValue(this.maxDatetime)),this.newValue=new Date(e.getTime())}else this.newValue=this.adjustValue(this.value);var n=this.adjustValue(this.newValue,!0);this.$emit("input",n)}},isMobileNative:function(){return this.mobileNative&&0===this.tzOffset},isMobile:function(){return this.isMobileNative&&r.c.any()},minDate:function(){if(!this.minDatetime)return this.datepicker?this.adjustValue(this.datepicker.minDate):null;var t=this.adjustValue(this.minDatetime);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},maxDate:function(){if(!this.maxDatetime)return this.datepicker?this.adjustValue(this.datepicker.maxDate):null;var t=this.adjustValue(this.maxDatetime);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},minTime:function(){if(!this.minDatetime||null===this.newValue||void 0===this.newValue)return this.timepicker?this.adjustValue(this.timepicker.minTime):null;var t=this.adjustValue(this.minDatetime);return t.getFullYear()===this.newValue.getFullYear()&&t.getMonth()===this.newValue.getMonth()&&t.getDate()===this.newValue.getDate()?t:void 0},maxTime:function(){if(!this.maxDatetime||null===this.newValue||void 0===this.newValue)return this.timepicker?this.adjustValue(this.timepicker.maxTime):null;var t=this.adjustValue(this.maxDatetime);return t.getFullYear()===this.newValue.getFullYear()&&t.getMonth()===this.newValue.getMonth()&&t.getDate()===this.newValue.getDate()?t:void 0},datepickerSize:function(){return this.datepicker&&this.datepicker.size?this.datepicker.size:this.size},timepickerSize:function(){return this.timepicker&&this.timepicker.size?this.timepicker.size:this.size},timepickerDisabled:function(){return this.timepicker&&this.timepicker.disabled?this.timepicker.disabled:this.disabled}},watch:{value:function(t){this.newValue=this.adjustValue(this.value)},tzOffset:function(t){this.newValue=this.adjustValue(this.value)}},methods:{adjustValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?new Date(t.getTime()-6e4*this.tzOffset):new Date(t.getTime()+6e4*this.tzOffset):t},defaultDatetimeParser:function(t){return"function"==typeof this.datetimeParser?this.datetimeParser(t):"function"==typeof o.c.defaultDatetimeParser?o.c.defaultDatetimeParser(t):new Date(Date.parse(t))},defaultDatetimeFormatter:function(t){if("function"==typeof this.datetimeFormatter)return this.datetimeFormatter(t);if("function"==typeof o.c.defaultDatetimeParser)return o.c.defaultDatetimeParser(t);if(this.$refs.timepicker){var e=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate();return new Date(e).toLocaleDateString()+" "+this.$refs.timepicker.timeFormatter(t,this.$refs.timepicker)}return null},onChangeNativePicker:function(t){var e=t.target.value;this.computedValue=e?new Date(e):null},formatNative:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),c=e.getHours(),l=e.getMinutes(),h=e.getSeconds();return n+"-"+(r<10?"0":"")+r+"-"+(o<10?"0":"")+o+"T"+(c<10?"0":"")+c+":"+(l<10?"0":"")+l+":"+(h<10?"0":"")+h}return""},toggle:function(){this.$refs.datepicker.toggle()}},mounted:function(){this.isMobile&&!this.inline||this.newValue&&this.$refs.datepicker.$forceUpdate()}};const jt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.isMobile||t.inline?n("b-datepicker",t._b({ref:"datepicker",attrs:{"open-on-focus":t.openOnFocus,position:t.position,loading:t.loading,inline:t.inline,editable:t.editable,expanded:t.expanded,"close-on-click":!1,"date-formatter":t.defaultDatetimeFormatter,"date-parser":t.defaultDatetimeParser,"min-date":t.minDate,"max-date":t.maxDate,icon:t.icon,"icon-pack":t.iconPack,size:t.datepickerSize,placeholder:t.placeholder,range:!1,disabled:t.disabled,"mobile-native":t.isMobileNative,focusable:t.focusable},on:{focus:t.onFocus,blur:t.onBlur,"change-month":function(e){t.$emit("change-month",e)},"change-year":function(e){t.$emit("change-year",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-datepicker",t.datepicker,!1),[n("nav",{staticClass:"level is-mobile"},[void 0!==t.$slots.left?n("div",{staticClass:"level-item has-text-centered"},[t._t("left")],2):t._e(),t._v(" "),n("div",{staticClass:"level-item has-text-centered"},[n("b-timepicker",t._b({ref:"timepicker",attrs:{inline:"",editable:t.editable,"min-time":t.minTime,"max-time":t.maxTime,size:t.timepickerSize,disabled:t.timepickerDisabled,focusable:t.focusable,"mobile-native":t.isMobileNative},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-timepicker",t.timepicker,!1))],1),t._v(" "),void 0!==t.$slots.right?n("div",{staticClass:"level-item has-text-centered"},[t._t("right")],2):t._e()])]):n("b-input",t._b({ref:"input",attrs:{type:"datetime-local",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))},staticRenderFns:[]},void 0,Lt,void 0,!1,void 0,!1,void 0,void 0,void 0);var Vt={install:function(t){Object(c.c)(t,jt)}};Object(c.d)(Vt);var Bt=Vt;const Ft={name:"BModal",directives:{trapFocus:Z},props:{active:Boolean,component:[Object,Function],content:String,programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},canCancel:{type:[Array,Boolean],default:function(){return o.c.defaultModalCanCancel}},onCancel:{type:Function,default:function(){}},scroll:{type:String,default:function(){return o.c.defaultModalScroll?o.c.defaultModalScroll:"clip"},validator:function(t){return["clip","keep"].indexOf(t)>=0}},fullScreen:Boolean,trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},customClass:String,ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean},data:function(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"==typeof this.width?this.width+"px":this.width,animating:!0}},computed:{cancelOptions:function(){return"boolean"==typeof this.canCancel?this.canCancel?o.c.defaultModalCanCancel:[]:this.canCancel},showX:function(){return this.cancelOptions.indexOf("x")>=0},customStyle:function(){return this.fullScreen?null:{maxWidth:this.newWidth}}},watch:{active:function(t){this.isActive=t},isActive:function(t){var e=this;this.handleScroll(),this.$nextTick((function(){t&&e.$el&&e.$el.focus&&e.$el.focus()}))}},methods:{handleScroll:function(){"undefined"!=typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top="-".concat(this.savedScrollTop,"px"):(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},cancel:function(t){this.cancelOptions.indexOf(t)<0||(this.onCancel.apply(null,arguments),this.close())},close:function(){var t=this;this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150))},keyPress:function(t){this.isActive&&27===t.keyCode&&this.cancel("escape")},afterEnter:function(){this.animating=!1},beforeLeave:function(){this.animating=!0}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&document.body.appendChild(this.$el)},mounted:function(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy:function(){if("undefined"!=typeof window){document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped");var t=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=t,document.body.style.top=null}}};const Ut=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation},on:{"after-enter":t.afterEnter,"before-leave":t.beforeLeave}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"modal is-active",class:[{"is-full-screen":t.fullScreen},t.customClass],attrs:{tabindex:"-1",role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){t.cancel("outside")}}}),t._v(" "),n("div",{staticClass:"animation-content",class:{"modal-content":!t.hasModalCard},style:t.customStyle},[t.component?n(t.component,t._g(t._b({tag:"component",on:{close:t.close}},"component",t.props,!1),t.events)):t.content?n("div",{domProps:{innerHTML:t._s(t.content)}}):t._t("default"),t._v(" "),t.showX?n("button",{directives:[{name:"show",rawName:"v-show",value:!t.animating,expression:"!animating"}],staticClass:"modal-close is-large",attrs:{type:"button"},on:{click:function(e){t.cancel("x")}}}):t._e()],2)]):t._e()])},staticRenderFns:[]},void 0,Ft,void 0,!1,void 0,!1,void 0,void 0,void 0);const $t={name:"BDialog",components:Object(l.a)({},m.name,m),directives:{trapFocus:Z},extends:Ut,props:{title:String,message:String,icon:String,iconPack:String,hasIcon:Boolean,type:{type:String,default:"is-primary"},size:String,confirmText:{type:String,default:function(){return o.c.defaultDialogConfirmText?o.c.defaultDialogConfirmText:"OK"}},cancelText:{type:String,default:function(){return o.c.defaultDialogCancelText?o.c.defaultDialogCancelText:"Cancel"}},hasInput:Boolean,inputAttrs:{type:Object,default:function(){return{}}},onConfirm:{type:Function,default:function(){}},container:{type:String,default:o.c.defaultContainerElement},focusOn:{type:String,default:"confirm"},trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean},data:function(){return{prompt:this.hasInput&&this.inputAttrs.value||"",isActive:!1,validationMessage:""}},computed:{dialogClass:function(){return[this.size,{"has-custom-container":null!==this.container}]},iconByType:function(){switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}},showCancel:function(){return this.cancelOptions.indexOf("button")>=0}},methods:{confirm:function(){var t=this;if(void 0!==this.$refs.input&&!this.$refs.input.checkValidity())return this.validationMessage=this.$refs.input.validationMessage,void this.$nextTick((function(){return t.$refs.input.select()}));this.onConfirm(this.prompt),this.close()},close:function(){var t=this;this.isActive=!1,setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150)}},beforeMount:function(){var t=this;"undefined"!=typeof window&&this.$nextTick((function(){(document.querySelector(t.container)||document.body).appendChild(t.$el)}))},mounted:function(){var t=this;this.isActive=!0,void 0===this.inputAttrs.required&&this.$set(this.inputAttrs,"required",!0),this.$nextTick((function(){t.hasInput?t.$refs.input.focus():"cancel"===t.focusOn&&t.showCancel?t.$refs.cancelButton.focus():t.$refs.confirmButton.focus()}))}};const qt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"dialog modal is-active",class:t.dialogClass,attrs:{role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){t.cancel("outside")}}}),t._v(" "),n("div",{staticClass:"modal-card animation-content"},[t.title?n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),n("section",{staticClass:"modal-card-body",class:{"is-titleless":!t.title,"is-flex":t.hasIcon}},[n("div",{staticClass:"media"},[t.hasIcon&&(t.icon||t.iconByType)?n("div",{staticClass:"media-left"},[n("b-icon",{attrs:{icon:t.icon?t.icon:t.iconByType,pack:t.iconPack,type:t.type,both:!t.icon,size:"is-large"}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[n("p",{domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t.hasInput?n("div",{staticClass:"field"},[n("div",{staticClass:"control"},["checkbox"===t.inputAttrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.prompt)?t._i(t.prompt,null)>-1:t.prompt},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.confirm(e):null},change:function(e){var n=t.prompt,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t._i(n,null);r.checked?c<0&&(t.prompt=n.concat([null])):c>-1&&(t.prompt=n.slice(0,c).concat(n.slice(c+1)))}else t.prompt=o}}},"input",t.inputAttrs,!1)):"radio"===t.inputAttrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:"radio"},domProps:{checked:t._q(t.prompt,null)},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.confirm(e):null},change:function(e){t.prompt=null}}},"input",t.inputAttrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:t.inputAttrs.type},domProps:{value:t.prompt},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.confirm(e):null},input:function(e){e.target.composing||(t.prompt=e.target.value)}}},"input",t.inputAttrs,!1))]),t._v(" "),n("p",{staticClass:"help is-danger"},[t._v(t._s(t.validationMessage))])]):t._e()])])]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[t.showCancel?n("button",{ref:"cancelButton",staticClass:"button",on:{click:function(e){t.cancel("button")}}},[t._v("\r\n                        "+t._s(t.cancelText)+"\r\n                    ")]):t._e(),t._v(" "),n("button",{ref:"confirmButton",staticClass:"button",class:t.type,on:{click:t.confirm}},[t._v("\r\n                        "+t._s(t.confirmText)+"\r\n                    ")])])])]):t._e()])},staticRenderFns:[]},void 0,$t,void 0,!1,void 0,!1,void 0,void 0,void 0);var Ht;function zt(t){return new(("undefined"!=typeof window&&window.Vue?window.Vue:Ht||o.a).extend(qt))({el:document.createElement("div"),propsData:t})}var Gt={alert:function(t){"string"==typeof t&&(t={message:t});return zt(Object(r.d)({canCancel:!1},t))},confirm:function(t){return zt(Object(r.d)({},t))},prompt:function(t){return zt(Object(r.d)({hasInput:!0,confirmText:"Done"},t))}},Wt={install:function(t){Ht=t,Object(c.c)(t,qt),Object(c.b)(t,"dialog",Gt)}};Object(c.d)(Wt);var dialog=Wt,Yt={install:function(t){Object(c.c)(t,nt),Object(c.c)(t,ot)}};Object(c.d)(Yt);var Kt=Yt,Xt={install:function(t){Object(c.c)(t,ct)}};Object(c.d)(Xt);var Jt=Xt,Qt={install:function(t){Object(c.c)(t,m)}};Object(c.d)(Qt);var Zt=Qt,te={install:function(t){Object(c.c)(t,w)}};Object(c.d)(te);var input=te,ee="undefined"==typeof window,ne=ee?Object:window.HTMLElement,ie=ee?Object:window.File;const re={name:"BLoading",props:{active:Boolean,programmatic:Boolean,container:[Object,Function,ne],isFullPage:{type:Boolean,default:!0},animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1,displayInFullPage:this.isFullPage}},watch:{active:function(t){this.isActive=t},isFullPage:function(t){this.displayInFullPage=t}},methods:{cancel:function(){this.canCancel&&this.isActive&&this.close()},close:function(){var t=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150))},keyPress:function(t){27===t.keyCode&&this.cancel()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&(this.container?(this.displayInFullPage=!1,this.$emit("update:is-full-page",!1),this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}};const oe=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:this.animation}},[this.isActive?e("div",{staticClass:"loading-overlay is-active",class:{"is-full-page":this.displayInFullPage}},[e("div",{staticClass:"loading-background",on:{click:this.cancel}}),this._v(" "),this._t("default",[e("div",{staticClass:"loading-icon"})])],2):this._e()])},staticRenderFns:[]},void 0,re,void 0,!1,void 0,!1,void 0,void 0,void 0);var se,ae={open:function(t){var e=Object(r.d)({programmatic:!0},t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:se||o.a).extend(oe))({el:document.createElement("div"),propsData:e})}},ue={install:function(t){se=t,Object(c.c)(t,oe),Object(c.b)(t,"loading",ae)}};Object(c.d)(ue);var ce=ue;const le={name:"BMenu",props:{accordion:{type:Boolean,default:!0}},data:function(){return{_isMenu:!0}}};const he=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"menu"},[this._t("default")],2)},staticRenderFns:[]},void 0,le,void 0,!1,void 0,!1,void 0,void 0,void 0);const fe={name:"BMenuList",functional:!0,props:{label:String,icon:String,iconPack:String,ariaRole:{type:String,default:""}},render:function(t,e){var n=null,r=e.slots();(e.props.label||r.label)&&(n=t("p",{attrs:{class:"menu-label"}},e.props.label?e.props.icon?[t("b-icon",{props:{icon:e.props.icon,pack:e.props.iconPack,size:"is-small"}}),t("span",{},e.props.label)]:e.props.label:r.label));var o=t("ul",{attrs:{class:"menu-list",role:"menu"===e.props.ariaRole?e.props.ariaRole:null}},r.default);return n?[n,o]:o}},de=Object(c.a)({},void 0,fe,void 0,void 0,void 0,!1,void 0,void 0,void 0);const pe={name:"BMenuItem",components:Object(l.a)({},m.name,m),inheritAttrs:!1,props:{label:String,active:Boolean,expanded:Boolean,disabled:Boolean,iconPack:String,icon:String,animation:{type:String,default:"fade"},tag:{type:String,default:"a",validator:function(t){return o.c.defaultLinkTags.indexOf(t)>=0}},ariaRole:{type:String,default:""}},data:function(){return{newActive:this.active,newExpanded:this.expanded}},computed:{ariaRoleMenu:function(){return"menuitem"===this.ariaRole?this.ariaRole:null}},watch:{active:function(t){this.newActive=t},expanded:function(t){this.newExpanded=t}},methods:{onClick:function(t){this.disabled||(this.reset(this.$parent),this.newExpanded=!0,this.$emit("update:expanded",this.newActive),this.newActive=!0,this.$emit("update:active",this.newActive))},reset:function(t){var e=this;t.$children.filter((function(t){return t.name===e.name})).forEach((function(n){n!==e&&(e.reset(n),(!t.$data._isMenu||t.$data._isMenu&&t.accordion)&&(n.newExpanded=!1,n.$emit("update:expanded",n.newActive)),n.newActive=!1,n.$emit("update:active",n.newActive))}))}}};const ve=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{attrs:{role:t.ariaRoleMenu}},[n(t.tag,t._g(t._b({tag:"component",class:{"is-active":t.newActive,"is-disabled":t.disabled},on:{click:function(e){t.onClick(e)}}},"component",t.$attrs,!1),t.$listeners),[t.icon?n("b-icon",{attrs:{icon:t.icon,pack:t.iconPack,size:"is-small"}}):t._e(),t._v(" "),t.label?n("span",[t._v(t._s(t.label))]):t._t("label",null,{expanded:t.newExpanded,active:t.newActive})],2),t._v(" "),t.$slots.default?[n("transition",{attrs:{name:t.animation}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.newExpanded,expression:"newExpanded"}]},[t._t("default")],2)])]:t._e()],2)},staticRenderFns:[]},void 0,pe,void 0,!1,void 0,!1,void 0,void 0,void 0);var me={install:function(t){Object(c.c)(t,he),Object(c.c)(t,de),Object(c.c)(t,ve)}};Object(c.d)(me);var menu=me,ye={components:Object(l.a)({},m.name,m),props:{active:{type:Boolean,default:!0},title:String,closable:{type:Boolean,default:!0},message:String,type:String,hasIcon:Boolean,size:String,icon:String,iconPack:String,iconSize:String,autoClose:{type:Boolean,default:!1},duration:{type:Number,default:2e3}},data:function(){return{isActive:this.active}},watch:{active:function(t){this.isActive=t},isActive:function(t){t?this.setAutoClose():this.timer&&clearTimeout(this.timer)}},computed:{computedIcon:function(){if(this.icon)return this.icon;switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}}},methods:{close:function(){this.isActive=!1,this.$emit("close"),this.$emit("update:active",!1)},setAutoClose:function(){var t=this;this.autoClose&&(this.timer=setTimeout((function(){t.isActive&&t.close()}),this.duration))}},mounted:function(){this.setAutoClose()}};const ge={name:"BMessage",mixins:[ye],props:{ariaCloseLabel:String},data:function(){return{newIconSize:this.iconSize||this.size||"is-large"}}};const be=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.isActive?n("article",{staticClass:"message",class:[t.type,t.size]},[t.title?n("header",{staticClass:"message-header"},[n("p",[t._v(t._s(t.title))]),t._v(" "),t.closable?n("button",{staticClass:"delete",attrs:{type:"button","aria-label":t.ariaCloseLabel},on:{click:t.close}}):t._e()]):t._e(),t._v(" "),n("section",{staticClass:"message-body"},[n("div",{staticClass:"media"},[t.computedIcon&&t.hasIcon?n("div",{staticClass:"media-left"},[n("b-icon",{class:t.type,attrs:{icon:t.computedIcon,pack:t.iconPack,both:"",size:t.newIconSize}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[t._t("default")],2)])])]):t._e()])},staticRenderFns:[]},void 0,ge,void 0,!1,void 0,!1,void 0,void 0,void 0);var we={install:function(t){Object(c.c)(t,be)}};Object(c.d)(we);var _e,Ie=we,Se={open:function(t){var e;"string"==typeof t&&(t={content:t});t.parent&&(e=t.parent,delete t.parent);var n=Object(r.d)({programmatic:!0},t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:_e||o.a).extend(Ut))({parent:e,el:document.createElement("div"),propsData:n})}},ke={install:function(t){_e=t,Object(c.c)(t,Ut),Object(c.b)(t,"modal",Se)}};Object(c.d)(ke);var Ee=ke,Te=n(30);const Ae={name:"BNotification",mixins:[ye],props:{position:String,ariaCloseLabel:String,animation:{type:String,default:"fade"}}};const De=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[n("article",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"notification",class:[t.type,t.position]},[t.closable?n("button",{staticClass:"delete",attrs:{type:"button","aria-label":t.ariaCloseLabel},on:{click:t.close}}):t._e(),t._v(" "),n("div",{staticClass:"media"},[t.computedIcon&&t.hasIcon?n("div",{staticClass:"media-left"},[n("b-icon",{attrs:{icon:t.computedIcon,pack:t.iconPack,both:"",size:"is-large","aria-hidden":""}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[t.message?n("p",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}}):t._t("default")],2)])])])},staticRenderFns:[]},void 0,Ae,void 0,!1,void 0,!1,void 0,void 0,void 0);const Ne={name:"BNotificationNotice",mixins:[Te.a],props:{indefinite:{type:Boolean,default:!1}},data:function(){return{newDuration:this.duration||o.c.defaultNotificationDuration}}};const Ce=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("b-notification",this._b({on:{close:this.close}},"b-notification",this.$options.propsData,!1))},staticRenderFns:[]},void 0,Ne,void 0,!1,void 0,!1,void 0,void 0,void 0);var Oe,xe={open:function(t){var e;"string"==typeof t&&(t={message:t});var n={position:o.c.defaultNotificationPosition||"is-top-right"};t.parent&&(e=t.parent,delete t.parent);var c=Object(r.d)(n,t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:Oe||o.a).extend(Ce))({parent:e,el:document.createElement("div"),propsData:c})}},Pe={install:function(t){Oe=t,Object(c.c)(t,De),Object(c.b)(t,"notification",xe)}};Object(c.d)(Pe);var Re=Pe;const Me={name:"NavbarBurger",props:{isOpened:{type:Boolean,default:!1}}};const Le=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",this._g({staticClass:"navbar-burger burger",class:{"is-active":this.isOpened},attrs:{role:"button","aria-label":"menu","aria-expanded":this.isOpened}},this.$listeners),[e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}})])},staticRenderFns:[]},void 0,Me,void 0,!1,void 0,!1,void 0,void 0,void 0);var je="undefined"!=typeof window&&("ontouchstart"in window||navigator.msMaxTouchPoints>0)?["touchstart","click"]:["click"],Ve=[];function Be(t){var e="function"==typeof t;if(!e&&"object"!==Object(l.c)(t))throw new Error("v-click-outside: Binding value should be a function or an object, typeof ".concat(t," given"));return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||je}}function Fe(t){var e=t.el,n=t.event,r=t.handler,o=t.middleware;n.target!==e&&!e.contains(n.target)&&o(n,e)&&r(n,e)}var Ue={bind:function(t,e){var n=Be(e.value),r=n.handler,o=n.middleware,c=n.events,l={el:t,eventHandlers:c.map((function(e){return{event:e,handler:function(e){return Fe({event:e,el:t,handler:r,middleware:o})}}}))};l.eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.addEventListener(e,n)})),Ve.push(l)},update:function(t,e){var n=Be(e.value),r=n.handler,o=n.middleware,c=n.events,l=Ve.find((function(e){return e.el===t}));l.eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.removeEventListener(e,n)})),l.eventHandlers=c.map((function(e){return{event:e,handler:function(e){return Fe({event:e,el:t,handler:r,middleware:o})}}})),l.eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.addEventListener(e,n)}))},unbind:function(t){Ve.find((function(e){return e.el===t})).eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.removeEventListener(e,n)}))},instances:Ve};const $e={name:"BNavbar",components:{NavbarBurger:Le},directives:{clickOutside:Ue},props:{type:[String,Object],transparent:{type:Boolean,default:!1},fixedTop:{type:Boolean,default:!1},fixedBottom:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},wrapperClass:{type:String},closeOnClick:{type:Boolean,default:!0},mobileBurger:{type:Boolean,default:!0},spaced:Boolean,shadow:Boolean},data:function(){return{internalIsActive:this.isActive}},computed:{isOpened:function(){return this.internalIsActive},computedClasses:function(){var t;return[this.type,(t={},Object(l.a)(t,"is-fixed-top",this.fixedTop),Object(l.a)(t,"is-fixed-bottom",this.fixedBottom),Object(l.a)(t,"is-spaced",this.spaced),Object(l.a)(t,"has-shadow",this.shadow),Object(l.a)(t,"is-transparent",this.transparent),t)]}},watch:{isActive:{handler:function(t){this.internalIsActive=t},immediate:!0},fixedTop:{handler:function(t){this.checkIfFixedPropertiesAreColliding(),t?(this.setBodyClass("has-navbar-fixed-top"),this.spaced&&this.setBodyClass("has-spaced-navbar-fixed-top")):(this.removeBodyClass("has-navbar-fixed-top"),this.removeBodyClass("has-spaced-navbar-fixed-top"))},immediate:!0},fixedBottom:{handler:function(t){this.checkIfFixedPropertiesAreColliding(),t?(this.setBodyClass("has-navbar-fixed-bottom"),this.spaced&&this.setBodyClass("has-spaced-navbar-fixed-bottom")):(this.removeBodyClass("has-navbar-fixed-bottom"),this.removeBodyClass("has-spaced-navbar-fixed-bottom"))},immediate:!0}},methods:{toggleActive:function(){this.internalIsActive=!this.internalIsActive,this.emitUpdateParentEvent()},closeMenu:function(){this.closeOnClick&&(this.internalIsActive=!1,this.emitUpdateParentEvent())},emitUpdateParentEvent:function(){this.$emit("update:isActive",this.internalIsActive)},setBodyClass:function(t){"undefined"!=typeof window&&document.body.classList.add(t)},removeBodyClass:function(t){"undefined"!=typeof window&&document.body.classList.remove(t)},checkIfFixedPropertiesAreColliding:function(){if(this.fixedTop&&this.fixedBottom)throw new Error("You should choose if the BNavbar is fixed bottom or fixed top, but not both")},genNavbar:function(t){var e=[this.genNavbarBrandNode(t),this.genNavbarSlotsNode(t)];if(!this.wrapperClass)return this.genNavbarSlots(t,e);var n=t("div",{class:this.wrapperClass},e);return this.genNavbarSlots(t,[n])},genNavbarSlots:function(t,e){return t("nav",{staticClass:"navbar",class:this.computedClasses,attrs:{role:"navigation","aria-label":"main navigation"},directives:[{name:"click-outside",value:this.closeMenu}]},e)},genNavbarBrandNode:function(t){return t("div",{class:"navbar-brand"},[this.$slots.brand,this.genBurgerNode(t)])},genBurgerNode:function(t){if(this.mobileBurger){var e=t("navbar-burger",{props:{isOpened:this.isOpened},on:{click:this.toggleActive}});return!!this.$scopedSlots.burger?this.$scopedSlots.burger({isOpened:this.isOpened,toggleActive:this.toggleActive}):e}},genNavbarSlotsNode:function(t){return t("div",{staticClass:"navbar-menu",class:{"is-active":this.isOpened}},[this.genMenuPosition(t,"start"),this.genMenuPosition(t,"end")])},genMenuPosition:function(t,e){return t("div",{staticClass:"navbar-".concat(e)},this.$slots[e])}},beforeDestroy:function(){if(this.fixedTop){var t=this.spaced?"has-spaced-navbar-fixed-top":"has-navbar-fixed-top";this.removeBodyClass(t)}else if(this.fixedBottom){var e=this.spaced?"has-spaced-navbar-fixed-bottom":"has-navbar-fixed-bottom";this.removeBodyClass(e)}},render:function(t,e){return this.genNavbar(t)}},qe=Object(c.a)({},void 0,$e,void 0,void 0,void 0,!1,void 0,void 0,void 0);var He=["div","span"];const ze={name:"BNavbarItem",inheritAttrs:!1,props:{tag:{type:String,default:"a"},active:Boolean},methods:{keyPress:function(t){27===t.keyCode&&this.$parent.closeMenu()},handleClickEvent:function(t){He.some((function(e){return e===t.target.localName}))||(this.$parent.$data._isNavDropdown?(this.$parent.closeMenu(),this.$parent.$parent.closeMenu()):this.$parent.closeMenu())}},mounted:function(){"undefined"!=typeof window&&(this.$el.addEventListener("click",this.handleClickEvent),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(this.$el.removeEventListener("click",this.handleClickEvent),document.removeEventListener("keyup",this.keyPress))}};const Ge=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)(this.tag,this._g(this._b({tag:"component",staticClass:"navbar-item",class:{"is-active":this.active}},"component",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,ze,void 0,!1,void 0,!1,void 0,void 0,void 0);const We={name:"BNavbarDropdown",directives:{clickOutside:Ue},props:{label:String,hoverable:Boolean,active:Boolean,right:Boolean,arrowless:Boolean,boxed:Boolean,closeOnClick:{type:Boolean,default:!0}},data:function(){return{newActive:this.active,isHoverable:this.hoverable,_isNavDropdown:!0}},watch:{active:function(t){this.newActive=t}},methods:{showMenu:function(){this.newActive=!0},closeMenu:function(){this.newActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1)},checkHoverable:function(){this.hoverable&&(this.isHoverable=!0)}}};const Ye=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"navbar-item has-dropdown",class:{"is-hoverable":t.isHoverable,"is-active":t.newActive},on:{mouseenter:t.checkHoverable}},[n("a",{staticClass:"navbar-link",class:{"is-arrowless":t.arrowless},attrs:{role:"menuitem","aria-haspopup":"true",href:"#"},on:{click:function(e){e.preventDefault(),t.newActive=!t.newActive}}},[t.label?[t._v(t._s(t.label))]:t._t("label")],2),t._v(" "),n("div",{staticClass:"navbar-dropdown",class:{"is-right":t.right,"is-boxed":t.boxed}},[t._t("default")],2)])},staticRenderFns:[]},void 0,We,void 0,!1,void 0,!1,void 0,void 0,void 0);var Ke={install:function(t){Object(c.c)(t,qe),Object(c.c)(t,Ge),Object(c.c)(t,Ye)}};Object(c.d)(Ke);var Xe,Je=Ke;const Qe={name:"BNumberinput",components:(Xe={},Object(l.a)(Xe,m.name,m),Object(l.a)(Xe,w.name,w),Xe),mixins:[h],inheritAttrs:!1,props:{value:Number,min:[Number,String],max:[Number,String],step:[Number,String],disabled:Boolean,type:{type:String,default:"is-primary"},editable:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},controlsRounded:{type:Boolean,default:!1},controlsPosition:String},data:function(){return{newValue:isNaN(this.value)?parseFloat(this.min)||0:this.value,newStep:this.step||1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){var e=t;""===t&&(e=parseFloat(this.min)||null),this.newValue=e,this.$emit("input",e),!this.isValid&&this.$refs.input.checkHtml5Validity()}},fieldClasses:function(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses:function(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber:function(){return"string"==typeof this.min?parseFloat(this.min):this.min},maxNumber:function(){return"string"==typeof this.max?parseFloat(this.max):this.max},stepNumber:function(){return"string"==typeof this.newStep?parseFloat(this.newStep):this.newStep},disabledMin:function(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax:function(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals:function(){var t=this.stepNumber.toString(),e=t.indexOf(".");return e>=0?t.substring(e+1).length:0}},watch:{value:function(t){this.newValue=t}},methods:{decrement:function(){if(void 0===this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){var t=this.computedValue-this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},increment:function(){if(void 0===this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){var t=this.computedValue+this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},onControlClick:function(t,e){0===t.detail&&"click"!==t.type&&(e?this.increment():this.decrement())},onStartLongPress:function(t,e){var n=this;0!==t.button&&"touchstart"!==t.type||(this._$intervalTime=new Date,clearInterval(this._$intervalRef),this._$intervalRef=setInterval((function(){e?n.increment():n.decrement()}),250))},onStopLongPress:function(t){this._$intervalRef&&(new Date-this._$intervalTime<250&&(t?this.increment():this.decrement()),clearInterval(this._$intervalRef),this._$intervalRef=null)}}};const Ze=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[t.controls?n("p",{staticClass:"control",on:{mouseup:function(e){t.onStopLongPress(!1)},mouseleave:function(e){t.onStopLongPress(!1)},touchend:function(e){t.onStopLongPress(!1)},touchcancel:function(e){t.onStopLongPress(!1)}}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMin},on:{mousedown:function(e){t.onStartLongPress(e,!1)},touchstart:function(e){e.preventDefault(),t.onStartLongPress(e,!1)},click:function(e){t.onControlClick(e,!1)}}},[n("b-icon",{attrs:{icon:"minus",pack:t.iconPack,size:t.iconSize}})],1)]):t._e(),t._v(" "),n("b-input",t._b({ref:"input",attrs:{type:"number",step:t.newStep,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){t.$emit("focus",e)},blur:function(e){t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=t._n(e)},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._v(" "),t.controls?n("p",{staticClass:"control",on:{mouseup:function(e){t.onStopLongPress(!0)},mouseleave:function(e){t.onStopLongPress(!0)},touchend:function(e){t.onStopLongPress(!0)},touchcancel:function(e){t.onStopLongPress(!0)}}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMax},on:{mousedown:function(e){t.onStartLongPress(e,!0)},touchstart:function(e){e.preventDefault(),t.onStartLongPress(e,!0)},click:function(e){t.onControlClick(e,!0)}}},[n("b-icon",{attrs:{icon:"plus",pack:t.iconPack,size:t.iconSize}})],1)]):t._e()],1)},staticRenderFns:[]},void 0,Qe,void 0,!1,void 0,!1,void 0,void 0,void 0);var tn={install:function(t){Object(c.c)(t,Ze)}};Object(c.d)(tn);var en=tn;const nn={name:"BPaginationButton",props:{page:{type:Object,required:!0},tag:{type:String,default:"a",validator:function(t){return o.c.defaultLinkTags.indexOf(t)>=0}},disabled:{type:Boolean,default:!1}},computed:{href:function(){if("a"===this.tag)return"#"},isDisabled:function(){return this.disabled||this.page.disabled}}};const rn=Object(c.a)({render:function(){var t,e=this,n=e.$createElement;return(e._self._c||n)(e.tag,e._b({tag:"component",staticClass:"pagination-link",class:(t={"is-current":e.page.isCurrent},t[e.page.class]=!0,t),attrs:{role:"button",href:e.href,disabled:e.isDisabled,"aria-label":e.page["aria-label"],"aria-current":e.page.isCurrent},on:{click:function(t){return t.preventDefault(),e.page.click(t)}}},"component",e.$attrs,!1),[e._t("default",[e._v(e._s(e.page.number))])],2)},staticRenderFns:[]},void 0,nn,void 0,!1,void 0,!1,void 0,void 0,void 0);var on;const sn={name:"BPagination",components:(on={},Object(l.a)(on,m.name,m),Object(l.a)(on,rn.name,rn),on),props:{total:[Number,String],perPage:{type:[Number,String],default:20},current:{type:[Number,String],default:1},rangeBefore:{type:[Number,String],default:1},rangeAfter:{type:[Number,String],default:1},size:String,simple:Boolean,rounded:Boolean,order:String,iconPack:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String},computed:{rootClasses:function(){return[this.order,this.size,{"is-simple":this.simple,"is-rounded":this.rounded}]},beforeCurrent:function(){return parseInt(this.rangeBefore)},afterCurrent:function(){return parseInt(this.rangeAfter)},pageCount:function(){return Math.ceil(this.total/this.perPage)},firstItem:function(){var t=this.current*this.perPage-this.perPage+1;return t>=0?t:0},hasPrev:function(){return this.current>1},hasFirst:function(){return this.current>=2+this.beforeCurrent},hasFirstEllipsis:function(){return this.current>=this.beforeCurrent+4},hasLast:function(){return this.current<=this.pageCount-(1+this.afterCurrent)},hasLastEllipsis:function(){return this.current<this.pageCount-(2+this.afterCurrent)},hasNext:function(){return this.current<this.pageCount},pagesInRange:function(){if(!this.simple){var t=Math.max(1,this.current-this.beforeCurrent);t-1==2&&t--;var e=Math.min(this.current+this.afterCurrent,this.pageCount);this.pageCount-e==2&&e++;for(var n=[],i=t;i<=e;i++)n.push(this.getPage(i));return n}}},watch:{pageCount:function(t){this.current>t&&this.last()}},methods:{prev:function(t){this.changePage(this.current-1,t)},next:function(t){this.changePage(this.current+1,t)},first:function(t){this.changePage(1,t)},last:function(t){this.changePage(this.pageCount,t)},changePage:function(t,e){this.current===t||t<1||t>this.pageCount||(this.$emit("change",t),this.$emit("update:current",t),e&&e.target&&this.$nextTick((function(){return e.target.focus()})))},getPage:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{number:t,isCurrent:this.current===t,click:function(n){return e.changePage(t,n)},disabled:n.disabled||!1,class:n.class||"","aria-label":n["aria-label"]||this.getAriaPageLabel(t,this.current===t)}},getAriaPageLabel:function(t,e){return!this.ariaPageLabel||e&&this.ariaCurrentLabel?this.ariaPageLabel&&e&&this.ariaCurrentLabel?this.ariaCurrentLabel+", "+this.ariaPageLabel+" "+t+".":null:this.ariaPageLabel+" "+t+"."}}};const an=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"pagination",class:t.rootClasses},[t.$scopedSlots.previous?t._t("previous",[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current-1,{disabled:!t.hasPrev,class:"pagination-previous","aria-label":t.ariaPreviousLabel})}):n("BPaginationButton",{staticClass:"pagination-previous",attrs:{disabled:!t.hasPrev,page:t.getPage(t.current-1)}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),t.$scopedSlots.next?t._t("next",[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current+1,{disabled:!t.hasNext,class:"pagination-next","aria-label":t.ariaNextLabel})}):n("BPaginationButton",{staticClass:"pagination-next",attrs:{disabled:!t.hasNext,page:t.getPage(t.current+1)}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),t.simple?n("small",{staticClass:"info"},[1==t.perPage?[t._v("\r\n                "+t._s(t.firstItem)+" / "+t._s(t.total)+"\r\n            ")]:[t._v("\r\n                "+t._s(t.firstItem)+"-"+t._s(Math.min(t.current*t.perPage,t.total))+" / "+t._s(t.total)+"\r\n            ")]],2):n("ul",{staticClass:"pagination-list"},[t.hasFirst?n("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(1)}):n("BPaginationButton",{attrs:{page:t.getPage(1)}})],2):t._e(),t._v(" "),t.hasFirstEllipsis?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("")])]):t._e(),t._v(" "),t._l(t.pagesInRange,(function(e){return n("li",{key:e.number},[t.$scopedSlots.default?t._t("default",null,{page:e}):n("BPaginationButton",{attrs:{page:e}})],2)})),t._v(" "),t.hasLastEllipsis?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("")])]):t._e(),t._v(" "),t.hasLast?n("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(t.pageCount)}):n("BPaginationButton",{attrs:{page:t.getPage(t.pageCount)}})],2):t._e()],2)],2)},staticRenderFns:[]},void 0,sn,void 0,!1,void 0,!1,void 0,void 0,void 0);var un={install:function(t){Object(c.c)(t,an),Object(c.c)(t,rn)}};Object(c.d)(un);var cn=un;const ln={name:"BProgress",props:{type:{type:[String,Object],default:"is-darkgrey"},size:String,value:{type:Number,default:void 0},max:{type:Number,default:100},showValue:{type:Boolean,default:!1},format:{type:String,default:"raw",validator:function(t){return["raw","percent"].indexOf(t)>=0}},precision:{type:Number,default:2},keepTrailingZeroes:{type:Boolean,default:!1}},computed:{isIndeterminate:function(){return void 0===this.value||null===this.value},newType:function(){return[this.size,this.type]},newValue:function(){if(void 0!==this.value&&null!==this.value&&!isNaN(this.value)){if("percent"===this.format){var t=this.toFixed(100*this.value/this.max);return"".concat(t,"%")}return this.toFixed(this.value)}}},watch:{value:function(t){this.setValue(t)}},methods:{setValue:function(t){this.isIndeterminate?this.$refs.progress.removeAttribute("value"):this.$refs.progress.setAttribute("value",t)},toFixed:function(t){var e=(+"".concat(Math.round(+"".concat(t,"e").concat(this.precision)),"e").concat(-this.precision)).toFixed(this.precision);return this.keepTrailingZeroes||(e=e.replace(/\.?0+$/,"")),e}},mounted:function(){this.setValue(this.value)}};const hn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-wrapper"},[n("progress",{ref:"progress",staticClass:"progress",class:t.newType,attrs:{max:t.max}},[t._v(t._s(t.newValue))]),t._v(" "),t.showValue?n("p",{staticClass:"progress-value"},[t._t("default",[t._v(t._s(t.newValue))])],2):t._e()])},staticRenderFns:[]},void 0,ln,void 0,!1,void 0,!1,void 0,void 0,void 0);var fn={install:function(t){Object(c.c)(t,hn)}};Object(c.d)(fn);var progress=fn;const dn={name:"BRadio",mixins:[j]};const pn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"b-radio radio",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(t){t.stopPropagation()},change:function(e){t.computedValue=t.nativeValue}}}),t._v(" "),n("span",{staticClass:"check",class:t.type}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,dn,void 0,!1,void 0,!1,void 0,void 0,void 0);const vn={name:"BRadioButton",mixins:[j],props:{type:{type:String,default:"is-primary"},expanded:Boolean},data:function(){return{isFocused:!1}}};const mn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[n("label",{ref:"label",staticClass:"b-radio radio button",class:[t.newValue===t.nativeValue?t.type:null,t.size,{"is-disabled":t.disabled,"is-focused":t.isFocused}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[t._t("default"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(t){t.stopPropagation()},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},change:function(e){t.computedValue=t.nativeValue}}})],2)])},staticRenderFns:[]},void 0,vn,void 0,!1,void 0,!1,void 0,void 0,void 0);var yn={install:function(t){Object(c.c)(t,pn),Object(c.c)(t,mn)}};Object(c.d)(yn);var gn=yn;const bn={name:"BRate",components:Object(l.a)({},m.name,m),props:{value:{type:Number,default:0},max:{type:Number,default:5},icon:{type:String,default:"star"},iconPack:String,size:String,spaced:Boolean,rtl:Boolean,disabled:Boolean,showScore:Boolean,showText:Boolean,customText:String,texts:Array},data:function(){return{newValue:this.value,hoverValue:0}},computed:{halfStyle:function(){return"width:".concat(this.valueDecimal,"%")},showMe:function(){var t="";return this.showScore?0===(t=this.disabled?this.value:this.newValue)&&(t=""):this.showText&&(t=this.texts[Math.ceil(this.newValue)-1]),t},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)}},watch:{value:function(t){this.newValue=t}},methods:{resetNewValue:function(){this.disabled||(this.hoverValue=0)},previewRate:function(t,e){this.disabled||(this.hoverValue=t,e.stopPropagation())},confirmValue:function(t){this.disabled||(this.newValue=t,this.$emit("change",this.newValue),this.$emit("input",this.newValue))},checkHalf:function(t){return this.disabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value},rateClass:function(t){var output="";return t<=(0!==this.hoverValue?this.hoverValue:this.newValue)?output="set-on":this.disabled&&Math.ceil(this.value)===t&&(output="set-half"),output}}};const wn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate",class:{"is-disabled":t.disabled,"is-spaced":t.spaced,"is-rtl":t.rtl}},[t._l(t.max,(function(e,r){return n("div",{key:r,staticClass:"rate-item",class:t.rateClass(e),on:{mousemove:function(n){t.previewRate(e,n)},mouseleave:t.resetNewValue,click:function(n){n.preventDefault(),t.confirmValue(e)}}},[n("b-icon",{attrs:{pack:t.iconPack,icon:t.icon,size:t.size}}),t._v(" "),t.checkHalf(e)?n("b-icon",{staticClass:"is-half",style:t.halfStyle,attrs:{pack:t.iconPack,icon:t.icon,size:t.size}}):t._e()],1)})),t._v(" "),t.showText||t.showScore||t.customText?n("div",{staticClass:"rate-text",class:t.size},[n("span",[t._v(t._s(t.showMe))]),t._v(" "),t.customText&&!t.showText?n("span",[t._v(t._s(t.customText))]):t._e()]):t._e()],2)},staticRenderFns:[]},void 0,bn,void 0,!1,void 0,!1,void 0,void 0,void 0);var _n={install:function(t){Object(c.c)(t,wn)}};Object(c.d)(_n);var In=_n,Sn={install:function(t){Object(c.c)(t,bt)}};Object(c.d)(Sn);var kn=Sn;const En={name:"BTooltip",props:{active:{type:Boolean,default:!0},type:String,label:String,position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom","is-left","is-right"].indexOf(t)>-1}},always:Boolean,animated:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},delay:Number},computed:{newType:function(){return this.type||o.c.defaultTooltipType},newAnimated:function(){return this.animated||o.c.defaultTooltipAnimated},newDelay:function(){return this.delay||o.c.defaultTooltipDelay}}};const Tn=Object(c.a)({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:[t.newType,t.position,t.size,{"b-tooltip":t.active,"is-square":t.square,"is-animated":t.newAnimated,"is-always":t.always,"is-multiline":t.multilined,"is-dashed":t.dashed}],style:{"transition-delay":t.newDelay+"ms"},attrs:{"data-label":t.label}},[t._t("default")],2)},staticRenderFns:[]},void 0,En,void 0,!1,void 0,!1,void 0,void 0,void 0);const An={name:"BSliderThumb",components:Object(l.a)({},Tn.name,Tn),inheritAttrs:!1,props:{value:{type:Number,default:0},type:{type:String,default:""},tooltip:{type:Boolean,default:!0},customFormatter:Function},data:function(){return{isFocused:!1,dragging:!1,startX:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.disabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return"".concat((this.value-this.min)/(this.max-this.min)*100,"%")},wrapperStyle:function(){return{left:this.currentPosition}},tooltipLabel:function(){return void 0!==this.customFormatter?this.customFormatter(this.value):this.value.toString()}},methods:{onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),"undefined"!=typeof window&&(document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd)))},onLeftKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onRightKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onHomeKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=0,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onEndKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onDragStart:function(t){this.dragging=!0,this.$emit("dragstart"),"touchstart"===t.type&&(t.clientX=t.touches[0].clientX),this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){"touchmove"===t.type&&(t.clientX=t.touches[0].clientX);var e=(t.clientX-this.startX)/this.$parent.sliderSize*100;this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){this.dragging=!1,this.$emit("dragend"),this.value!==this.oldValue&&this.$parent.emitValue("change"),this.setPosition(this.newPosition),"undefined"!=typeof window&&(document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var e=100/((this.max-this.min)/this.step),n=Math.round(t/e)*e/100*(this.max-this.min)+this.min;n=parseFloat(n.toFixed(this.precision)),this.$emit("input",n),this.dragging||n===this.oldValue||(this.oldValue=n)}}}};const Dn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider-thumb-wrapper",class:{"is-dragging":t.dragging},style:t.wrapperStyle},[n("b-tooltip",{attrs:{label:t.tooltipLabel,type:t.type,always:t.dragging||t.isFocused,active:!t.disabled&&t.tooltip}},[n("div",t._b({staticClass:"b-slider-thumb",attrs:{tabindex:!t.disabled&&0},on:{mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.onFocus,blur:t.onBlur,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?"button"in e&&2!==e.button?null:(e.preventDefault(),t.onRightKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.onRightKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"home",void 0,e.key,void 0)?(e.preventDefault(),t.onHomeKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"end",void 0,e.key,void 0)?(e.preventDefault(),t.onEndKeyDown(e)):null}]}},"div",t.$attrs,!1))])],1)},staticRenderFns:[]},void 0,An,void 0,!1,void 0,!1,void 0,void 0,void 0);const Nn={name:"BSliderTick",props:{value:{type:Number,default:0}},computed:{position:function(){var t=(this.value-this.$parent.min)/(this.$parent.max-this.$parent.min)*100;return t>=0&&t<=100?t:0},hidden:function(){return this.value===this.$parent.min||this.value===this.$parent.max}},methods:{getTickStyle:function(t){return{left:t+"%"}}},created:function(){if(!this.$parent.$data._isSlider)throw this.$destroy(),new Error("You should wrap bSliderTick on a bSlider")}};const Cn=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-slider-tick",class:{"is-tick-hidden":this.hidden},style:this.getTickStyle(this.position)},[this.$slots.default?e("span",{staticClass:"b-slider-tick-label"},[this._t("default")],2):this._e()])},staticRenderFns:[]},void 0,Nn,void 0,!1,void 0,!1,void 0,void 0,void 0);var On;const xn={name:"BSlider",components:(On={},Object(l.a)(On,Dn.name,Dn),Object(l.a)(On,Cn.name,Cn),On),props:{value:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},type:{type:String,default:"is-primary"},size:String,ticks:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0},tooltipType:String,rounded:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},customFormatter:Function,ariaLabel:[String,Array]},data:function(){return{value1:null,value2:null,dragging:!1,isRange:!1,_isSlider:!0}},computed:{newTooltipType:function(){return this.tooltipType?this.tooltipType:this.type},tickValues:function(){if(!this.ticks||this.min>this.max||0===this.step)return[];for(var t=[],i=this.min+this.step;i<this.max;i+=this.step)t.push(i);return t},minValue:function(){return Math.min(this.value1,this.value2)},maxValue:function(){return Math.max(this.value1,this.value2)},barSize:function(){return this.isRange?"".concat(100*(this.maxValue-this.minValue)/(this.max-this.min),"%"):"".concat(100*(this.value1-this.min)/(this.max-this.min),"%")},barStart:function(){return this.isRange?"".concat(100*(this.minValue-this.min)/(this.max-this.min),"%"):"0%"},precision:function(){var t=[this.min,this.max,this.step].map((function(t){var e=(""+t).split(".")[1];return e?e.length:0}));return Math.max.apply(Math,Object(l.d)(t))},barStyle:function(){return{width:this.barSize,left:this.barStart}},sliderSize:function(){return this.$refs.slider.clientWidth},rootClasses:function(){return{"is-rounded":this.rounded,"is-dragging":this.dragging,"is-disabled":this.disabled}}},watch:{value:function(t){this.setValues(t)},value1:function(){this.onInternalValueUpdate()},value2:function(){this.onInternalValueUpdate()},min:function(){this.setValues(this.value)},max:function(){this.setValues(this.value)}},methods:{setValues:function(t){if(!(this.min>this.max))if(Array.isArray(t)){this.isRange=!0;var e="number"!=typeof t[0]||isNaN(t[0])?this.min:Math.min(Math.max(this.min,t[0]),this.max),n="number"!=typeof t[1]||isNaN(t[1])?this.max:Math.max(Math.min(this.max,t[1]),this.min);this.value1=this.isThumbReversed?n:e,this.value2=this.isThumbReversed?e:n}else this.isRange=!1,this.value1=isNaN(t)?this.min:Math.min(this.max,Math.max(this.min,t)),this.value2=null},onInternalValueUpdate:function(){this.isRange&&(this.isThumbReversed=this.value1>this.value2),this.lazy&&this.dragging||this.emitValue("input"),this.dragging&&this.emitValue("dragging")},onSliderClick:function(t){if(!this.disabled&&!this.isTrackClickDisabled){var e=this.$refs.slider.getBoundingClientRect().left,n=(t.clientX-e)/this.sliderSize*100,r=this.min+n*(this.max-this.min)/100,o=Math.abs(r-this.value1);if(this.isRange){var c=Math.abs(r-this.value2);if(o<=c){if(o<this.step/2)return;this.$refs.button1.setPosition(n)}else{if(c<this.step/2)return;this.$refs.button2.setPosition(n)}}else{if(o<this.step/2)return;this.$refs.button1.setPosition(n)}this.emitValue("change")}},onDragStart:function(){this.dragging=!0,this.$emit("dragstart")},onDragEnd:function(){var t=this;this.isTrackClickDisabled=!0,setTimeout((function(){t.isTrackClickDisabled=!1}),0),this.dragging=!1,this.$emit("dragend"),this.lazy&&this.emitValue("input")},emitValue:function(t){this.$emit(t,this.isRange?[this.minValue,this.maxValue]:this.value1)}},created:function(){this.isThumbReversed=!1,this.isTrackClickDisabled=!1,this.setValues(this.value)}};const Pn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider",class:[t.size,t.type,t.rootClasses]},[n("div",{ref:"slider",staticClass:"b-slider-track",on:{click:t.onSliderClick}},[n("div",{staticClass:"b-slider-fill",style:t.barStyle}),t._v(" "),t.ticks?t._l(t.tickValues,(function(t,e){return n("b-slider-tick",{key:e,attrs:{value:t}})})):t._e(),t._v(" "),t._t("default"),t._v(" "),n("b-slider-thumb",{ref:"button1",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value1,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[0]:t.ariaLabel,"aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),t.isRange?n("b-slider-thumb",{ref:"button2",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value2,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[1]:"","aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}):t._e()],2)])},staticRenderFns:[]},void 0,xn,void 0,!1,void 0,!1,void 0,void 0,void 0);var Rn={install:function(t){Object(c.c)(t,Pn),Object(c.c)(t,Cn)}};Object(c.d)(Rn);var Mn=Rn;const Ln={name:"BSnackbar",mixins:[Te.a],props:{actionText:{type:String,default:"OK"},onAction:{type:Function,default:function(){}},indefinite:{type:Boolean,default:!1}},data:function(){return{newDuration:this.duration||o.c.defaultSnackbarDuration}},methods:{action:function(){this.onAction(),this.close()}}};const jn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"snackbar",class:[t.type,t.position],attrs:{role:t.actionText?"alertdialog":"alert"}},[n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t.actionText?n("div",{staticClass:"action",class:t.type,on:{click:t.action}},[n("button",{staticClass:"button"},[t._v(t._s(t.actionText))])]):t._e()])])},staticRenderFns:[]},void 0,Ln,void 0,!1,void 0,!1,void 0,void 0,void 0);var Vn,Bn={open:function(t){var e;"string"==typeof t&&(t={message:t});var n={type:"is-success",position:o.c.defaultSnackbarPosition||"is-bottom-right"};t.parent&&(e=t.parent,delete t.parent);var c=Object(r.d)(n,t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:Vn||o.a).extend(jn))({parent:e,el:document.createElement("div"),propsData:c})}},Fn={install:function(t){Vn=t,Object(c.b)(t,"snackbar",Bn)}};Object(c.d)(Fn);var Un,$n=Fn,qn={name:"BSlotComponent",props:{component:{type:Object,required:!0},name:{type:String,default:"default"},scoped:{type:Boolean},props:{type:Object},tag:{type:String,default:"div"},event:{type:String,default:"hook:updated"}},methods:{refresh:function(){this.$forceUpdate()},isVueComponent:function(){return this.component&&this.component._isVue}},created:function(){this.isVueComponent()&&this.component.$on(this.event,this.refresh)},beforeDestroy:function(){this.isVueComponent()&&this.component.$off(this.event,this.refresh)},render:function(t){if(this.isVueComponent())return t(this.tag,{},this.scoped?this.component.$scopedSlots[this.name](this.props):this.component.$slots[this.name])}};const Hn={name:"BSteps",components:(Un={},Object(l.a)(Un,m.name,m),Object(l.a)(Un,qn.name,qn),Un),props:{value:Number,type:[String,Object],size:String,animated:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1},iconPack:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},hasNavigation:{type:Boolean,default:!0},ariaNextLabel:String,ariaPreviousLabel:String},data:function(){return{activeStep:this.value||0,defaultSlots:[],contentHeight:0,isTransitioning:!1,_isSteps:!0}},computed:{mainClasses:function(){return[this.type,this.size]},stepItems:function(){return this.defaultSlots.filter((function(t){return t.componentInstance&&t.componentInstance.$data&&t.componentInstance.$data._isStepItem})).map((function(t){return t.componentInstance}))},reversedStepItems:function(){return this.stepItems.slice().reverse()},firstVisibleStepIndex:function(){return this.stepItems.map((function(t,e){return t.visible})).indexOf(!0)},hasPrev:function(){return this.firstVisibleStepIndex>=0&&this.activeStep>this.firstVisibleStepIndex},lastVisibleStepIndex:function(){var t=this.reversedStepItems.map((function(t,e){return t.visible})).indexOf(!0);return t>=0?this.stepItems.length-1-t:t},hasNext:function(){return this.lastVisibleStepIndex>=0&&this.activeStep<this.lastVisibleStepIndex},navigationProps:function(){return{previous:{disabled:!this.hasPrev,action:this.prev},next:{disabled:!this.hasNext,action:this.next}}}},watch:{value:function(t){this.changeStep(t)},stepItems:function(){this.activeStep<this.stepItems.length&&(this.stepItems[this.activeStep].isActive=!0)}},methods:{refreshSlots:function(){this.defaultSlots=this.$slots.default||[]},changeStep:function(t){if(this.activeStep!==t){if(t>this.stepItems.length)throw new Error("The index you trying to set is bigger than the steps length");this.activeStep<this.stepItems.length&&this.stepItems[this.activeStep].deactivate(this.activeStep,t),this.stepItems[t].activate(this.activeStep,t),this.activeStep=t,this.$emit("change",t)}},isItemClickable:function(t,e){return void 0===t.clickable?this.activeStep>e:t.clickable},stepClick:function(t){this.$emit("input",t),this.changeStep(t)},prev:function(){var t=this;if(this.hasPrev){var e=this.reversedStepItems.map((function(e,n){return t.stepItems.length-1-n<t.activeStep&&e.visible})).indexOf(!0);e>=0&&(e=this.stepItems.length-1-e),this.$emit("input",e),this.changeStep(e)}},next:function(){var t=this;if(this.hasNext){var e=this.stepItems.map((function(e,n){return n>t.activeStep&&e.visible})).indexOf(!0);this.$emit("input",e),this.changeStep(e)}}},mounted:function(){this.activeStep<this.stepItems.length&&(this.stepItems[this.activeStep].isActive=!0),this.refreshSlots()}};const zn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-steps"},[n("nav",{staticClass:"steps",class:t.mainClasses},[n("ul",{staticClass:"step-items"},t._l(t.stepItems,(function(e,r){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"stepItem.visible"}],key:r,staticClass:"step-item",class:[e.type||t.type,{"is-active":t.activeStep===r,"is-previous":t.activeStep>r}]},[n("a",{staticClass:"step-link",class:{"is-clickable":t.isItemClickable(e,r)},on:{click:function(n){t.isItemClickable(e,r)&&t.stepClick(r)}}},[n("div",{staticClass:"step-marker"},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:t.size}}):t._e()],1),t._v(" "),n("div",{staticClass:"step-details"},[n("span",{staticClass:"step-title"},[t._v(t._s(e.label))])])])])})))]),t._v(" "),n("section",{staticClass:"step-content",class:{"is-transitioning":t.isTransitioning}},[t._t("default")],2),t._v(" "),t._t("navigation",[t.hasNavigation?n("nav",{staticClass:"step-navigation"},[n("a",{staticClass:"pagination-previous",attrs:{role:"button",disabled:t.navigationProps.previous.disabled,"aria-label":t.ariaPreviousLabel},on:{click:function(e){return e.preventDefault(),t.navigationProps.previous.action(e)}}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),n("a",{staticClass:"pagination-next",attrs:{role:"button",disabled:t.navigationProps.next.disabled,"aria-label":t.ariaNextLabel},on:{click:function(e){return e.preventDefault(),t.navigationProps.next.action(e)}}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1)]):t._e()],{previous:t.navigationProps.previous,next:t.navigationProps.next})],2)},staticRenderFns:[]},void 0,Hn,void 0,!1,void 0,!1,void 0,void 0,void 0);const Gn={name:"BStepItem",props:{label:String,type:String|Object,icon:String,iconPack:String,clickable:{type:Boolean,default:void 0},visible:{type:Boolean,default:!0}},data:function(){return{isActive:!1,transitionName:null,_isStepItem:!0}},methods:{activate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!0},deactivate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!1}},created:function(){if(!this.$parent.$data._isSteps)throw this.$destroy(),new Error("You should wrap bStepItem on a bSteps");this.$parent.refreshSlots()},beforeDestroy:function(){this.$parent.refreshSlots()},render:function(t){var e=this;if(!this.$parent.destroyOnHide||this.isActive&&this.visible){var n=t("div",{directives:[{name:"show",value:this.isActive&&this.visible}],attrs:{class:"step-item"}},this.$slots.default);return this.$parent.animated?t("transition",{props:{name:this.transitionName},on:{"before-enter":function(){e.$parent.isTransitioning=!0},"after-enter":function(){e.$parent.isTransitioning=!1}}},[n]):n}}},Wn=Object(c.a)({},void 0,Gn,void 0,void 0,void 0,!1,void 0,void 0,void 0);var Yn={install:function(t){Object(c.c)(t,zn),Object(c.c)(t,Wn)}};Object(c.d)(Yn);var Kn=Yn;const Xn={name:"BSwitch",props:{value:[String,Number,Boolean,Function,Object,Array,Date],nativeValue:[String,Number,Boolean,Function,Object,Array,Date],disabled:Boolean,type:String,name:String,required:Boolean,size:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!1},rounded:{type:Boolean,default:!0},outlined:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,isMouseDown:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},newClass:function(){return[this.size,{"is-disabled":this.disabled},{"is-rounded":this.rounded},{"is-outlined":this.outlined}]}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}};const Jn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"switch",class:t.newClass,attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()},mousedown:function(e){t.isMouseDown=!0},mouseup:function(e){t.isMouseDown=!1},mouseout:function(e){t.isMouseDown=!1},blur:function(e){t.isMouseDown=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,name:t.name,required:t.required,"true-value":t.trueValue,"false-value":t.falseValue},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,o=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var c=t.nativeValue,l=t._i(n,c);r.checked?l<0&&(t.computedValue=n.concat([c])):l>-1&&(t.computedValue=n.slice(0,l).concat(n.slice(l+1)))}else t.computedValue=o}}}),t._v(" "),n("span",{staticClass:"check",class:[{"is-elastic":t.isMouseDown&&!t.disabled},t.type]}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,Xn,void 0,!1,void 0,!1,void 0,void 0,void 0);var Qn={install:function(t){Object(c.c)(t,Jn)}};Object(c.d)(Qn);var Zn,ti=Qn;const ei={name:"BTableMobileSort",components:(Zn={},Object(l.a)(Zn,bt.name,bt),Object(l.a)(Zn,m.name,m),Zn),props:{currentSortColumn:Object,sortMultipleData:Array,isAsc:Boolean,columns:Array,placeholder:String,iconPack:String,sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1}},data:function(){return{sortMultipleSelect:"",mobileSort:this.currentSortColumn,defaultEvent:{shiftKey:!0,altKey:!0,ctrlKey:!0},ignoreSort:!1}},computed:{showPlaceholder:function(){var t=this;return!this.columns||!this.columns.some((function(e){return e===t.mobileSort}))}},watch:{sortMultipleSelect:function(t){this.ignoreSort?this.ignoreSort=!1:this.$emit("sort",t,this.defaultEvent)},mobileSort:function(t){this.currentSortColumn!==t&&this.$emit("sort",t,this.defaultEvent)},currentSortColumn:function(t){this.mobileSort=t}},methods:{removePriority:function(){var t=this;this.$emit("removePriority",this.sortMultipleSelect),this.ignoreSort=!0;var e=this.sortMultipleData.filter((function(data){return data.field!==t.sortMultipleSelect.field})).map((function(data){return data.field}));this.sortMultipleSelect=this.columns.filter((function(t){return e.includes(t.field)}))[0]},getSortingObjectOfColumn:function(t){return this.sortMultipleData.filter((function(i){return i.field===t.field}))[0]},columnIsDesc:function(t){var e=this.getSortingObjectOfColumn(t);return!e||!(!e.order||"desc"!==e.order)},getLabel:function(t){var e=this.getSortingObjectOfColumn(t);return e?t.label+"("+(this.sortMultipleData.indexOf(e)+1)+")":t.label},sort:function(){this.$emit("sort",this.sortMultiple?this.sortMultipleSelect:this.mobileSort,this.defaultEvent)}}};const ni=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field table-mobile-sort"},[n("div",{staticClass:"field has-addons"},[t.sortMultiple?n("b-select",{attrs:{expanded:""},model:{value:t.sortMultipleSelect,callback:function(e){t.sortMultipleSelect=e},expression:"sortMultipleSelect"}},t._l(t.columns,(function(e,r){return e.sortable?n("option",{key:r,domProps:{value:e}},[t._v("\r\n                    "+t._s(t.getLabel(e))+"\r\n                    "),t.getSortingObjectOfColumn(e)?[t.columnIsDesc(e)?[t._v("\r\n                            \r\n                        ")]:[t._v("\r\n                            \r\n                        ")]]:t._e()],2):t._e()}))):n("b-select",{attrs:{expanded:""},model:{value:t.mobileSort,callback:function(e){t.mobileSort=e},expression:"mobileSort"}},[t.placeholder?[n("option",{directives:[{name:"show",rawName:"v-show",value:t.showPlaceholder,expression:"showPlaceholder"}],attrs:{selected:"",disabled:"",hidden:""},domProps:{value:{}}},[t._v("\r\n                        "+t._s(t.placeholder)+"\r\n                    ")])]:t._e(),t._v(" "),t._l(t.columns,(function(e,r){return e.sortable?n("option",{key:r,domProps:{value:e}},[t._v("\r\n                    "+t._s(e.label)+"\r\n                ")]):t._e()}))],2),t._v(" "),n("div",{staticClass:"control"},[t.sortMultiple&&t.sortMultipleData.length>0?[n("button",{staticClass:"button is-primary",on:{click:t.sort}},[n("b-icon",{class:{"is-desc":t.columnIsDesc(t.sortMultipleSelect)},attrs:{icon:t.sortIcon,pack:t.iconPack,size:t.sortIconSize,both:""}})],1),t._v(" "),n("button",{staticClass:"button is-primary",on:{click:t.removePriority}},[n("b-icon",{attrs:{icon:"delete",size:t.sortIconSize,both:""}})],1)]:t.sortMultiple?t._e():n("button",{staticClass:"button is-primary",on:{click:t.sort}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.currentSortColumn===t.mobileSort,expression:"currentSortColumn === mobileSort"}],class:{"is-desc":!t.isAsc},attrs:{icon:t.sortIcon,pack:t.iconPack,size:t.sortIconSize,both:""}})],1)],2)],1)])},staticRenderFns:[]},void 0,ei,void 0,!1,void 0,!1,void 0,void 0,void 0);const ii={name:"BTableColumn",props:{label:String,customKey:[String,Number],field:String,meta:[String,Number,Boolean,Function,Object,Array],width:[Number,String],numeric:Boolean,centered:Boolean,searchable:Boolean,sortable:Boolean,visible:{type:Boolean,default:!0},subheading:[String,Number],customSort:Function,internal:Boolean},data:function(){return{newKey:this.customKey||this.label,_isTableColumn:!0}},computed:{rootClasses:function(){return{"has-text-right":this.numeric&&!this.centered,"has-text-centered":this.centered}}},beforeMount:function(){var t=this;if(!this.$parent.$data._isTable)throw this.$destroy(),new Error("You should wrap bTableColumn on a bTable");this.internal||!this.$parent.newColumns.some((function(e){return e.newKey===t.newKey}))&&this.$parent.newColumns.push(this)},beforeDestroy:function(){var t=this;if(this.$parent.visibleData.length&&1===this.$parent.$children.filter((function(e){return e.$data._isTableColumn&&e.$data.newKey===t.newKey})).length){var e=this.$parent.newColumns.map((function(t){return t.newKey})).indexOf(this.newKey);e>=0&&this.$parent.newColumns.splice(e,1)}}};const ri=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("td",{class:this.rootClasses,attrs:{"data-label":this.label}},[this._t("default")],2):this._e()},staticRenderFns:[]},void 0,ii,void 0,!1,void 0,!1,void 0,void 0,void 0);var oi;const si={name:"BTable",components:(oi={},Object(l.a)(oi,B.name,B),Object(l.a)(oi,m.name,m),Object(l.a)(oi,w.name,w),Object(l.a)(oi,an.name,an),Object(l.a)(oi,qn.name,qn),Object(l.a)(oi,ni.name,ni),Object(l.a)(oi,ri.name,ri),oi),props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},bordered:Boolean,striped:Boolean,narrowed:Boolean,hoverable:Boolean,loading:Boolean,detailed:Boolean,checkable:Boolean,headerCheckable:{type:Boolean,default:!0},checkboxPosition:{type:String,default:"left",validator:function(t){return["left","right"].indexOf(t)>=0}},selected:Object,focusable:Boolean,customIsChecked:Function,isRowCheckable:{type:Function,default:function(){return!0}},checkedRows:{type:Array,default:function(){return[]}},mobileCards:{type:Boolean,default:!0},defaultSort:[String,Array],defaultSortDirection:{type:String,default:"asc"},sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1},sortMultipleData:{type:Array,default:function(){return[]}},sortMultipleKey:{type:String,default:null},paginated:Boolean,currentPage:{type:Number,default:1},perPage:{type:[Number,String],default:20},showDetailIcon:{type:Boolean,default:!0},paginationSimple:Boolean,paginationSize:String,paginationPosition:{type:String,default:"bottom",validator:function(t){return["bottom","top","both"].indexOf(t)>=0}},backendSorting:Boolean,backendFiltering:Boolean,rowClass:{type:Function,default:function(){return""}},openedDetailed:{type:Array,default:function(){return[]}},hasDetailedVisible:{type:Function,default:function(){return!0}},detailKey:{type:String,default:""},customDetailRow:{type:Boolean,default:!1},backendPagination:Boolean,total:{type:[Number,String],default:0},iconPack:String,mobileSortPlaceholder:String,customRowKey:String,draggable:{type:Boolean,default:!1},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,stickyHeader:Boolean},data:function(){return{sortMultipleDataLocal:[],getValueByPath:r.a,newColumns:Object(l.d)(this.columns),visibleDetailRows:this.openedDetailed,newData:this.data,newDataTotal:this.backendPagination?this.total:this.data.length,newCheckedRows:Object(l.d)(this.checkedRows),lastCheckedRowIndex:null,newCurrentPage:this.currentPage,currentSortColumn:{},isAsc:!0,filters:{},firstTimeSort:!0,_isTable:!0}},computed:{sortMultipleDataComputed:function(){return this.backendSorting?this.sortMultipleData:this.sortMultipleDataLocal},tableClasses:function(){return{"is-bordered":this.bordered,"is-striped":this.striped,"is-narrow":this.narrowed,"is-hoverable":(this.hoverable||this.focusable)&&this.visibleData.length}},tableWrapperClasses:function(){return{"is-loading":this.loading,"has-mobile-cards":this.mobileCards,"has-sticky-header":this.stickyHeader}},visibleData:function(){if(!this.paginated)return this.newData;var t=this.newCurrentPage,e=this.perPage;if(this.newData.length<=e)return this.newData;var n=(t-1)*e,r=parseInt(n,10)+parseInt(e,10);return this.newData.slice(n,r)},visibleColumns:function(){return this.newColumns?this.newColumns.filter((function(t){return t.visible||void 0===t.visible})):this.newColumns},isAllChecked:function(){var t=this,e=this.visibleData.filter((function(e){return t.isRowCheckable(e)}));if(0===e.length)return!1;var n=e.some((function(e){return Object(r.b)(t.newCheckedRows,e,t.customIsChecked)<0}));return!n},isAllUncheckable:function(){var t=this;return 0===this.visibleData.filter((function(e){return t.isRowCheckable(e)})).length},hasSortablenewColumns:function(){return this.newColumns.some((function(t){return t.sortable}))},hasSearchablenewColumns:function(){return this.newColumns.some((function(t){return t.searchable}))},hasCustomSubheadings:function(){return!(!this.$scopedSlots||!this.$scopedSlots.subheading)||this.newColumns.some((function(t){return t.subheading||t.$scopedSlots&&t.$scopedSlots.subheading}))},columnCount:function(){var t=this.newColumns.length;return t+=this.checkable?1:0,t+=this.detailed&&this.showDetailIcon?1:0},showDetailRowIcon:function(){return this.detailed&&this.showDetailIcon}},watch:{data:function(t){this.newData=t,this.backendSorting||this.sort(this.currentSortColumn,!0),this.backendPagination||(this.newDataTotal=t.length)},total:function(t){this.backendPagination&&(this.newDataTotal=t)},checkedRows:function(t){this.newCheckedRows=Object(l.d)(t)},columns:function(t){this.newColumns=Object(l.d)(t)},newColumns:function(t){this.checkSort()},filters:{handler:function(t){var e=this;this.backendFiltering?this.$emit("filters-change",t):(this.newData=this.data.filter((function(t){return e.isRowFiltered(t)})),this.backendPagination||(this.newDataTotal=this.newData.length))},deep:!0},openedDetailed:function(t){this.visibleDetailRows=t},currentPage:function(t){this.newCurrentPage=t}},methods:{findIndexOfSortData:function(t){var e=this.sortMultipleDataComputed.filter((function(i){return i.field===t.field}))[0];return this.sortMultipleDataComputed.indexOf(e)+1},removeSortingPriority:function(t){if(this.backendSorting)this.$emit("sorting-priority-removed",t.field);else{this.sortMultipleDataLocal=this.sortMultipleDataLocal.filter((function(e){return e.field!==t.field}));var e=this.sortMultipleDataLocal.map((function(i){return(i.order&&"desc"===i.order?"-":"")+i.field}));this.newData=Object(r.e)(this.newData,e)}},resetMultiSorting:function(){this.sortMultipleDataLocal=[],this.currentSortColumn={},this.newData=this.data},sortBy:function(t,e,n,o){return n&&"function"==typeof n?Object(l.d)(t).sort((function(a,b){return n(a,b,o)})):Object(l.d)(t).sort((function(a,b){var t=Object(r.a)(a,e),n=Object(r.a)(b,e);return"boolean"==typeof t&&"boolean"==typeof n?o?t-n:n-t:t||0===t?n||0===n?t===n?0:(t="string"==typeof t?t.toUpperCase():t,n="string"==typeof n?n.toUpperCase():n,o?t>n?1:-1:t>n?-1:1):-1:1}))},sortMultiColumn:function(t){if(this.currentSortColumn={},!this.backendSorting){var e=this.sortMultipleDataLocal.filter((function(i){return i.field===t.field}))[0];e?e.order="desc"===e.order?"asc":"desc":this.sortMultipleDataLocal.push({field:t.field,order:t.isAsc});var n=this.sortMultipleDataLocal.map((function(i){return(i.order&&"desc"===i.order?"-":"")+i.field}));this.newData=Object(r.e)(this.newData,n)}},sort:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.backendSorting&&this.sortMultiple&&(this.sortMultipleKey&&n[this.sortMultipleKey]||!this.sortMultipleKey))this.sortMultiColumn(t);else{if(!t||!t.sortable)return;this.sortMultiple&&(this.sortMultipleDataLocal=[]),e||(this.isAsc=t===this.currentSortColumn?!this.isAsc:"desc"!==this.defaultSortDirection.toLowerCase()),this.firstTimeSort||this.$emit("sort",t.field,this.isAsc?"asc":"desc",n),this.backendSorting||(this.newData=this.sortBy(this.newData,t.field,t.customSort,this.isAsc)),this.currentSortColumn=t}},isRowChecked:function(t){return Object(r.b)(this.newCheckedRows,t,this.customIsChecked)>=0},removeCheckedRow:function(t){var e=Object(r.b)(this.newCheckedRows,t,this.customIsChecked);e>=0&&this.newCheckedRows.splice(e,1)},checkAll:function(){var t=this,e=this.isAllChecked;this.visibleData.forEach((function(n){t.isRowCheckable(n)&&t.removeCheckedRow(n),e||t.isRowCheckable(n)&&t.newCheckedRows.push(n)})),this.$emit("check",this.newCheckedRows),this.$emit("check-all",this.newCheckedRows),this.$emit("update:checkedRows",this.newCheckedRows)},checkRow:function(t,e,n){if(this.isRowCheckable(t)){var r=this.lastCheckedRowIndex;this.lastCheckedRowIndex=e,n.shiftKey&&null!==r&&e!==r?this.shiftCheckRow(t,e,r):this.isRowChecked(t)?this.removeCheckedRow(t):this.newCheckedRows.push(t),this.$emit("check",this.newCheckedRows,t),this.$emit("update:checkedRows",this.newCheckedRows)}},shiftCheckRow:function(t,e,n){var r=this,o=this.visibleData.slice(Math.min(e,n),Math.max(e,n)+1),c=!this.isRowChecked(t);o.forEach((function(t){r.removeCheckedRow(t),c&&r.isRowCheckable(t)&&r.newCheckedRows.push(t)}))},selectRow:function(t,e){this.$emit("click",t),this.selected!==t&&(this.$emit("select",t,this.selected),this.$emit("update:selected",t))},pageChanged:function(t){this.newCurrentPage=t>0?t:1,this.$emit("page-change",this.newCurrentPage),this.$emit("update:currentPage",this.newCurrentPage)},toggleDetails:function(t){this.isVisibleDetailRow(t)?(this.closeDetailRow(t),this.$emit("details-close",t)):(this.openDetailRow(t),this.$emit("details-open",t)),this.$emit("update:openedDetailed",this.visibleDetailRows)},openDetailRow:function(t){var e=this.handleDetailKey(t);this.visibleDetailRows.push(e)},closeDetailRow:function(t){var e=this.handleDetailKey(t),i=this.visibleDetailRows.indexOf(e);this.visibleDetailRows.splice(i,1)},isVisibleDetailRow:function(t){var e=this.handleDetailKey(t);return this.visibleDetailRows.indexOf(e)>=0},isActiveDetailRow:function(t){return this.detailed&&!this.customDetailRow&&this.isVisibleDetailRow(t)},isActiveCustomDetailRow:function(t){return this.detailed&&this.customDetailRow&&this.isVisibleDetailRow(t)},isRowFiltered:function(t){for(var e in this.filters){if(!this.filters[e])return delete this.filters[e],!0;var n=this.getValueByPath(t,e);if(null==n)return!1;if(Number.isInteger(n)){if(n!==Number(this.filters[e]))return!1}else{var r=new RegExp(this.filters[e],"i");if("boolean"==typeof n&&(n="".concat(n)),!n.match(r))return!1}}return!0},handleDetailKey:function(t){var e=this.detailKey;return e.length&&t?t[e]:t},checkPredefinedDetailedRows:function(){if(this.openedDetailed.length>0&&!this.detailKey.length)throw new Error('If you set a predefined opened-detailed, you must provide a unique key using the prop "detail-key"')},checkSort:function(){if(this.newColumns.length&&this.firstTimeSort)this.initSort(),this.firstTimeSort=!1;else if(this.newColumns.length&&this.currentSortColumn.field)for(var i=0;i<this.newColumns.length;i++)if(this.newColumns[i].field===this.currentSortColumn.field){this.currentSortColumn=this.newColumns[i];break}},hasCustomFooterSlot:function(){if(this.$slots.footer.length>1)return!0;var t=this.$slots.footer[0].tag;return"th"===t||"td"===t},hasBottomLeftSlot:function(){return void 0!==this.$slots["bottom-left"]},pressedArrow:function(t){if(this.visibleData.length){var e=this.visibleData.indexOf(this.selected)+t;e=e<0?0:e>this.visibleData.length-1?this.visibleData.length-1:e,this.selectRow(this.visibleData[e])}},focus:function(){this.focusable&&this.$el.querySelector("table").focus()},initSort:function(){var t=this;if(this.defaultSort){var e="",n=this.defaultSortDirection;Array.isArray(this.defaultSort)?(e=this.defaultSort[0],this.defaultSort[1]&&(n=this.defaultSort[1])):e=this.defaultSort,this.newColumns.forEach((function(r){r.field===e&&(t.isAsc="desc"!==n.toLowerCase(),t.sort(r,!0))}))}},handleDragStart:function(t,e,n){this.$emit("dragstart",{event:t,row:e,index:n})},handleDragEnd:function(t,e,n){this.$emit("dragend",{event:t,row:e,index:n})},handleDrop:function(t,e,n){this.$emit("drop",{event:t,row:e,index:n})},handleDragOver:function(t,e,n){this.$emit("dragover",{event:t,row:e,index:n})},handleDragLeave:function(t,e,n){this.$emit("dragleave",{event:t,row:e,index:n})}},mounted:function(){this.checkPredefinedDetailedRows(),this.checkSort()}};const ai=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-table",class:t.tableWrapperClasses},[t.mobileCards&&t.hasSortablenewColumns?n("b-table-mobile-sort",{attrs:{"current-sort-column":t.currentSortColumn,"sort-multiple":t.sortMultiple,"sort-multiple-data":t.sortMultipleDataComputed,"is-asc":t.isAsc,columns:t.newColumns,placeholder:t.mobileSortPlaceholder,"icon-pack":t.iconPack,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize},on:{sort:function(e,n){return t.sort(e,null,n)},removePriority:function(e){return t.removeSortingPriority(e)}}}):t._e(),t._v(" "),!t.paginated||"top"!==t.paginationPosition&&"both"!==t.paginationPosition?t._e():n("div",{staticClass:"top level"},[n("div",{staticClass:"level-left"},[t._t("top-left")],2),t._v(" "),n("div",{staticClass:"level-right"},[t.paginated?n("div",{staticClass:"level-item"},[n("b-pagination",{attrs:{"icon-pack":t.iconPack,total:t.newDataTotal,"per-page":t.perPage,simple:t.paginationSimple,size:t.paginationSize,current:t.newCurrentPage,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel},on:{change:t.pageChanged}})],1):t._e()])]),t._v(" "),n("div",{staticClass:"table-wrapper"},[n("table",{staticClass:"table",class:t.tableClasses,attrs:{tabindex:!!t.focusable&&0},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?e.target!==e.currentTarget?null:(e.preventDefault(),void t.pressedArrow(-1)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?e.target!==e.currentTarget?null:(e.preventDefault(),void t.pressedArrow(1)):null}]}},[t.newColumns.length?n("thead",[n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("th",{staticClass:"checkbox-cell"},[t.headerCheckable?[n("b-checkbox",{attrs:{value:t.isAllChecked,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})]:t._e()],2):t._e(),t._v(" "),t._l(t.visibleColumns,(function(e,r){return n("th",{key:r,class:{"is-current-sort":t.currentSortColumn===e,"is-sortable":e.sortable},style:{width:void 0===e.width?null:isNaN(e.width)?e.width:e.width+"px"},on:{click:function(n){n.stopPropagation(),t.sort(e,null,n)}}},[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered}},[e.$scopedSlots&&e.$scopedSlots.header?[n("b-slot-component",{attrs:{component:e,scoped:!0,name:"header",tag:"span",props:{column:e,index:r}}})]:t.$scopedSlots.header?[t._t("header",null,{column:e,index:r})]:[t._v(t._s(e.label))],t._v(" "),t.sortMultiple&&t.sortMultipleDataComputed&&t.sortMultipleDataComputed.length>0&&t.sortMultipleDataComputed.filter((function(i){return i.field===e.field})).length>0?[n("b-icon",{class:{"is-desc":"desc"===t.sortMultipleDataComputed.filter((function(i){return i.field===e.field}))[0].order},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}}),t._v("\r\n                                    "+t._s(t.findIndexOfSortData(e))+"\r\n                                    "),n("button",{staticClass:"delete is-small multi-sort-cancel-icon",attrs:{type:"button"},on:{click:function(n){n.stopPropagation(),t.removeSortingPriority(e)}}})]:n("b-icon",{class:{"is-desc":!t.isAsc,"is-invisible":t.currentSortColumn!==e},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}})],2)])})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("th",{staticClass:"checkbox-cell"},[t.headerCheckable?[n("b-checkbox",{attrs:{value:t.isAllChecked,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})]:t._e()],2):t._e()],2),t._v(" "),t.hasCustomSubheadings?n("tr",{staticClass:"is-subheading"},[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._v(" "),t._l(t.visibleColumns,(function(e,r){return n("th",{key:r,style:{width:void 0===e.width?null:isNaN(e.width)?e.width:e.width+"px"}},[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered}},[e.$scopedSlots&&e.$scopedSlots.subheading?[n("b-slot-component",{attrs:{component:e,scoped:!0,name:"subheading",tag:"span",props:{column:e,index:r}}})]:t.$scopedSlots.subheading?[t._t("subheading",null,{column:e,index:r})]:[t._v(t._s(e.subheading))]],2)])})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e(),t._v(" "),t.hasSearchablenewColumns?n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._v(" "),t._l(t.visibleColumns,(function(e,r){return n("th",{key:r,style:{width:void 0===e.width?null:isNaN(e.width)?e.width:e.width+"px"}},[n("div",{staticClass:"th-wrap"},[e.searchable?[n("b-input",{attrs:{type:e.numeric?"number":"text"},model:{value:t.filters[e.field],callback:function(n){t.$set(t.filters,e.field,n)},expression:"filters[column.field]"}})]:t._e()],2)])})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e()]):t._e(),t._v(" "),t.visibleData.length?n("tbody",[t._l(t.visibleData,(function(e,r){return[n("tr",{key:t.customRowKey?e[t.customRowKey]:r,class:[t.rowClass(e,r),{"is-selected":e===t.selected,"is-checked":t.isRowChecked(e)}],attrs:{draggable:t.draggable},on:{click:function(n){t.selectRow(e)},dblclick:function(n){t.$emit("dblclick",e)},mouseenter:function(n){t.$listeners.mouseenter&&t.$emit("mouseenter",e)},mouseleave:function(n){t.$listeners.mouseleave&&t.$emit("mouseleave",e)},contextmenu:function(n){t.$emit("contextmenu",e,n)},dragstart:function(n){t.handleDragStart(n,e,r)},dragend:function(n){t.handleDragEnd(n,e,r)},drop:function(n){t.handleDrop(n,e,r)},dragover:function(n){t.handleDragOver(n,e,r)},dragleave:function(n){t.handleDragLeave(n,e,r)}}},[t.showDetailRowIcon?n("td",{staticClass:"chevron-cell"},[t.hasDetailedVisible(e)?n("a",{attrs:{role:"button"},on:{click:function(n){n.stopPropagation(),t.toggleDetails(e)}}},[n("b-icon",{class:{"is-expanded":t.isVisibleDetailRow(e)},attrs:{icon:"chevron-right",pack:t.iconPack,both:""}})],1):t._e()]):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("td",{staticClass:"checkbox-cell"},[n("b-checkbox",{attrs:{disabled:!t.isRowCheckable(e),value:t.isRowChecked(e)},nativeOn:{click:function(n){n.preventDefault(),n.stopPropagation(),t.checkRow(e,r,n)}}})],1):t._e(),t._v(" "),t.$scopedSlots.default?t._t("default",null,{row:e,index:r}):t._l(t.newColumns,(function(r){return n("BTableColumn",t._b({key:r.field,attrs:{internal:""}},"BTableColumn",r,!1),[r.renderHtml?n("span",{domProps:{innerHTML:t._s(t.getValueByPath(e,r.field))}}):[t._v("\r\n                                        "+t._s(t.getValueByPath(e,r.field))+"\r\n                                    ")]],2)})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("td",{staticClass:"checkbox-cell"},[n("b-checkbox",{attrs:{disabled:!t.isRowCheckable(e),value:t.isRowChecked(e)},nativeOn:{click:function(n){n.preventDefault(),n.stopPropagation(),t.checkRow(e,r,n)}}})],1):t._e()],2),t._v(" "),t.isActiveDetailRow(e)?n("tr",{staticClass:"detail"},[n("td",{attrs:{colspan:t.columnCount}},[n("div",{staticClass:"detail-container"},[t._t("detail",null,{row:e,index:r})],2)])]):t._e(),t._v(" "),t.isActiveCustomDetailRow(e)?t._t("detail",null,{row:e,index:r}):t._e()]}))],2):n("tbody",[n("tr",{staticClass:"is-empty"},[n("td",{attrs:{colspan:t.columnCount}},[t._t("empty")],2)])]),t._v(" "),void 0!==t.$slots.footer?n("tfoot",[n("tr",{staticClass:"table-footer"},[t.hasCustomFooterSlot()?t._t("footer"):n("th",{attrs:{colspan:t.columnCount}},[t._t("footer")],2)],2)]):t._e()])]),t._v(" "),t.checkable&&t.hasBottomLeftSlot()||t.paginated&&("bottom"===t.paginationPosition||"both"===t.paginationPosition)?n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[t._t("bottom-left")],2),t._v(" "),n("div",{staticClass:"level-right"},[t.paginated?n("div",{staticClass:"level-item"},[n("b-pagination",{attrs:{"icon-pack":t.iconPack,total:t.newDataTotal,"per-page":t.perPage,simple:t.paginationSimple,size:t.paginationSize,current:t.newCurrentPage,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel},on:{change:t.pageChanged}})],1):t._e()])]):t._e()],1)},staticRenderFns:[]},void 0,si,void 0,!1,void 0,!1,void 0,void 0,void 0);var ui={install:function(t){Object(c.c)(t,ai),Object(c.c)(t,ri)}};Object(c.d)(ui);var ci,table=ui;const hi={name:"BTabs",components:(ci={},Object(l.a)(ci,m.name,m),Object(l.a)(ci,qn.name,qn),ci),props:{value:Number,expanded:Boolean,type:String,size:String,position:String,animated:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1},vertical:Boolean,multiline:Boolean},data:function(){return{activeTab:this.value||0,defaultSlots:[],contentHeight:0,isTransitioning:!1,_isTabs:!0}},computed:{mainClasses:function(){return Object(l.a)({"is-fullwidth":this.expanded,"is-vertical":this.vertical,"is-multiline":this.multiline},this.position,this.position&&this.vertical)},navClasses:function(){var t;return[this.type,this.size,(t={},Object(l.a)(t,this.position,this.position&&!this.vertical),Object(l.a)(t,"is-fullwidth",this.expanded),Object(l.a)(t,"is-toggle-rounded is-toggle","is-toggle-rounded"===this.type),t)]},tabItems:function(){return this.defaultSlots.filter((function(t){return t.componentInstance&&t.componentInstance.$data&&t.componentInstance.$data._isTabItem})).map((function(t){return t.componentInstance}))}},watch:{value:function(t){this.changeTab(t)},tabItems:function(){this.activeTab<this.tabItems.length&&(this.tabItems[this.activeTab].isActive=!0)}},methods:{refreshSlots:function(){this.defaultSlots=this.$slots.default||[]},changeTab:function(t){this.activeTab!==t&&void 0!==this.tabItems[t]&&(this.activeTab<this.tabItems.length&&this.tabItems[this.activeTab].deactivate(this.activeTab,t),this.tabItems[t].activate(this.activeTab,t),this.activeTab=t,this.$emit("change",t))},tabClick:function(t){this.activeTab!==t&&(this.$emit("input",t),this.changeTab(t))}},mounted:function(){this.activeTab<this.tabItems.length&&(this.tabItems[this.activeTab].isActive=!0),this.refreshSlots()}};const fi=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-tabs",class:t.mainClasses},[n("nav",{staticClass:"tabs",class:t.navClasses},[n("ul",t._l(t.tabItems,(function(e,r){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"tabItem.visible"}],key:r,class:{"is-active":t.activeTab===r,"is-disabled":e.disabled}},[e.$slots.header?n("b-slot-component",{attrs:{component:e,name:"header",tag:"a"},nativeOn:{click:function(e){t.tabClick(r)}}}):n("a",{on:{click:function(e){t.tabClick(r)}}},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:t.size}}):t._e(),t._v(" "),n("span",[t._v(t._s(e.label))])],1)],1)})))]),t._v(" "),n("section",{staticClass:"tab-content",class:{"is-transitioning":t.isTransitioning}},[t._t("default")],2)])},staticRenderFns:[]},void 0,hi,void 0,!1,void 0,!1,void 0,void 0,void 0);const di={name:"BTabItem",props:{label:String,icon:String,iconPack:String,disabled:Boolean,visible:{type:Boolean,default:!0}},data:function(){return{isActive:!1,transitionName:null,_isTabItem:!0}},methods:{activate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!0},deactivate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!1}},created:function(){if(!this.$parent.$data._isTabs)throw this.$destroy(),new Error("You should wrap bTabItem on a bTabs");this.$parent.refreshSlots()},beforeDestroy:function(){this.$parent.refreshSlots()},render:function(t){var e=this;if(!this.$parent.destroyOnHide||this.isActive&&this.visible){var n=t("div",{directives:[{name:"show",value:this.isActive&&this.visible}],class:"tab-item"},this.$slots.default);return this.$parent.animated?t("transition",{props:{name:this.transitionName},on:{"before-enter":function(){e.$parent.isTransitioning=!0},"after-enter":function(){e.$parent.isTransitioning=!1}}},[n]):n}}},pi=Object(c.a)({},void 0,di,void 0,void 0,void 0,!1,void 0,void 0,void 0);var vi={install:function(t){Object(c.c)(t,fi),Object(c.c)(t,pi)}};Object(c.d)(vi);var mi=vi;const yi={name:"BTag",props:{attached:Boolean,closable:Boolean,type:String,size:String,rounded:Boolean,disabled:Boolean,ellipsis:Boolean,tabstop:{type:Boolean,default:!0},ariaCloseLabel:String},methods:{close:function(){this.disabled||this.$emit("close")}}};const gi=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.attached&&t.closable?n("div",{staticClass:"tags has-addons"},[n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[n("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2)]),t._v(" "),n("a",{staticClass:"tag is-delete",class:[t.size,{"is-rounded":t.rounded}],attrs:{role:"button","aria-label":t.ariaCloseLabel,tabindex:!!t.tabstop&&0,disabled:t.disabled},on:{click:function(e){t.close()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"]))return null;e.preventDefault(),t.close()}}})]):n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[n("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2),t._v(" "),t.closable?n("a",{staticClass:"delete is-small",attrs:{role:"button","aria-label":t.ariaCloseLabel,disabled:t.disabled,tabindex:!!t.tabstop&&0},on:{click:function(e){t.close()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"]))return null;e.preventDefault(),t.close()}}}):t._e()])},staticRenderFns:[]},void 0,yi,void 0,!1,void 0,!1,void 0,void 0,void 0);const bi={name:"BTaglist",props:{attached:Boolean}};const wi=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tags",class:{"has-addons":this.attached}},[this._t("default")],2)},staticRenderFns:[]},void 0,bi,void 0,!1,void 0,!1,void 0,void 0,void 0);var _i={install:function(t){Object(c.c)(t,gi),Object(c.c)(t,wi)}};Object(c.d)(_i);var Ii,Si=_i;const ki={name:"BTaginput",components:(Ii={},Object(l.a)(Ii,I.name,I),Object(l.a)(Ii,gi.name,gi),Ii),mixins:[h],inheritAttrs:!1,props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},type:String,rounded:{type:Boolean,default:!1},attached:{type:Boolean,default:!1},maxtags:{type:[Number,String],required:!1},hasCounter:{type:Boolean,default:function(){return o.c.defaultTaginputHasCounter}},field:{type:String,default:"value"},autocomplete:Boolean,nativeAutocomplete:String,openOnFocus:Boolean,disabled:Boolean,ellipsis:Boolean,closable:{type:Boolean,default:!0},confirmKeyCodes:{type:Array,default:function(){return[13,188]}},removeOnKeys:{type:Array,default:function(){return[8]}},allowNew:Boolean,onPasteSeparators:{type:Array,default:function(){return[","]}},beforeAdding:{type:Function,default:function(){return!0}},allowDuplicates:{type:Boolean,default:!1},checkInfiniteScroll:{type:Boolean,default:!1}},data:function(){return{tags:Array.isArray(this.value)?this.value.slice(0):this.value||[],newTag:"",_elementRef:"input",_isTaginput:!0}},computed:{rootClasses:function(){return{"is-expanded":this.expanded}},containerClasses:function(){return{"is-focused":this.isFocused,"is-focusable":this.hasInput}},valueLength:function(){return this.newTag.trim().length},defaultSlotName:function(){return this.hasDefaultSlot?"default":"dontrender"},emptySlotName:function(){return this.hasEmptySlot?"empty":"dontrender"},headerSlotName:function(){return this.hasHeaderSlot?"header":"dontrender"},footerSlotName:function(){return this.hasFooterSlot?"footer":"dontrender"},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},hasInput:function(){return null==this.maxtags||this.tagsLength<this.maxtags},tagsLength:function(){return this.tags.length},separatorsAsRegExp:function(){var t=this.onPasteSeparators;return t.length?new RegExp(t.map((function(s){return s?s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null})).join("|"),"g"):null}},watch:{value:function(t){this.tags=t},hasInput:function(){this.hasInput||this.onBlur()}},methods:{addTag:function(t){var e=t||this.newTag.trim();if(e){if(!this.autocomplete){var n=this.separatorsAsRegExp;if(n&&e.match(n))return void e.split(n).map((function(t){return t.trim()})).filter((function(t){return 0!==t.length})).map(this.addTag)}(!!this.allowDuplicates||-1===this.tags.indexOf(e))&&this.beforeAdding(e)&&(this.tags.push(e),this.$emit("input",this.tags),this.$emit("add",e))}this.newTag=""},getNormalizedTagText:function(t){return"object"===Object(l.c)(t)?Object(r.a)(t,this.field):t},customOnBlur:function(t){this.autocomplete||this.addTag(),this.onBlur(t)},onSelect:function(option){var t=this;option&&(this.addTag(option),this.$nextTick((function(){t.newTag=""})))},removeTag:function(t){var e=this.tags.splice(t,1)[0];return this.$emit("input",this.tags),this.$emit("remove",e),e},removeLastTag:function(){var t=this;this.tagsLength>0&&(this.removeTag(this.tagsLength-1),this.$nextTick((function(){t.isFocused&&t.openOnFocus&&(t.$refs.autocomplete.isActive=!0)})))},keydown:function(t){-1===this.removeOnKeys.indexOf(t.keyCode)||this.newTag.length||this.removeLastTag(),this.autocomplete&&!this.allowNew||this.confirmKeyCodes.indexOf(t.keyCode)>=0&&(t.preventDefault(),this.addTag())},onTyping:function(t){this.$emit("typing",t.trim())},emitInfiniteScroll:function(){this.$emit("infinite-scroll")}}};const Ei=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taginput control",class:t.rootClasses},[n("div",{staticClass:"taginput-container",class:[t.statusType,t.size,t.containerClasses],attrs:{disabled:t.disabled},on:{click:function(e){t.hasInput&&t.focus(e)}}},[t._l(t.tags,(function(e,r){return n("b-tag",{key:t.getNormalizedTagText(e)+r,attrs:{type:t.type,size:t.size,rounded:t.rounded,attached:t.attached,tabstop:!1,disabled:t.disabled,ellipsis:t.ellipsis,closable:t.closable,title:t.ellipsis&&t.getNormalizedTagText(e)},on:{close:function(e){t.removeTag(r)}}},[t._t("tag",[t._v("\r\n                    "+t._s(t.getNormalizedTagText(e))+"\r\n                ")],{tag:e})],2)})),t._v(" "),t.hasInput?n("b-autocomplete",t._b({ref:"autocomplete",attrs:{data:t.data,field:t.field,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,"has-counter":!1,size:t.size,disabled:t.disabled,loading:t.loading,autocomplete:t.nativeAutocomplete,"open-on-focus":t.openOnFocus,"keep-open":t.openOnFocus,"keep-first":!t.allowNew,"use-html5-validation":t.useHtml5Validation,"check-infinite-scroll":t.checkInfiniteScroll},on:{typing:t.onTyping,focus:t.onFocus,blur:t.customOnBlur,select:t.onSelect,"infinite-scroll":t.emitInfiniteScroll},nativeOn:{keydown:function(e){return t.keydown(e)}},scopedSlots:t._u([{key:t.defaultSlotName,fn:function(e){return[t._t("default",null,{option:e.option,index:e.index})]}}]),model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}},"b-autocomplete",t.$attrs,!1),[n("template",{slot:t.headerSlotName},[t._t("header")],2),t._v(" "),n("template",{slot:t.emptySlotName},[t._t("empty")],2),t._v(" "),n("template",{slot:t.footerSlotName},[t._t("footer")],2)],2):t._e()],2),t._v(" "),t.hasCounter&&(t.maxtags||t.maxlength)?n("small",{staticClass:"help counter"},[t.maxlength&&t.valueLength>0?[t._v("\r\n                "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\r\n            ")]:t.maxtags?[t._v("\r\n                "+t._s(t.tagsLength)+" / "+t._s(t.maxtags)+"\r\n            ")]:t._e()],2):t._e()])},staticRenderFns:[]},void 0,ki,void 0,!1,void 0,!1,void 0,void 0,void 0);var Ti={install:function(t){Object(c.c)(t,Ei)}};Object(c.d)(Ti);var Ai=Ti,Di={install:function(t){Object(c.c)(t,Rt)}};Object(c.d)(Di);var Ni=Di,Ci=n(49),Oi={install:function(t){Object(c.c)(t,Tn)}};Object(c.d)(Oi);var xi=Oi;const Pi={name:"BUpload",mixins:[h],inheritAttrs:!1,props:{value:{type:[Object,Function,ie,Array]},multiple:Boolean,disabled:Boolean,accept:String,dragDrop:Boolean,type:{type:String,default:"is-primary"},native:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,dragDropFocus:!1,_elementRef:"input"}},watch:{value:function(t){var e=this.$refs.input.files;this.newValue=t,(!this.newValue||Array.isArray(this.newValue)&&0===this.newValue.length||!e[0]||Array.isArray(this.newValue)&&!this.newValue.some((function(a){return a.name===e[0].name})))&&(this.$refs.input.value=null),!this.isValid&&!this.dragDrop&&this.checkHtml5Validity()}},methods:{onFileChange:function(t){if(!this.disabled&&!this.loading){this.dragDrop&&this.updateDragDropFocus(!1);var e=t.target.files||t.dataTransfer.files;if(0===e.length){if(!this.newValue)return;this.native&&(this.newValue=null)}else if(this.multiple){var n=!1;!this.native&&this.newValue||(this.newValue=[],n=!0);for(var i=0;i<e.length;i++){var r=e[i];this.checkType(r)&&(this.newValue.push(r),n=!0)}if(!n)return}else{if(this.dragDrop&&1!==e.length)return;var o=e[0];if(this.checkType(o))this.newValue=o;else{if(!this.newValue)return;this.newValue=null}}this.$emit("input",this.newValue),!this.dragDrop&&this.checkHtml5Validity()}},updateDragDropFocus:function(t){this.disabled||this.loading||(this.dragDropFocus=t)},checkType:function(t){if(!this.accept)return!0;var e=this.accept.split(",");if(0===e.length)return!0;for(var n=!1,i=0;i<e.length&&!n;i++){var r=e[i].trim();if(r)if("."===r.substring(0,1)){var o=t.name.lastIndexOf(".");(o>=0?t.name.substring(o):"").toLowerCase()===r.toLowerCase()&&(n=!0)}else t.type.match(r)&&(n=!0)}return n}}};const Ri=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"upload control"},[t.dragDrop?n("div",{staticClass:"upload-draggable",class:[t.type,{"is-loading":t.loading,"is-disabled":t.disabled,"is-hovered":t.dragDropFocus}],on:{dragover:function(e){e.preventDefault(),t.updateDragDropFocus(!0)},dragleave:function(e){e.preventDefault(),t.updateDragDropFocus(!1)},dragenter:function(e){e.preventDefault(),t.updateDragDropFocus(!0)},drop:function(e){return e.preventDefault(),t.onFileChange(e)}}},[t._t("default")],2):[t._t("default")],t._v(" "),n("input",t._b({ref:"input",attrs:{type:"file",multiple:t.multiple,accept:t.accept,disabled:t.disabled},on:{change:t.onFileChange}},"input",t.$attrs,!1))],2)},staticRenderFns:[]},void 0,Pi,void 0,!1,void 0,!1,void 0,void 0,void 0);var Mi={install:function(t){Object(c.c)(t,Ri)}};Object(c.d)(Mi);var Li=Mi,ji=Object.freeze({Autocomplete:k,Button:D,Carousel:L,Checkbox:H,Clockpicker:yt,Collapse:K,Datepicker:xt,Datetimepicker:Bt,Dialog:dialog,Dropdown:Kt,Field:Jt,Icon:Zt,Input:input,Loading:ce,Menu:menu,Message:Ie,Modal:Ee,Navbar:Je,Notification:Re,Numberinput:en,Pagination:cn,Progress:progress,Radio:gn,Rate:In,Select:kn,Slider:Mn,Snackbar:$n,Steps:Kn,Switch:ti,Table:table,Tabs:mi,Tag:Si,Taginput:Ai,Timepicker:Ni,Toast:Ci.b,Tooltip:xi,Upload:Li}),Vi={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in Object(o.d)(t),Object(o.b)(Object(r.d)(o.c,e,!0)),ji)t.use(ji[n]);var l={getOptions:function(){return o.c},setOptions:function(t){Object(o.b)(Object(r.d)(o.c,t,!0))}};Object(c.b)(t,"config",l)}};Object(c.d)(Vi);e.a=Vi},120:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))}},122:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function l(t,source,e){return t.concat(source).map((function(element){return c(element,e)}))}function h(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function f(object,t){try{return t in object}catch(t){return!1}}function d(t,source,e){var n={};return e.isMergeableObject(t)&&h(t).forEach((function(r){n[r]=c(t[r],e)})),h(source).forEach((function(r){(function(t,e){return f(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(f(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return v;var n=e.customMerge(t);return"function"==typeof n?n:v}(r,e)(t[r],source[r],e):n[r]=c(source[r],e))})),n}function v(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||l,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):d(t,source,e):c(source,e)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return v(t,n,e)}),{})};var m=v;t.exports=m},125:function(t,e,n){"use strict";n.r(e),n.d(e,"Inject",(function(){return l})),n.d(e,"InjectReactive",(function(){return h})),n.d(e,"Provide",(function(){return v})),n.d(e,"ProvideReactive",(function(){return m})),n.d(e,"Model",(function(){return _})),n.d(e,"Prop",(function(){return I})),n.d(e,"PropSync",(function(){return S})),n.d(e,"Watch",(function(){return k})),n.d(e,"Emit",(function(){return A})),n.d(e,"Ref",(function(){return D}));var r=n(4);n.d(e,"Vue",(function(){return r.default}));var o=n(10);n.d(e,"Component",(function(){return o.default})),n.d(e,"Mixins",(function(){return o.mixins}));var c="__reactiveInject__";function l(t){return Object(o.createDecorator)((function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function h(t){return Object(o.createDecorator)((function(e,n){if(void 0===e.inject&&(e.inject={}),!Array.isArray(e.inject)){var r=t?t.from||t:n,o=!!t&&t.default||void 0;e.computed||(e.computed={}),e.computed[n]=function(){var t=this[c];return t?t[r]:o},e.inject[c]=c}}))}function f(t){var e=function(){var n=this,r="function"==typeof t?t.call(this):t;for(var i in(r=Object.create(r||null))[c]=this[c]||{},e.managed)r[e.managed[i]]=this[i];var o=function(i){r[e.managedReactive[i]]=l[i],Object.defineProperty(r[c],e.managedReactive[i],{enumerable:!0,get:function(){return n[i]}})},l=this;for(var i in e.managedReactive)o(i);return r};return e.managed={},e.managedReactive={},e}function d(t){return"function"!=typeof t||!t.managed&&!t.managedReactive}function v(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;d(r)&&(r=e.provide=f(r)),r.managed[n]=t||n}))}function m(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject[c]={from:c,default:{}}),d(r)&&(r=e.provide=f(r)),r.managedReactive[n]=t||n}))}var y="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function w(t,e,n){y&&(Array.isArray(t)||"function"==typeof t||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function _(t,e){return void 0===e&&(e={}),function(n,r){w(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[r]=e,n.model={prop:r,event:t||r}}))(n,r)}}function I(t){return void 0===t&&(t={}),function(e,n){w(t,e,n),Object(o.createDecorator)((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function S(t,e){return void 0===e&&(e={}),function(n,r){w(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[t]=e,(n.computed||(n.computed={}))[r]={get:function(){return this[t]},set:function(e){this.$emit("update:"+t,e)}}}))(n,r)}}function k(path,t){void 0===t&&(t={});var e=t.deep,n=void 0!==e&&e,r=t.immediate,c=void 0!==r&&r;return Object(o.createDecorator)((function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var r=t.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:e,deep:n,immediate:c})}))}var E=/\B([A-Z])/g,T=function(t){return t.replace(E,"-$1").toLowerCase()};function A(t){return function(e,n,r){n=T(n);var o=r.value;r.value=function(){for(var e=this,r=[],c=0;c<arguments.length;c++)r[c]=arguments[c];var l=function(o){void 0!==o&&r.unshift(o),e.$emit.apply(e,[t||n].concat(r))},h=o.apply(this,r);return N(h)?h.then((function(t){l(t)})):l(h),h}}}function D(t){return Object(o.createDecorator)((function(e,n){e.computed=e.computed||{},e.computed[n]={cache:!1,get:function(){return this.$refs[t||n]}}}))}function N(t){return t instanceof Promise||t&&"function"==typeof t.then}},174:function(t,e,n){"use strict";n(175)},175:function(t,e,n){"use strict";(function(t){var e=n(6),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,t){a!=Array.prototype&&a!=Object.prototype&&(a[b]=t.value)};var o=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,a];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}return globalThis}(this);function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var t=o;a=a.split(".");for(var e=0;e<a.length-1;e++){var r=a[e];r in t||(t[r]={}),t=t[r]}(b=b(e=t[a=a[a.length-1]]))!=e&&null!=b&&n(t,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{g(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function e(g){return g instanceof b?g:new b((function(t){t(g)}))}if(a)return a;t.prototype.b=function(g){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(g)};var n=o.setTimeout;t.prototype.c=function(g){n(g,0)},t.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var t=0;t<g.length;++t){var e=g[t];g[t]=null;try{e()}catch(t){this.f(t)}}}this.a=null},t.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(u){e||(e=!0,p.call(t,u))}}var t=this,e=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.o(g);else{t:switch(typeof g){case"object":var t=null!=g;break t;case"function":t=!0;break t;default:t=!1}t?this.u(g):this.h(g)}},b.prototype.u=function(g){var t=void 0;try{t=g.then}catch(t){return void this.g(t)}"function"==typeof t?this.v(t,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,t){if(0!=this.b)throw Error("Cannot settle("+g+", "+t+"): Promise already settled in state"+this.b);this.b=g,this.c=t,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new t;return b.prototype.o=function(g){var t=this.f();g.La(t.resolve,t.reject)},b.prototype.v=function(g,t){var e=this.f();try{g.call(t,e.resolve,e.reject)}catch(t){e.reject(t)}},b.prototype.then=function(g,t){function e(t,e){return"function"==typeof t?function(e){try{p(t(e))}catch(t){u(t)}}:e}var p,u,n=new b((function(t,e){p=t,u=e}));return this.La(e(g,p),e(t,u)),n},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.La=function(g,t){function e(){switch(p.b){case 1:g(p.c);break;case 2:t(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(e):this.a.push(e)},b.resolve=e,b.reject=function(g){return new b((function(t,e){e(g)}))},b.race=function(g){return new b((function(t,n){for(var p=l(g),u=p.next();!u.done;u=p.next())e(u.value).La(t,n)}))},b.all=function(g){var t=l(g),n=t.next();return n.done?e([]):new b((function(p,u){function r(t){return function(e){o[t]=e,0==--c&&p(o)}}var o=[],c=0;do{o.push(void 0),c++,e(n.value).La(r(o.length-1),u),n=t.next()}while(!n.done)}))},b}));var h=h||{},f=this||self;function d(a){return"string"==typeof a}function v(a){return"boolean"==typeof a}var m=/^[\w+/_-]+[=]{0,2}$/,y=null;function w(){}function _(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function I(a){return null===a}function S(a){return"array"==_(a)}function k(a){var b=_(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"function"==_(a)}function E(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var T="closure_uid_"+(1e9*Math.random()>>>0),A=0;function D(a,b,t){return a.call.apply(a.bind,arguments)}function N(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function C(a,b,t){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D:N).apply(null,arguments)}function O(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var x=Date.now||function(){return+new Date};function P(a,b){function t(){}t.prototype=b.prototype,a.qb=b.prototype,a.prototype=new t,a.prototype.constructor=a}function R(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function M(a){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function L(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");M.call(this,t+a[e])}function j(a,b){throw new L("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function V(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function B(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function F(){this.b=this.a=null}P(M,Error),M.prototype.name="CustomError",P(L,M),L.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var U=new V((function(){return new H}),(function(a){a.reset()}));function $(){var a=Zt,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function H(){this.next=this.b=this.a=null}function z(a,b){t:{try{var t=a&&a.ownerDocument,e=t&&(t.defaultView||t.parentWindow);if((e=e||f).Element&&e.Location){var n=e;break t}}catch(t){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(E(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(t){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}F.prototype.add=function(a,b){var t=U.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},H.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(d(a))return d(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},W=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n=d(a)?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var Y=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n=d(a)?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},K=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=d(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function X(a,b){return 0<=G(a,b)}function J(a,b){var t;return(t=0<=(b=G(a,b)))&&Array.prototype.splice.call(a,b,1),t}function Q(a,b){!function(a,b){for(var t=d(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,(function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0}))}function Z(a){return Array.prototype.concat.apply([],arguments)}function tt(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function et(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function nt(a){for(var b in a)return!1;return!0}function it(a){var t,b={};for(t in a)b[t]=a[t];return b}var ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<ot.length;r++)t=ot[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function at(a,b){this.a=a===lt&&b||"",this.b=ct}function ut(a){return a instanceof at&&a.constructor===at&&a.b===ct?a.a:(j("expected object of type Const, got '"+a+"'"),"type_error:Const")}at.prototype.qa=!0,at.prototype.pa=function(){return this.a},at.prototype.toString=function(){return"Const{"+this.a+"}"};var ct={},lt={},ht=new at(lt,"");function ft(){this.a="",this.b=gt}function pt(a){return a instanceof ft&&a.constructor===ft&&a.b===gt?a.a:(j("expected object of type TrustedResourceUrl, got '"+a+"' of type "+_(a)),"type_error:TrustedResourceUrl")}function vt(a,b){var t=ut(a);if(!yt.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return bt(a=t.replace(mt,(function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof at?ut(e):encodeURIComponent(String(e))})))}ft.prototype.qa=!0,ft.prototype.pa=function(){return this.a.toString()},ft.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var mt=/%{(\w+)}/g,yt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,gt={};function bt(a){var b=new ft;return b.a=a,b}var wt=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},_t=/&/g,It=/</g,St=/>/g,kt=/"/g,Et=/'/g,Tt=/\x00/g,At=/[\x00&<>"']/;function Dt(a,b){return-1!=a.indexOf(b)}function Nt(a,b){return a<b?-1:a>b?1:0}function Ct(){this.a="",this.b=Mt}function Ot(a){return a instanceof Ct&&a.constructor===Ct&&a.b===Mt?a.a:(j("expected object of type SafeUrl, got '"+a+"' of type "+_(a)),"type_error:SafeUrl")}Ct.prototype.qa=!0,Ct.prototype.pa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(a){return a instanceof Ct?a:(a="object"==typeof a&&a.qa?a.pa():String(a),xt.test(a)||(a="about:invalid#zClosurez"),Lt(a))}var Rt,Mt={};function Lt(a){var b=new Ct;return b.a=a,b}Lt("about:blank");t:{var jt=f.navigator;if(jt){var Vt=jt.userAgent;if(Vt){Rt=Vt;break t}}Rt=""}function Bt(a){return Dt(Rt,a)}function Ft(){this.a="",this.b=$t}function Ut(a){return a instanceof Ft&&a.constructor===Ft&&a.b===$t?a.a:(j("expected object of type SafeHtml, got '"+a+"' of type "+_(a)),"type_error:SafeHtml")}Ft.prototype.qa=!0,Ft.prototype.pa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $t={};function qt(a){var b=new Ft;return b.a=a,b}qt("<!DOCTYPE html>");var Ht,zt,Gt=qt("");function Wt(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function Yt(a){return At.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(_t,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(It,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(St,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(kt,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Et,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(Tt,"&#0;"))),a}function Kt(a){f.setTimeout((function(){throw a}),0)}function Xt(){var a=f.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Bt("Presto")&&(a=function(){var t=document.createElement("IFRAME");t.style.display="none",function(a){var b=bt(ut(ht));z(a,"HTMLIFrameElement"),a.src=pt(b).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ut(Gt)),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!Bt("Trident")&&!Bt("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).yb;t.yb=null,e()}},function(t){e.next={yb:t},e=e.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){f.setTimeout(t,0)}}function Jt(a,b){zt||function(){if(f.Promise&&f.Promise.resolve){var a=f.Promise.resolve(void 0);zt=function(){a.then(te)}}else zt=function(){var b=te;!q(f.setImmediate)||f.Window&&f.Window.prototype&&!Bt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Ht||(Ht=Xt()),Ht(b)):f.setImmediate(b)}}(),Qt||(zt(),Qt=!0),Zt.add(a,b)}qt("<br>");var Qt=!1,Zt=new F;function te(){for(var a;a=$();){try{a.a.call(a.b)}catch(t){Kt(t)}B(U,a)}Qt=!1}function ee(a,b){if(this.a=ne,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=w)try{var t=this;a.call(b,(function(e){pe(t,ie,e)}),(function(e){if(!(e instanceof _e))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}pe(t,re,e)}))}catch(t){pe(this,re,t)}}var ne=0,ie=2,re=3;function oe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}oe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var se=new V((function(){return new oe}),(function(a){a.reset()}));function ae(a,b,t){var e=se.get();return e.g=a,e.b=b,e.f=t,e}function ue(a){if(a instanceof ee)return a;var b=new ee(w);return pe(b,ie,a),b}function ce(a){return new ee((function(b,t){t(a)}))}function le(a,b,t){ve(a,b,t,null)||Jt(O(b,a))}function he(a){return new ee((function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Gb:!0,value:p}:{Gb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)le(a[r],O(n,r,!0),O(n,r,!1));else b(e)}))}function fe(a,b){a.b||a.a!=ie&&a.a!=re||me(a),a.f?a.f.next=b:a.b=b,a.f=b}function de(a,b,t,e){var n=ae(null,null,null);return n.a=new ee((function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof _e?g(n):r(o)}catch(t){g(t)}}:g})),n.a.c=a,fe(a,n),n.a}function pe(a,b,t){a.a==ne&&(a===t&&(b=re,t=new TypeError("Promise cannot resolve to itself")),a.a=1,ve(t,a.Oc,a.Pc,a)||(a.i=t,a.a=b,a.c=null,me(a),b!=re||t instanceof _e||function(a,b){a.g=!0,Jt((function(){a.g&&we.call(null,b)}))}(a,t)))}function ve(a,b,t,e){if(a instanceof ee)return fe(a,ae(b||w,t||null,e)),!0;if(R(a))return a.then(b,t,e),!0;if(E(a))try{var n=a.then;if(q(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}var o=!1;try{b.call(a,(function(e){o||(o=!0,t.call(n,e))}),r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function me(a){a.h||(a.h=!0,Jt(a.Zb,a))}function ye(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function ge(a,b,t,e){if(t==re&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,be(b,t,e);else try{b.c?b.g.call(b.f):be(b,t,e)}catch(t){we.call(null,t)}B(se,b)}function be(a,b,t){b==ie?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}ee.prototype.then=function(a,b,t){return de(this,q(a)?a:null,q(b)?b:null,t)},ee.prototype.$goog_Thenable=!0,(e=ee.prototype).ka=function(a,b){return(a=ae(a,a,b)).c=!0,fe(this,a),this},e.s=function(a,b){return de(this,null,a,b)},e.cancel=function(a){this.a==ne&&Jt((function(){!function t(a,b){if(a.a==ne)if(a.c){var e=a.c;if(e.b){for(var n=0,r=null,o=null,g=e.b;g&&(g.c||(n++,g.a==a&&(r=g),!(r&&1<n)));g=g.next)r||(o=g);r&&(e.a==ne&&1==n?t(e,b):(o?((n=o).next==e.f&&(e.f=n),n.next=n.next.next):ye(e),ge(e,r,re,b)))}a.c=null}else pe(a,re,b)}(this,new _e(a))}),this)},e.Oc=function(a){this.a=ne,pe(this,ie,a)},e.Pc=function(a){this.a=ne,pe(this,re,a)},e.Zb=function(){for(var a;a=ye(this);)ge(this,a,this.a,this.i);this.h=!1};var we=Kt;function _e(a){M.call(this,a)}function Ie(){0!=Se&&(ke[this[T]||(this[T]=++A)]=this),this.va=this.va,this.la=this.la}P(_e,M),_e.prototype.name="cancel";var Se=0,ke={};function Ee(a){if(!a.va&&(a.va=!0,a.za(),0!=Se)){var b=a[T]||(a[T]=++A);if(0!=Se&&a.la&&0<a.la.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ke[b]}}function Te(a){return Te[" "](a),a}Ie.prototype.va=!1,Ie.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},Te[" "]=w;var Ae,a,De=Bt("Opera"),Ne=Bt("Trident")||Bt("MSIE"),Ce=Bt("Edge"),Oe=Ce||Ne,xe=Bt("Gecko")&&!(Dt(Rt.toLowerCase(),"webkit")&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),Pe=Dt(Rt.toLowerCase(),"webkit")&&!Bt("Edge");function Re(){var a=f.document;return a?a.documentMode:void 0}t:{var Me="",Le=(a=Rt,xe?/rv:([^\);]+)(\)|;)/.exec(a):Ce?/Edge\/([\d\.]+)/.exec(a):Ne?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Pe?/WebKit\/(\S+)/.exec(a):De?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Le&&(Me=Le?Le[1]:""),Ne){var je=Re();if(null!=je&&je>parseFloat(Me)){Ae=String(je);break t}}Ae=Me}var Ve,Be={};function Fe(a){return function(a,b){var t=Be;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=wt(String(Ae)).split("."),e=wt(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=Nt(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||Nt(0==g[2].length,0==o[2].length)||Nt(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}Ve=f.document&&Ne?Re():void 0;var Ue=Object.freeze||function(a){return a},$e=!Ne||9<=Number(Ve),qe=Ne&&!Fe("9"),He=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{f.addEventListener("test",w,b),f.removeEventListener("test",w,b)}catch(t){}return a}();function ze(a,b){this.type=a,this.b=this.target=b,this.Mb=!0}function Ge(a,b){if(ze.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(xe){t:{try{Te(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=d(a.pointerType)?a.pointerType:We[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}ze.prototype.preventDefault=function(){this.Mb=!1},P(Ge,ze);var We=Ue({2:"touch",3:"pen",4:"mouse"});Ge.prototype.preventDefault=function(){Ge.qb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,qe)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},Ge.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Xe(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Pa=n,this.key=++Ke,this.ta=this.Ka=!1}function Je(a){a.ta=!0,a.listener=null,a.proxy=null,a.src=null,a.Pa=null}function Qe(a){this.src=a,this.a={},this.b=0}function Ze(a,b){var t=b.type;t in a.a&&J(a.a[t],b)&&(Je(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function tn(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.ta&&r.listener==b&&r.capture==!!t&&r.Pa==e)return n}return-1}Qe.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=tn(a,b,e,n);return-1<g?(b=a[g],t||(b.Ka=!1)):((b=new Xe(b,this.src,r,!!e,n)).Ka=t,a.push(b)),b};var en="closure_lm_"+(1e6*Math.random()|0),nn={};function rn(a,b,t,e,n){if(e&&e.once)sn(a,b,t,e,n);else if(S(b))for(var r=0;r<b.length;r++)rn(a,b[r],t,e,n);else t=pn(t),a&&a[Ye]?mn(a,b,t,E(e)?!!e.capture:!!e,n):on(a,b,t,!1,e,n)}function on(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=E(n)?!!n.capture:!!n,o=fn(a);if(o||(a[en]=o=new Qe(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=hn,b=$e?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)He||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(dd(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function sn(a,b,t,e,n){if(S(b))for(var r=0;r<b.length;r++)sn(a,b[r],t,e,n);else t=pn(t),a&&a[Ye]?yn(a,b,t,E(e)?!!e.capture:!!e,n):on(a,b,t,!0,e,n)}function an(a,b,t,e,n){if(S(b))for(var r=0;r<b.length;r++)an(a,b[r],t,e,n);else e=E(e)?!!e.capture:!!e,t=pn(t),a&&a[Ye]?(a=a.u,(b=String(b).toString())in a.a&&(-1<(t=tn(r=a.a[b],t,e,n))&&(Je(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=fn(a))&&(b=a.a[b.toString()],a=-1,b&&(a=tn(b,t,e,n)),(t=-1<a?b[a]:null)&&un(t))}function un(a){if("number"!=typeof a&&a&&!a.ta){var b=a.src;if(b&&b[Ye])Ze(b.u,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(dd(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=fn(b))?(Ze(t,a),0==t.b&&(t.src=null,b[en]=null)):Je(a)}}}function dd(a){return a in nn?nn[a]:nn[a]="on"+a}function cn(a,b,t,e){var n=!0;if((a=fn(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.ta&&(r=ln(r,e),n=n&&!1!==r)}return n}function ln(a,b){var t=a.listener,e=a.Pa||a.src;return a.Ka&&un(a),t.call(e,b)}function hn(a,b){if(a.ta)return!0;if(!$e){if(!b)t:{b=["window","event"];for(var t=f,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new Ge(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){n=!0}(n||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],n=b.b;n;n=n.parentNode)e.push(n);for(a=a.type,n=e.length-1;0<=n;n--){b.b=e[n];var r=cn(e[n],a,!0,b);t=t&&r}for(n=0;n<e.length;n++)b.b=e[n],r=cn(e[n],a,!1,b),t=t&&r}return t}return ln(a,new Ge(b,this))}function fn(a){return(a=a[en])instanceof Qe?a:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(a){return q(a)?a:(a[dn]||(a[dn]=function(b){return a.handleEvent(b)}),a[dn])}function vn(){Ie.call(this),this.u=new Qe(this),this.Sb=this,this.Xa=null}function mn(a,b,t,e,n){a.u.add(String(b),t,!1,e,n)}function yn(a,b,t,e,n){a.u.add(String(b),t,!0,e,n)}function gn(a,b,t,e){if(!(b=a.u.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.ta&&g.capture==t){var o=g.listener,c=g.Pa||g.src;g.Ka&&Ze(a.u,g),n=!1!==o.call(c,e)&&n}}return n&&0!=e.Mb}function bn(a,b,t){if(q(a))t&&(a=C(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=C(a.handleEvent,a)}return 2147483647<Number(b)?-1:f.setTimeout(a,b||0)}function wn(a){var b=null;return new ee((function(t,e){-1==(b=bn((function(){t(void 0)}),a))&&e(Error("Failed to schedule timer."))})).s((function(t){throw f.clearTimeout(b),t}))}function _n(a){if(a.U&&"function"==typeof a.U)return a.U();if(d(a))return a.split("");if(k(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function In(a){if(a.X&&"function"==typeof a.X)return a.X();if(!a.U||"function"!=typeof a.U){if(k(a)||d(a)){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Sn(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Sn)for(t=a.X(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function td(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];kn(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)kn(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function kn(a,b){return Object.prototype.hasOwnProperty.call(a,b)}P(vn,Ie),vn.prototype[Ye]=!0,vn.prototype.addEventListener=function(a,b,t,e){rn(this,a,b,t,e)},vn.prototype.removeEventListener=function(a,b,t,e){an(this,a,b,t,e)},vn.prototype.dispatchEvent=function(a){var b,t=this.Xa;if(t)for(b=[];t;t=t.Xa)b.push(t);t=this.Sb;var e=a.type||a;if(d(a))a=new ze(a,t);else if(a instanceof ze)a.target=a.target||t;else{var n=a;st(a=new ze(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=gn(g,e,!0,a)&&n}if(n=gn(g=a.b=t,e,!0,a)&&n,n=gn(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=gn(g=a.b=b[r],e,!1,a)&&n;return n},vn.prototype.za=function(){if(vn.qb.za.call(this),this.u){var t,a=this.u;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)Je(e[n]);delete a.a[t],a.b--}}this.Xa=null},(e=Sn.prototype).U=function(){td(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},e.X=function(){return td(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(a,b){return kn(this.b,a)?this.b[a]:b},e.set=function(a,b){kn(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},e.forEach=function(a,b){for(var t=this.X(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var En=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tn(a,b){var t;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,a instanceof Tn?(this.h=void 0!==b?b:a.h,An(this,a.f),this.i=a.i,this.b=a.b,Dn(this,a.l),this.c=a.c,Nn(this,Yn(a.a)),this.g=a.g):a&&(t=String(a).match(En))?(this.h=!!b,An(this,t[1]||"",!0),this.i=Rn(t[2]||""),this.b=Rn(t[3]||"",!0),Dn(this,t[4]),this.c=Rn(t[5]||"",!0),Nn(this,t[6]||"",!0),this.g=Rn(t[7]||"")):(this.h=!!b,this.a=new $n(null,this.h))}function An(a,b,t){a.f=t?Rn(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function Dn(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.l=b}else a.l=null}function Nn(a,b,t){b instanceof $n?(a.a=b,function(a,b){b&&!a.f&&(qn(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zn(this,e),Wn(this,n,t))}),a)),a.f=b}(a.a,a.h)):(t||(b=Mn(b,Fn)),a.a=new $n(b,a.h))}function Cn(a,b,t){a.a.set(b,t)}function On(a,b){return a.a.get(b)}function xn(a){return a instanceof Tn?new Tn(a):new Tn(a,void 0)}function Pn(a,b){var t=new Tn(null,void 0);return An(t,"https"),a&&(t.b=a),b&&(t.c=b),t}function Rn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Mn(a,b,t){return d(a)?(a=encodeURI(a).replace(b,Ln),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ln(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Tn.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Mn(b,jn,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.i)&&a.push(Mn(b,jn,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.l)&&a.push(":",String(t))),(t=this.c)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(Mn(t,"/"==t.charAt(0)?Bn:Vn,!0))),(t=this.a.toString())&&a.push("?",t),(t=this.g)&&a.push("#",Mn(t,Un)),a.join("")},Tn.prototype.resolve=function(a){var b=new Tn(this),t=!!a.f;t?An(b,a.f):t=!!a.i,t?b.i=a.i:t=!!a.b,t?b.b=a.b:t=null!=a.l;var e=a.c;if(t)Dn(b,a.l);else if(t=!!a.c){if("/"!=e.charAt(0))if(this.b&&!this.c)e="/"+e;else{var n=b.c.lastIndexOf("/");-1!=n&&(e=b.c.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(Dt(n,"./")||Dt(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?e&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&g==n.length&&r.push("")):(r.push(o),e=!0)}e=r.join("/")}else e=n}return t?b.c=e:t=""!==a.a.toString(),t?Nn(b,Yn(a.a)):t=!!a.g,t&&(b.g=a.g),b};var jn=/[#\/\?@]/g,Vn=/[#\?:]/g,Bn=/[#\?]/g,Fn=/[#\?@]/g,Un=/#/g;function $n(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function qn(a){a.a||(a.a=new Sn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function Hn(a){var b=In(a);if(void 0===b)throw Error("Keys are undefined");var t=new $n(null,void 0);a=_n(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];S(r)?Wn(t,n,r):t.add(n,r)}return t}function zn(a,b){qn(a),b=Kn(a,b),kn(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,kn((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&td(a)))}function Gn(a,b){return qn(a),b=Kn(a,b),kn(a.a.b,b)}function Wn(a,b,t){zn(a,b),0<t.length&&(a.c=null,a.a.set(Kn(a,b),tt(t)),a.b+=t.length)}function Yn(a){var b=new $n;return b.c=a.c,a.a&&(b.a=new Sn(a.a),b.b=a.b),b}function Kn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}(e=$n.prototype).add=function(a,b){qn(this),this.c=null,a=Kn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(a,b){qn(this),this.a.forEach((function(t,e){W(t,(function(t){a.call(b,t,e,this)}),this)}),this)},e.X=function(){qn(this);for(var a=this.a.U(),b=this.a.X(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},e.U=function(a){qn(this);var b=[];if(d(a))Gn(this,a)&&(b=Z(b,this.a.get(Kn(this,a))));else{a=this.a.U();for(var t=0;t<a.length;t++)b=Z(b,a[t])}return b},e.set=function(a,b){return qn(this),this.c=null,Gn(this,a=Kn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},e.get=function(a,b){return a&&0<(a=this.U(a)).length?String(a[0]):b},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.X(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.U(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var Xn=!Ne||9<=Number(Ve);function Jn(a){var b=document;return d(a)?b.getElementById(a):a}function Qn(a,b){et(b,(function(t,e){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:Zn.hasOwnProperty(e)?a.setAttribute(Zn[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t}))}var Zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ti(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!Xn&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',Yt(g.name),'"'),g.type){r.push(' type="',Yt(g.type),'"');var o={};st(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=n.createElement(r),g&&(d(g)?r.className=g:S(g)?r.className=g.join(" "):Qn(r,g)),2<e.length&&function(a,b,t){function e(g){g&&b.appendChild(d(g)?a.createTextNode(g):g)}for(var n=2;n<t.length;n++){var r=t[n];!k(r)||E(r)&&0<r.nodeType?e(r):W(ei(r)?tt(r):r,e)}}(n,r,e),r}function ei(a){if(a&&"number"==typeof a.length){if(E(a))return"function"==typeof a.item||"string"==typeof a.item;if(q(a))return"function"==typeof a.item}return!1}function ni(a){var b=[];return function t(a,b,e){if(null==b)e.push("null");else{if("object"==typeof b){if(S(b)){var n=b;b=n.length,e.push("[");for(var r="",o=0;o<b;o++)e.push(r),t(a,n[o],e),r=",";return void e.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(n in e.push("{"),r="",b)Object.prototype.hasOwnProperty.call(b,n)&&("function"!=typeof(o=b[n])&&(e.push(r),si(n,e),e.push(":"),t(a,o,e),r=","));return void e.push("}")}b=b.valueOf()}switch(typeof b){case"string":si(b,e);break;case"number":e.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":e.push(String(b));break;case"function":e.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new ii,a,b),b.join("")}function ii(){}var ri={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},oi=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function si(a,b){b.push('"',a.replace(oi,(function(t){var e=ri[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ri[t]=e),e})),'"')}function ai(){var a=Ai();return Ne&&!!Ve&&11==Ve||/Edge\/\d+/.test(a)}function ui(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function ci(a,b){b=b||f.window;var t="about:blank";a&&(t=Ot(Pt(a)).toString()),b.location.href=t}function hi(a){return!!((a=(a||Ai()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function fi(a){a=a||f.window;try{a.close()}catch(t){}}function di(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=Ai().toLowerCase(),e&&(b.target=e,Dt(t,"crios/")&&(b.target="_blank")),ki(Ai())==Ii&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof Ct?t:Pt(void 0!==t.href?t.href:String(t)),t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((Bt("iPhone")&&!Bt("iPod")&&!Bt("iPad")||Bt("iPad")||Bt("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(z(g=e.document.createElement("A"),"HTMLAnchorElement"),b instanceof Ct||b instanceof Ct||(b="object"==typeof b&&b.qa?b.pa():String(b),xt.test(b)||(b="about:invalid#zClosurez"),b=Lt(b)),g.href=Ot(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=e.open("",t,g),a=Ot(b).toString(),g&&(Oe&&Dt(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a=qt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yt(a)+'">'),g.document.write(Ut(a)),g.document.close())):(g=e.open(Ot(b).toString(),t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^[^@]+@[^@]+$/;function mi(){var a=null;return new ee((function(b){"complete"==f.document.readyState?b():(a=function(){b()},sn(window,"load",a))})).s((function(b){throw an(window,"load",a),b}))}function yi(a){return a=a||Ai(),!("file:"!==xi()&&"ionic:"!==xi()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function gi(){var a=f.window;try{return!(!a||a==a.top)}catch(t){return!1}}function bi(){return void 0!==f.WorkerGlobalScope&&"function"==typeof f.importScripts}function wi(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":bi()?"Worker":"Browser"}function _i(){var a=wi();return"ReactNative"===a||"Node"===a}var Ii="Firefox",Si="Chrome";function ki(a){var b=a.toLowerCase();return Dt(b,"opera/")||Dt(b,"opr/")||Dt(b,"opios/")?"Opera":Dt(b,"iemobile")?"IEMobile":Dt(b,"msie")||Dt(b,"trident/")?"IE":Dt(b,"edge/")?"Edge":Dt(b,"firefox/")?Ii:Dt(b,"silk/")?"Silk":Dt(b,"blackberry")?"Blackberry":Dt(b,"webos")?"Webos":!Dt(b,"safari/")||Dt(b,"chrome/")||Dt(b,"crios/")||Dt(b,"android")?!Dt(b,"chrome/")&&!Dt(b,"crios/")||Dt(b,"edge/")?Dt(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Si:"Safari"}var Ei={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function Ti(a,b){b=b||[];var t,e=[],n={};for(t in Ei)n[Ei[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=wi())?e=ki(n=Ai()):"Worker"===e&&(e=ki(n=Ai())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function Ai(){return f.navigator&&f.navigator.userAgent||""}function Di(a,b){a=a.split("."),b=b||f;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function Ni(){try{var a=f.localStorage,b=ji();if(a)return a.setItem(b,"1"),a.removeItem(b),!ai()||!!f.indexedDB}catch(t){return bi()&&!!f.indexedDB}return!1}function Ci(){return(Oi()||"chrome-extension:"===xi()||yi())&&!_i()&&Ni()&&!bi()}function Oi(){return"http:"===xi()||"https:"===xi()}function xi(){return f.location&&f.location.protocol||null}function Pi(a){return!hi(a=a||Ai())&&ki(a)!=Ii}function Ri(a){return void 0===a?null:ni(a)}function Mi(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Li(a){if(null!==a)return JSON.parse(a)}function ji(a){return a||Math.floor(1e9*Math.random()).toString()}function Vi(a){return"Safari"!=ki(a=a||Ai())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Bi(){var a=f.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function Fi(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=Ai(),b=wi(),this.b=hi(a)||"ReactNative"===b}function Ui(){var a=f.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function $i(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function qi(){return!(!Di("fireauth.oauthhelper",f)&&!Di("fireauth.iframe",f))}Fi.prototype.get=function(){var a=f.navigator;return!a||"boolean"!=typeof a.onLine||!Oi()&&"chrome-extension:"!==xi()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hi,zi={};function Gi(a){zi[a]||(zi[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var Wi={};Object.defineProperty(Wi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wi,"abcd",{configurable:!0,enumerable:!0,value:2}),Hi=2==Wi.abcd}catch(a){Hi=!1}function Yi(a,b,t){Hi?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function Ki(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&Yi(a,t,b[t])}function Xi(a){var b={};return Ki(b,a),b}function Ji(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)Yi(b,t,Ji(a[t]));return b}function Qi(a){var b={},t=a[er],e=a[nr];if(!(a=a[ir])||a!=Zi&&!t)throw Error("Invalid provider user info!");b[or]=e||null,b[rr]=t||null,Yi(this,ar,a),Yi(this,sr,Ji(b))}var Zi="EMAIL_SIGNIN",er="email",nr="newEmail",ir="requestType",rr="email",or="fromEmail",sr="data",ar="operation";function ur(a,b){this.code=lr+a,this.message=b||fr[a]||""}function cr(a){var b=a&&a.code;return b?new ur(b.substring(lr.length),a.message):null}P(ur,Error),ur.prototype.A=function(){return{code:this.code,message:this.message}},ur.prototype.toJSON=function(){return this.A()};var lr="auth/",fr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function dr(a){var b=On(a=xn(a),pr)||null,t=On(a,vr)||null,e=On(a,gr)||null;if(e=e&&_r[e]||null,!b||!t||!e)throw new ur("argument-error",pr+", "+vr+"and "+gr+" are required in a valid action code URL.");Ki(this,{apiKey:b,operation:e,code:t,continueUrl:On(a,mr)||null,languageCode:On(a,yr)||null,tenantId:On(a,wr)||null})}var pr="apiKey",vr="oobCode",mr="continueUrl",yr="languageCode",gr="mode",wr="tenantId",_r={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Zi,verifyEmail:"VERIFY_EMAIL"};function Ir(a){try{return new dr(a)}catch(t){return null}}function Sr(a){var b=a[Dr];if(void 0===b)throw new ur("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new ur("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[kr];if(t&&"object"==typeof t){b=t[Or];var e=t[Nr];if(t=t[Cr],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new ur("argument-error",Nr+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new ur("argument-error",Cr+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new ur("argument-error",Or+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new ur("missing-android-pkg-name")}}else if(void 0!==t)throw new ur("argument-error",kr+" property must be a non null object when specified.");if(this.f=null,(b=a[Ar])&&"object"==typeof b){if("string"==typeof(b=b[xr])&&b.length)this.f=b;else if(void 0!==b)throw new ur("argument-error",xr+" property must be a non empty string when specified.")}else if(void 0!==b)throw new ur("argument-error",Ar+" property must be a non null object when specified.");if(void 0!==(b=a[Tr])&&"boolean"!=typeof b)throw new ur("argument-error",Tr+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Er])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new ur("argument-error",Er+" property must be a non empty string when specified.");this.i=a||null}var kr="android",Er="dynamicLinkDomain",Tr="handleCodeInApp",Ar="iOS",Dr="url",Nr="installApp",Cr="minimumVersion",Or="packageName",xr="bundleId";function Pr(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var Rr=null,Mr=null;function Lr(a){var b="";return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),u=Mr[p];if(null!=u)return u;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!Rr){Rr={},Mr={};for(var a=0;65>a;a++)Rr[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Mr[Rr[a]]=a,62<=a&&(Mr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(t){b+=String.fromCharCode(t)})),b}function jr(a){this.f=a.sub,x(),this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.c=a.firebase&&a.firebase.tenant||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function Vr(a){return(a=Br(a))&&a.sub&&a.iss&&a.aud&&a.exp?new jr(a):null}function Br(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{return JSON.parse(Lr(a))}catch(t){}return null}jr.prototype.R=function(){return this.c},jr.prototype.g=function(){return this.b};var Fr,Ur={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function $r(a){for(var b in Ur)if(Ur[b].id===a)return{firebaseEndpoint:(a=Ur[b]).cb,secureTokenEndpoint:a.ib};return null}Fr=$r("__EID__")?"__EID__":void 0;var qr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hr=["client_id","response_type","scope","redirect_uri","state"],zr={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Hr},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Hr},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Hr},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:qr},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Gr(a){for(var b in zr)if(zr[b].Fa==a)return zr[b];return null}function Wr(a){var b={};b["facebook.com"]=Qr,b["google.com"]=to,b["github.com"]=Zr,b["twitter.com"]=eo;var t=a&&a[Kr];try{if(t)return b[t]?new b[t](a):new Jr(a);if(void 0!==a[Yr])return new Xr(a)}catch(t){}return null}var Yr="idToken",Kr="providerId";function Xr(a){var b=a[Kr];if(!b&&a[Yr]){var t=Vr(a[Yr]);t&&t.a&&(b=t.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),Yi(this,"providerId",b),Yi(this,"isNewUser",t)}function Jr(a){Xr.call(this,a),Yi(this,"profile",Ji((a=Li(a.rawUserInfo||"{}"))||{}))}function Qr(a){if(Jr.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zr(a){if(Jr.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yi(this,"username",this.profile&&this.profile.login||null)}function to(a){if(Jr.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(a){if(Jr.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yi(this,"username",a.screenName||null)}function no(a){var b=xn(a),t=On(b,"link"),e=On(xn(t),"link");return b=On(b,"deep_link_id"),On(xn(b),"link")||b||e||t||a}function io(){}function ro(a,b){return a.then((function(t){if(t[Hs]){var e=Vr(t[Hs]);if(!e||b!=e.f)throw new ur("user-mismatch");return t}throw new ur("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==lr+"user-not-found"?new ur("user-mismatch"):t}))}function oo(a,b){if(!b)throw new ur("internal-error","failed to construct a credential");this.a=b,Yi(this,"providerId",a),Yi(this,"signInMethod",a)}function so(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function ao(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new oo(a.providerId,a.pendingToken)}catch(t){}return null}function uo(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Yi(this,"idToken",b.idToken),b.accessToken&&Yi(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Yi(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new ur("internal-error","failed to construct a credential");Yi(this,"accessToken",b.oauthToken),Yi(this,"secret",b.oauthTokenSecret)}Yi(this,"providerId",a),Yi(this,"signInMethod",t)}function co(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:Hn(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function lo(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new uo(a.providerId,b,a.signInMethod)}catch(t){}}return null}function ho(a,b){this.Fc=b||[],Ki(this,{providerId:a,isOAuthProvider:!0}),this.zb={},this.eb=(Gr(a)||{}).Ea||null,this.bb=null}function fo(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new ur("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,a,[])}function po(a){ho.call(this,a,Hr),this.a=[]}function vo(){po.call(this,"facebook.com")}function mo(a){if(!a)throw new ur("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return E(a)&&(b=a.accessToken),(new vo).credential({accessToken:b})}function yo(){po.call(this,"github.com")}function go(a){if(!a)throw new ur("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return E(a)&&(b=a.accessToken),(new yo).credential({accessToken:b})}function bo(){po.call(this,"google.com"),this.ya("profile")}function wo(a,b){var t=a;return E(a)&&(t=a.idToken,b=a.accessToken),(new bo).credential({idToken:t,accessToken:b})}function _o(){ho.call(this,"twitter.com",qr)}function Io(a,b){var t=a;if(E(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new ur("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",t,"twitter.com")}function So(a,b,t){this.a=a,this.c=b,Yi(this,"providerId","password"),Yi(this,"signInMethod",t===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(a){return a&&a.email&&a.password?new So(a.email,a.password,a.signInMethod):null}function Eo(){Ki(this,{providerId:"password",isOAuthProvider:!1})}function To(a,b){if(!(b=Ao(b)))throw new ur("argument-error","Invalid email link!");return new So(a,b.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(a){return(a=Ir(a=no(a)))&&a.operation===Zi?a:null}function Do(a){if(!(a.Va&&a.Ua||a.Ha&&a.ba))throw new ur("internal-error");this.a=a,Yi(this,"providerId","phone"),Yi(this,"signInMethod","phone")}function No(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(t){a[t]&&(b[t]=a[t])})),new Do(b)}return null}function Co(a){return a.a.Ha&&a.a.ba?{temporaryProof:a.a.Ha,phoneNumber:a.a.ba}:{sessionInfo:a.a.Va,code:a.a.Ua}}function Oo(a){try{this.a=a||r.a.auth()}catch(t){throw new ur("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ki(this,{providerId:"phone",isOAuthProvider:!1})}function xo(a,b){if(!a)throw new ur("missing-verification-id");if(!b)throw new ur("missing-verification-code");return new Do({Va:a,Ua:b})}function Po(a){if(a.temporaryProof&&a.phoneNumber)return new Do({Ha:a.temporaryProof,ba:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return wo(r,t);case"facebook.com":return mo(t);case"github.com":return go(t);case"twitter.com":return Io(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new oo(b,g):new uo(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new po(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function Ro(a){if(!a.isOAuthProvider)throw new ur("invalid-oauth-provider")}function Mo(a,b,t,e,n,r,g){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new ur("invalid-auth-event");if(this.g&&this.a)throw new ur("invalid-auth-event");if(this.g&&!this.f)throw new ur("invalid-auth-event")}function Lo(a){return(a=a||{}).type?new Mo(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&cr(a.error),a.postBody,a.tenantId):null}function jo(){this.b=null,this.a=[]}P(Jr,Xr),P(Qr,Jr),P(Zr,Jr),P(to,Jr),P(eo,Jr),oo.prototype.na=function(a){return ua(a,so(this))},oo.prototype.b=function(a,b){var t=so(this);return t.idToken=b,ca(a,t)},oo.prototype.f=function(a,b){return ro(la(a,so(this)),b)},oo.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.na=function(a){return ua(a,co(this))},uo.prototype.b=function(a,b){var t=co(this);return t.idToken=b,ca(a,t)},uo.prototype.f=function(a,b){return ro(la(a,co(this)),b)},uo.prototype.A=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},ho.prototype.Ga=function(a){return this.zb=it(a),this},P(fo,ho),P(po,ho),po.prototype.ya=function(a){return X(this.a,a)||this.a.push(a),this},po.prototype.Hb=function(){return tt(this.a)},po.prototype.credential=function(a,b){var t;if(!(t=E(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new ur("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,t,this.providerId)},P(vo,po),Yi(vo,"PROVIDER_ID","facebook.com"),Yi(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),P(yo,po),Yi(yo,"PROVIDER_ID","github.com"),Yi(yo,"GITHUB_SIGN_IN_METHOD","github.com"),P(bo,po),Yi(bo,"PROVIDER_ID","google.com"),Yi(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),P(_o,ho),Yi(_o,"PROVIDER_ID","twitter.com"),Yi(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.na=function(a){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ba(a,ga,{email:this.a,oobCode:this.c}):Ba(a,Ma,{email:this.a,password:this.c})},So.prototype.b=function(a,b){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ba(a,ba,{idToken:b,email:this.a,oobCode:this.c}):Ba(a,Na,{idToken:b,email:this.a,password:this.c})},So.prototype.f=function(a,b){return ro(this.na(a),b)},So.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Ki(Eo,{PROVIDER_ID:"password"}),Ki(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ki(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.na=function(a){return a.Wa(Co(this))},Do.prototype.b=function(a,b){var t=Co(this);return t.idToken=b,Ba(a,ja,t)},Do.prototype.f=function(a,b){var t=Co(this);return t.operation="REAUTH",ro(a=Ba(a,Va,t),b)},Do.prototype.A=function(){var a={providerId:"phone"};return this.a.Va&&(a.verificationId=this.a.Va),this.a.Ua&&(a.verificationCode=this.a.Ua),this.a.Ha&&(a.temporaryProof=this.a.Ha),this.a.ba&&(a.phoneNumber=this.a.ba),a},Oo.prototype.Wa=function(a,b){var t=this.a.b;return ue(b.verify()).then((function(e){if(!d(e))throw new ur("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":return function(a,b){return Ba(a,Aa,b)}(t,{phoneNumber:a,recaptchaToken:e}).then((function(t){return"function"==typeof b.reset&&b.reset(),t}),(function(t){throw"function"==typeof b.reset&&b.reset(),t}));default:throw new ur("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ki(Oo,{PROVIDER_ID:"phone"}),Ki(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},Mo.prototype.R=function(){return this.h},Mo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Vo,Bo=null;function Fo(a){var b="unauthorized-domain",t=void 0,e=xn(a);a=e.b,"chrome-extension"==(e=e.f)?t=Wt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=Wt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",ur.call(this,b,t)}function Uo(a,b,t){ur.call(this,a,t),(a=b||{}).Ab&&Yi(this,"email",a.Ab),a.ba&&Yi(this,"phoneNumber",a.ba),a.credential&&Yi(this,"credential",a.credential),a.Qb&&Yi(this,"tenantId",a.Qb)}function $o(a){if(a.code){var b=a.code||"";0==b.indexOf(lr)&&(b=b.substring(lr.length));var t={credential:Po(a),Qb:a.tenantId};if(a.email)t.Ab=a.email;else if(a.phoneNumber)t.ba=a.phoneNumber;else if(!t.credential)return new ur(b,a.message||void 0);return new Uo(b,t,a.message)}return null}function qo(){}function Ho(a){return a.c||(a.c=a.b())}function zo(){}function Go(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function Wo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Ko(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function Xo(a,b,t){this.reset(a,b,t,void 0,void 0)}P(Fo,ur),P(Uo,ur),Uo.prototype.A=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.A();return b&&st(a,b),a},Uo.prototype.toJSON=function(){return this.A()},qo.prototype.c=null,P(zo,qo),zo.prototype.a=function(){var a=Go(this);return a?new ActiveXObject(a):new XMLHttpRequest},zo.prototype.b=function(){var a={};return Go(this)&&(a[0]=!0,a[1]=!0),a},Vo=new zo,P(Wo,qo),Wo.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(e=Yo.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},e.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,Ko(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null;function Jo(a){this.f=a,this.b=this.c=this.a=null}function Qo(a,b){this.name=a,this.value=b}Xo.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||x(),delete this.a},Qo.prototype.toString=function(){return this.name};var Zo=new Qo("SEVERE",1e3),th=new Qo("WARNING",900),ts=new Qo("CONFIG",700),es=new Qo("FINE",500);Jo.prototype.log=function(a,b,t){if(a.value>=function t(a){return a.c?a.c:a.a?t(a.a):(j("Root logger has no level set."),null)}(this).value)for(q(b)&&(b=b()),a=new Xo(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var ns={},is=null;function rs(a){var b;if(is||(is=new Jo(""),ns[""]=is,is.c=ts),!(b=ns[a])){b=new Jo(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=rs(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,ns[a]=b}return b}function os(a,b){a&&a.log(es,b,void 0)}function ss(a){this.f=a}function as(a){vn.call(this),this.o=a,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=rs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}P(ss,qo),ss.prototype.a=function(){return new as(this.f)},ss.prototype.b=function(a){return function(){return a}}({}),P(as,vn);var us=0;function cs(a){a.c.read().then(a.ec.bind(a)).catch(a.Oa.bind(a))}function ls(a,b){b&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText),a.readyState=4,a.f=null,a.c=null,a.l=null,hs(a)}function hs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function fs(a){vn.call(this),this.headers=new Sn,this.B=a||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ds,this.v=this.P=!1}(e=as.prototype).open=function(a,b){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.m=a,this.g=b,this.readyState=1,hs(this)},e.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(b.body=a),this.o.fetch(new Request(this.g,b)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ls(this,!1)),this.readyState=us},e.jc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,hs(this)),this.a&&(this.readyState=3,hs(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==f.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.l=new TextDecoder,cs(this)):a.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(a){if(this.a){var b=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?ls(this,!0):hs(this),3==this.readyState&&cs(this)}},e.ic=function(a){this.a&&(this.response=this.responseText=a,ls(this,!0))},e.hc=function(a){this.a&&(this.response=a,ls(this,!0))},e.Oa=function(a){var b=this.h;b&&b.log(th,"Failed to fetch url "+this.g,a instanceof Error?a:Error(a)),this.a&&ls(this,!0)},e.setRequestHeader=function(a,b){this.i.append(a,b)},e.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(th,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var a=this.h;return a&&a.log(th,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},P(fs,vn);var ds="";fs.prototype.b=rs("goog.net.XhrIo");var ps=/^https?$/i,vs=["POST","PUT"];function ms(a,b,t,e,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.O=t,a.I=!1,a.c=!0,a.a=a.B?a.B.a():Vo.a(),a.w=a.B?Ho(a.B):Ho(Vo),a.a.onreadystatechange=C(a.Lb,a);try{os(a.b,Es(a,"Opening Xhr")),a.J=!0,a.a.open(t,String(b),!0),a.J=!1}catch(t){return os(a.b,Es(a,"Error opening Xhr: "+t.message)),void gs(a,t)}b=e||"";var r=new Sn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(k(a)||d(a))W(a,b,void 0);else for(var t=In(a),e=_n(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(n,(function(g,t){r.set(t,g)})),n=function(a){t:{for(var b=ys,t=a.length,e=d(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:d(a)?a.charAt(b):a[b]}(r.X()),e=f.FormData&&b instanceof f.FormData,!X(vs,t)||n||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,t){this.a.setRequestHeader(t,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.P&&(a.a.withCredentials=a.P);try{Is(a),0<a.g&&(a.v=function(a){return Ne&&Fe(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),os(a.b,Es(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.v)),a.v?(a.a.timeout=a.g,a.a.ontimeout=C(a.Ia,a)):a.o=bn(a.Ia,a.g,a)),os(a.b,Es(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){os(a.b,Es(a,"Send error: "+t.message)),gs(a,t)}}function ys(a){return"content-type"==a.toLowerCase()}function gs(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,bs(a),_s(a)}function bs(a){a.I||(a.I=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function ws(a){if(a.c&&void 0!==h)if(a.w[1]&&4==Ss(a)&&2==ks(a))os(a.b,Es(a,"Local request error detected and ignored"));else if(a.i&&4==Ss(a))bn(a.Lb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ss(a)){os(a.b,Es(a,"Request complete")),a.c=!1;try{var t,b=ks(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.l).match(En)[1]||null;if(!r&&f.self&&f.self.location){var g=f.self.location.protocol;r=g.substr(0,g.length-1)}n=!ps.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ss(a)?a.a.statusText:""}catch(t){os(a.b,"Can not get status: "+t.message),o=""}a.h=o+" ["+ks(a)+"]",bs(a)}}finally{_s(a)}}}function _s(a,b){if(a.a){Is(a);var t=a.a,e=a.w[0]?w:null;a.a=null,a.w=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(Zo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Is(a){a.a&&a.v&&(a.a.ontimeout=null),a.o&&(f.clearTimeout(a.o),a.o=null)}function Ss(a){return a.a?a.a.readyState:0}function ks(a){try{return 2<Ss(a)?a.a.status:-1}catch(t){return-1}}function Es(a,b){return b+" ["+a.O+" "+a.l+" "+ks(a)+"]"}function Ts(a){var b=js;this.g=[],this.v=b,this.o=a||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function As(a,b,t){a.a=!0,a.c=t,a.f=!b,Os(a)}function Ds(a){if(a.a){if(!a.u)throw new xs(a);a.u=!1}}function Ns(a,b,t,e){a.g.push([b,t,e]),a.a&&Os(a)}function Cs(a){return K(a.g,(function(b){return q(b[1])}))}function Os(a){if(a.h&&a.a&&Cs(a)){var b=a.h,t=Ms[b];t&&(f.clearTimeout(t.a),delete Ms[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.o,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(R(b)||"function"==typeof f.Promise&&b instanceof f.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,Cs(a)||(t=!0)}}a.c=b,e&&(o=C(a.m,a,!0),e=C(a.m,a,!1),b instanceof Ts?(Ns(b,o,e),b.w=!0):b.then(o,e)),t&&(b=new Rs(b),Ms[b.a]=b,a.h=b.a)}function xs(){M.call(this)}function Ps(){M.call(this)}function Rs(a){this.a=f.setTimeout(C(this.c,this),0),this.b=a}(e=fs.prototype).Ia=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,Es(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(os(this.b,Es(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_s(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_s(this,!0)),fs.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?ws(this):this.yc())},e.yc=function(){ws(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ds:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return os(this.b,"Can not get response: "+t.message),null}},Ts.prototype.cancel=function(a){if(this.a)this.c instanceof Ts&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(a=new Ps(this),Ds(this),As(this,!1,a))}},Ts.prototype.m=function(a,b){this.i=!1,As(this,a,b)},Ts.prototype.then=function(a,b,t){var e,n,r=new ee((function(g,t){e=g,n=t}));return Ns(this,e,(function(g){g instanceof Ps?r.cancel():n(g)})),r.then(a,b,t)},Ts.prototype.$goog_Thenable=!0,P(xs,M),xs.prototype.message="Deferred has already fired",xs.prototype.name="AlreadyCalledError",P(Ps,M),Ps.prototype.message="Deferred was canceled",Ps.prototype.name="CanceledError",Rs.prototype.c=function(){throw delete Ms[this.a],this.b};var Ms={};function Ls(a){var b={},t=b.document||document,e=pt(a).toString(),n=document.createElement("SCRIPT"),r={Nb:n,Ia:void 0},g=new Ts(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){Vs(n,!0);var p=new Fs(Bs,"Timeout reached for loading script "+e);Ds(g),As(g,!1,p)}),c),r.Ia=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(Vs(n,b.gd||!1,o),Ds(g),As(g,!0,null))},n.onerror=function(){Vs(n,!0,o);var p=new Fs(li,"Error while loading script "+e);Ds(g),As(g,!1,p)},st(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Qn(n,r),function(a,b){z(a,"HTMLScriptElement"),a.src=pt(b),null===y&&(y=(b=(b=f.document).querySelector&&b.querySelector("script[nonce]"))&&(b=b.nonce||b.getAttribute("nonce"))&&m.test(b)?b:""),(b=y)&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),g}function js(){if(this&&this.Nb){var a=this.Nb;a&&"SCRIPT"==a.tagName&&Vs(a,!0,this.Ia)}}function Vs(a,b,t){null!=t&&f.clearTimeout(t),a.onload=w,a.onerror=w,a.onreadystatechange=w,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var li=0,Bs=1;function Fs(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),M.call(this,t),this.code=a}function Us(a){this.f=a}function $s(a,b,t){if(this.c=a,a=b||{},this.l=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=a.secureTokenTimeout||zs,this.g=it(a.secureTokenHeaders||Gs),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.firebaseTimeout||Ws,this.a=it(a.firebaseHeaders||Ys),t&&(this.a["X-Client-Version"]=t,this.g["X-Client-Version"]=t),t="Node"==wi(),!(t=f.XMLHttpRequest||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!bi())throw new ur("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,bi()?this.f=new ss(self):_i()?this.f=new Us(t):this.f=new Wo,this.b=null}P(Fs,M),P(Us,qo),Us.prototype.a=function(){return new this.f},Us.prototype.b=function(){return{}};var qs,Hs="idToken",zs=new Fi(3e4,6e4),Gs={"Content-Type":"application/x-www-form-urlencoded"},Ws=new Fi(3e4,6e4),Ys={"Content-Type":"application/json"};function Ks(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function Xs(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function Js(a,b,t,e,n,r,g){(function(){var a=Ai();return!((a=ki(a)!=Si?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a)&&(!Ne||!Ve||9<Ve)})()||bi()?a=C(a.o,a):(qs||(qs=new ee((function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{f[Zs]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){Ns(a,null,b,void 0)}(Ls(vt(Qs,{onload:Zs})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),a=C(a.m,a)),a(b,t,e,n,r,g)}$s.prototype.R=function(){return this.b},$s.prototype.o=function(a,b,t,e,n,r){if(bi()&&(void 0===f.fetch||void 0===f.Headers||void 0===f.Request))throw new ur("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new fs(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}mn(g,"complete",(function(){o&&clearTimeout(o);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return os(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)})),yn(g,"ready",(function(){o&&clearTimeout(o),Ee(this)})),yn(g,"timeout",(function(){o&&clearTimeout(o),Ee(this),b&&b(null)})),ms(g,a,t,e,n)};var Qs=new at(lt,"https://apis.google.com/js/client.js?onload=%{onload}"),Zs="__fcb"+Math.floor(1e6*Math.random()).toString();function ta(a){if(!d(a=a.email)||!vi.test(a))throw new ur("invalid-email")}function ea(a){"email"in a&&ta(a)}function na(a){if(!a[Hs])throw new ur("internal-error")}function ia(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new ur("internal-error")}else{if(!a.sessionInfo)throw new ur("missing-verification-id");if(!a.code)throw new ur("missing-verification-code")}}$s.prototype.m=function(a,b,t,e,n){var r=this;qs.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})})).s((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},$s.prototype.ob=function(){return Ba(this,Ca,{})},$s.prototype.rb=function(a,b){return Ba(this,Da,{idToken:a,email:b})},$s.prototype.sb=function(a,b){return Ba(this,Na,{idToken:a,password:b})};var ra={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function oa(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new ur("internal-error")}function sa(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(Gn(a=new $n(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function aa(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=$o(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=$o(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=$o(a)):a.errorMessage&&(b=Fa(a.errorMessage)),b)throw b;if(!a[Hs])throw new ur("internal-error")}function ua(a,b){return b.returnIdpCredential=!0,Ba(a,Oa,b)}function ca(a,b){return b.returnIdpCredential=!0,Ba(a,Pa,b)}function la(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,Ba(a,xa,b)}function ha(a){if(!a.oobCode)throw new ur("invalid-action-code")}(e=$s.prototype).tb=function(a,b){var t={idToken:a},e=[];return et(ra,(function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)})),e.length&&(t.deleteAttribute=e),Ba(this,Da,t)},e.kb=function(a,b){return st(a={requestType:"PASSWORD_RESET",email:a},b),Ba(this,Sa,a)},e.lb=function(a,b){return st(a={requestType:"EMAIL_SIGNIN",email:a},b),Ba(this,_a,a)},e.jb=function(a,b){return st(a={requestType:"VERIFY_EMAIL",idToken:a},b),Ba(this,Ia,a)},e.Wa=function(a){return Ba(this,La,a)},e.ab=function(a,b){return Ba(this,Ta,{oobCode:a,newPassword:b})},e.Ma=function(a){return Ba(this,da,{oobCode:a})},e.Ya=function(a){return Ba(this,fa,{oobCode:a})};var fa={endpoint:"setAccountInfo",D:ha,fa:"email",F:!0},da={endpoint:"resetPassword",D:ha,K:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b)throw new ur("internal-error")},F:!0},pa={endpoint:"signupNewUser",D:function(a){if(ta(a),!a.password)throw new ur("weak-password")},K:na,T:!0,F:!0},va={endpoint:"createAuthUri",F:!0},ma={endpoint:"deleteAccount",V:["idToken"]},ya={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(a){if(!S(a.deleteProvider))throw new ur("internal-error")}},ga={endpoint:"emailLinkSignin",V:["email","oobCode"],D:ta,K:na,T:!0,F:!0},ba={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:ta,K:na,T:!0},wa={endpoint:"getAccountInfo"},_a={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new ur("internal-error");ta(a)},fa:"email",F:!0},Ia={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new ur("internal-error")},fa:"email",F:!0},Sa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(a){if("PASSWORD_RESET"!=a.requestType)throw new ur("internal-error");ta(a)},fa:"email",F:!0},ka={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},Ea={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(a){if(!a.recaptchaSiteKey)throw new ur("internal-error")}},Ta={endpoint:"resetPassword",D:ha,fa:"email",F:!0},Aa={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},Da={endpoint:"setAccountInfo",V:["idToken"],D:ea,T:!0},Na={endpoint:"setAccountInfo",V:["idToken"],D:function(a){if(ea(a),!a.password)throw new ur("weak-password")},K:na,T:!0},Ca={endpoint:"signupNewUser",K:na,T:!0,F:!0},Oa={endpoint:"verifyAssertion",D:oa,Ra:sa,K:aa,T:!0,F:!0},xa={endpoint:"verifyAssertion",D:oa,Ra:sa,K:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new ur("user-not-found");if(a.errorMessage)throw Fa(a.errorMessage);if(!a[Hs])throw new ur("internal-error")},T:!0,F:!0},Pa={endpoint:"verifyAssertion",D:function(a){if(oa(a),!a.idToken)throw new ur("internal-error")},Ra:sa,K:aa,T:!0},Ra={endpoint:"verifyCustomToken",D:function(a){if(!a.token)throw new ur("invalid-custom-token")},K:na,T:!0,F:!0},Ma={endpoint:"verifyPassword",D:function(a){if(ta(a),!a.password)throw new ur("wrong-password")},K:na,T:!0,F:!0},La={endpoint:"verifyPhoneNumber",D:ia,K:na,F:!0},ja={endpoint:"verifyPhoneNumber",D:function(a){if(!a.idToken)throw new ur("internal-error");ia(a)},K:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",$o(a);na(a)}},Va={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:ia,K:na,F:!0};function Ba(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.V))return ce(new ur("internal-error"));var e,n=b.Kb||"POST";return ue(t).then(b.D).then((function(){return b.T&&(t.returnSecureToken=!0),b.F&&a.b&&void 0===t.tenantId&&(t.tenantId=a.b),function(a,b,t,e,n,r){var g=xn(a.h+b);Cn(g,"key",a.c),r&&Cn(g,"cb",x().toString());var o="GET"==t;if(o)for(var c in e)e.hasOwnProperty(c)&&Cn(g,c,e[c]);return new ee((function(p,u){Js(a,g.toString(),(function(t){t?t.error?u(Ua(t,n||{})):p(t):u(new ur("network-request-failed"))}),t,o?void 0:ni(Mi(e)),a.a,a.i.get())}))}(a,b.endpoint,n,t,b.Yb,b.wb||!1)})).then((function(n){return e=n,b.Ra?b.Ra(t,e):e})).then(b.K).then((function(){if(!b.fa)return e;if(!(b.fa in e))throw new ur("internal-error");return e[b.fa]}))}function Fa(a){return Ua({error:{errors:[{message:a}],code:400,message:a}})}function Ua(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new ur(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",st(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new ur(e[n],b);return!b&&a&&(b=Ri(a)),new ur("internal-error",b)}function $a(a){this.b=a,this.a=null,this.gb=function(a){return(Ga||(Ga=new ee((function(a,b){function t(){Bi(),Di("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Bi(),b(Error("Network Error"))},timeout:Ha.get()})}if(Di("gapi.iframes.Iframe"))a();else if(Di("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[e]=function(){Di("gapi.load")?t():b(Error("Network Error"))},ue(Ls(e=vt(qa,{onload:e}))).s((function(){b(Error("Network Error"))}))}})).s((function(a){throw Ga=null,a})))).then((function(){return new ee((function(b,t){Di("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){t(Error("Network Error"))}),za.get());e.ping(n).then(n,(function(){t(Error("Network Error"))}))}))}))}))}(this)}var qa=new at(lt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ha=new Fi(3e4,6e4),za=new Fi(5e3,15e3),Ga=null;function Wa(a,b,t){this.i=a,this.g=b,this.h=t,this.f=null,this.a=Pn(this.i,"/__/auth/iframe"),Cn(this.a,"apiKey",this.g),Cn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ya(a,b,t,e,n){this.o=a,this.m=b,this.c=t,this.u=e,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function Ka(a){try{return r.a.app(a).auth().Ca()}catch(t){return[]}}function Xa(a,b,t,e,n){this.u=a,this.f=b,this.b=t,this.c=e||null,this.h=n||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ja(a){var b=ui();return function(a){return Ba(a,ka,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(t){t:{var e=xn(b),n=e.f;e=e.b;for(var r=0;r<t.length;r++){var g=t[r],o=e,c=n;if(0==g.indexOf("chrome-extension://")?o=xn(g).b==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:pi.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new Fo(ui())}))}function Qa(a){return a.l?a.l:(a.l=mi().then((function(){if(!a.o){var b=a.c,t=a.h,e=Ka(a.b),n=new Wa(a.u,a.f,a.b);n.f=b,n.b=t,n.c=tt(e||[]),a.o=n.toString()}a.i=new $a(a.o),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");!function(a,b){a.gb.then((function(){a.a.register("authEvent",b,Di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.i,(function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=Lo(b.authEvent),t=0;t<a.g.length;t++)e=a.g[t](b)||e;return(t={}).status=e?"ACK":"ERROR",ue(t)}return t.status="ERROR",ue(t)}))}(a)})),a.l)}function Za(a){return a.m||(a.v=a.c?Ti(a.c,Ka(a.b)):null,a.m=new $s(a.f,$r(a.h),a.v)),a.m}function tu(a,b,t,e,n,r,g,o,c,p,u){return(a=new Ya(a,b,t,e,n)).l=r,a.g=g,a.i=o,a.b=it(c||null),a.f=p,a.nb(u).toString()}function eu(a){if(this.a=a||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ur("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function nu(a){this.b=a,this.a={},this.f=C(this.c,this)}Wa.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):zn(this.a.a,"v"),this.b?Cn(this.a,"eid",this.b):zn(this.a.a,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):zn(this.a.a,"fw"),this.a.toString()},Ya.prototype.nb=function(a){return this.h=a,this},Ya.prototype.toString=function(){var a=Pn(this.o,"/__/auth/handler");if(Cn(a,"apiKey",this.m),Cn(a,"appName",this.c),Cn(a,"authType",this.u),this.a.isOAuthProvider){var b=this.a;try{var t=r.a.app(this.c).auth().ha()}catch(e){t=null}for(var e in b.bb=t,Cn(a,"providerId",this.a.providerId),t=Mi((b=this.a).zb))t[e]=t[e].toString();e=b.Fc,t=it(t);for(var n=0;n<e.length;n++){var o=e[n];o in t&&delete t[o]}b.eb&&b.bb&&!t[b.eb]&&(t[b.eb]=b.bb),nt(t)||Cn(a,"customParameters",Ri(t))}if("function"==typeof this.a.Hb&&((b=this.a.Hb()).length&&Cn(a,"scopes",b.join(","))),this.l?Cn(a,"redirectUrl",this.l):zn(a.a,"redirectUrl"),this.g?Cn(a,"eventId",this.g):zn(a.a,"eventId"),this.i?Cn(a,"v",this.i):zn(a.a,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!On(a,g)&&Cn(a,g,this.b[g]);return this.h?Cn(a,"tid",this.h):zn(a.a,"tid"),this.f?Cn(a,"eid",this.f):zn(a.a,"eid"),(g=Ka(this.c)).length&&Cn(a,"fw",g.join(",")),a.toString()},(e=Xa.prototype).Fb=function(a,b,t){var e=new ur("popup-closed-by-user"),n=new ur("web-storage-unsupported"),r=this,g=!1;return this.ia().then((function(){(function(a){var b={type:"webStorageSupport"};return Qa(a).then((function(){return function(a,b){return a.gb.then((function(){return new ee((function(t){a.a.send(b.type,b,t,Di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.i,b)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(t){t||(a&&fi(a),b(n),g=!0)}))})).s((function(){})).then((function(){if(!g)return function(a){return new ee((function(b){return function t(){wn(2e3).then((function(){if(a&&!a.closed)return t();b()}))}()}))}(a)})).then((function(){if(!g)return wn(t).then((function(){b(e)}))}))},e.Ob=function(){var a=Ai();return!Pi(a)&&!Vi(a)},e.Jb=function(){return!1},e.Db=function(a,b,t,e,n,r,g,o){if(!a)return ce(new ur("popup-blocked"));if(g&&!Pi())return this.ia().s((function(p){fi(a),n(p)})),e(),ue();this.a||(this.a=Ja(Za(this)));var c=this;return this.a.then((function(){var p=c.ia().s((function(u){throw fi(a),n(u),u}));return e(),p})).then((function(){(Ro(t),g)||ci(tu(c.u,c.f,c.b,b,t,null,r,c.c,void 0,c.h,o),a)})).s((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},e.Eb=function(a,b,t,e){this.a||(this.a=Ja(Za(this)));var n=this;return this.a.then((function(){Ro(b),ci(tu(n.u,n.f,n.b,a,b,ui(),t,n.c,void 0,n.h,e))})).s((function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t}))},e.ia=function(){var a=this;return Qa(this).then((function(){return a.i.gb})).s((function(){throw a.a=null,new ur("network-request-failed")}))},e.Rb=function(){return!0},e.Aa=function(a){this.g.push(a)},e.Na=function(a){Q(this.g,(function(b){return b==a}))},(e=eu.prototype).get=function(a){return ue(this.a.getItem(a)).then((function(b){return b&&Li(b)}))},e.set=function(a,b){return ue(this.a.setItem(a,Ri(b)))},e.S=function(a){return ue(this.a.removeItem(a))},e.$=function(){},e.ea=function(){};var iu,ru=[];function ou(a,b,t){nt(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(t)}function su(a){this.a=a}function au(a){this.c=a,this.b=!1,this.a=[]}function uu(a,b,t,e){var n,g,r,o,c=t||{},p=null;if(a.b)return ce(Error("connection_unavailable"));var u=e?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ee((function(t,e){l?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),r=setTimeout((function(){e(Error("unsupported_event"))}),u),p={messageChannel:l,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?t(c.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),l.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[l.port2])):e(Error("connection_unavailable"))})).then((function(t){return cu(a,p),t})).s((function(t){throw cu(a,p),t}))}function cu(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),Q(a.a,(function(t){return t==b}))}}function lu(){if(!du())throw new ur("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=f.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var a=this;bi()&&self?(this.l=function(){var a=bi()?self:null;if(W(ru,(function(t){t.b==a&&(b=t)})),!b){var b=new nu(a);ru.push(b)}return b}(),ou(this.l,"keyChanged",(function(b,t){return gu(a).then((function(e){return 0<e.length&&W(a.a,(function(t){t(e)})),{keyProcessed:X(e,t.key)}}))})),ou(this.l,"ping",(function(){return ue(["keyChanged"])}))):function(){var a=f.navigator;return a&&a.serviceWorker?ue().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).s((function(){return null})):ue(null)}().then((function(b){(a.h=b)&&(a.g=new au(new su(b)),uu(a.g,"ping",null,!0).then((function(t){t[0].fulfilled&&X(t[0].value,"keyChanged")&&(a.o=!0)})).s((function(){})))}))}function hu(a){return new ee((function(b,t){var e=a.u.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new ee((function(b,t){var e=a.u.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}}))}(a).then((function(){return hu(a)})).then((function(t){b(t)})).s((function(e){t(e)}))}}))}function fu(a){return a.m||(a.m=hu(a)),a.m}function du(){try{return!!f.indexedDB}catch(t){return!1}}function pu(a){return a.objectStore("firebaseLocalStorage")}function vu(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function mu(a){return new ee((function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}}))}function yu(a,b){return a.g&&a.h&&function(){var a=f.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?uu(a.g,"keyChanged",{key:b},a.o).then((function(){})).s((function(){})):ue()}function gu(a){return fu(a).then((function(b){var t=pu(vu(b,!1));return t.getAll?mu(t.getAll()):new ee((function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}}))})).then((function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=function t(a,b){var e,n=[];for(e in a)e in b?typeof a[e]!=typeof b[e]?n.push(e):"object"==typeof a[e]&&null!=a[e]&&null!=b[e]?0<t(a[e],b[e]).length&&n.push(e):a[e]!==b[e]&&n.push(e):n.push(e);for(e in b)e in a||n.push(e);return n}(a.c,t),a.c=t}return e}))}function bu(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function wu(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=ue().then((function(){if(du()){var e=ji(),n="__sak"+e;return iu||(iu=new lu),(t=iu).set(n,e).then((function(){return t.get(n)})).then((function(r){if(r!==e)throw Error("indexedDB not supported!");return t.S(n)})).then((function(){return t})).s((function(){return b.c}))}return b.c})).then((function(t){return b.type=t.type,t.$((function(t){W(b.a,(function(e){e(t)}))})),t}))}function _u(){this.a={},this.type="inMemory"}function Iu(){if(!function(){var a="Node"==wi();if(!(a=Su()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wi())throw new ur("internal-error","The LocalStorage compatibility library was not found.");throw new ur("web-storage-unsupported")}this.a=Su()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Su(){try{var a=f.localStorage,b=ji();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ku(){this.type="nullStorage"}function Eu(){if(!function(){var a="Node"==wi();if(!(a=Tu()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wi())throw new ur("internal-error","The SessionStorage compatibility library was not found.");throw new ur("web-storage-unsupported")}this.a=Tu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Tu(){try{var a=f.sessionStorage,b=ji();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function Au(){var a={};a.Browser=Cu,a.Node=Ou,a.ReactNative=xu,a.Worker=Pu,this.a=a[wi()]}nu.prototype.c=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];W(e,(function(t){n.push(ue().then((function(){return t(a.origin,a.data.data)})))})),he(n).then((function(e){var g=[];W(e,(function(t){g.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(g,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})}))}},su.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},au.prototype.close=function(){for(;0<this.a.length;)cu(this,this.a[0]);this.b=!0},(e=lu.prototype).set=function(a,b){var t,e=!1,n=this;return fu(this).then((function(e){return mu((e=pu(vu(t=e,!0))).get(a))})).then((function(r){var g=pu(vu(t,!0));return r?(r.value=b,mu(g.put(r))):(n.b++,e=!0,(r={}).fbase_key=a,r.value=b,mu(g.add(r)))})).then((function(){return n.c[a]=b,yu(n,a)})).ka((function(){e&&n.b--}))},e.get=function(a){return fu(this).then((function(b){return mu(pu(vu(b,!1)).get(a))})).then((function(b){return b&&b.value}))},e.S=function(a){var b=!1,t=this;return fu(this).then((function(e){return b=!0,t.b++,mu(pu(vu(e,!0)).delete(a))})).then((function(){return delete t.c[a],yu(t,a)})).ka((function(){b&&t.b--}))},e.$=function(a){0==this.a.length&&function(a){bu(a),function b(){a.f=setTimeout((function(){a.i=gu(a).then((function(t){0<t.length&&W(a.a,(function(e){e(t)}))})).then((function(){b()})).s((function(t){"STOP_EVENT"!=t.message&&b()}))}),800)}()}(this),this.a.push(a)},e.ea=function(a){Q(this.a,(function(b){return b==a})),0==this.a.length&&bu(this)},(e=wu.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},e.set=function(a,b){return this.b.then((function(t){return t.set(a,b)}))},e.S=function(a){return this.b.then((function(b){return b.S(a)}))},e.$=function(a){this.a.push(a)},e.ea=function(a){Q(this.a,(function(b){return b==a}))},(e=_u.prototype).get=function(a){return ue(this.a[a])},e.set=function(a,b){return this.a[a]=b,ue()},e.S=function(a){return delete this.a[a],ue()},e.$=function(){},e.ea=function(){},(e=Iu.prototype).get=function(a){var b=this;return ue().then((function(){return Li(b.a.getItem(a))}))},e.set=function(a,b){var t=this;return ue().then((function(){var e=Ri(b);null===e?t.S(a):t.a.setItem(a,e)}))},e.S=function(a){var b=this;return ue().then((function(){b.a.removeItem(a)}))},e.$=function(a){f.window&&rn(f.window,"storage",a)},e.ea=function(a){f.window&&an(f.window,"storage",a)},(e=ku.prototype).get=function(){return ue(null)},e.set=function(){return ue()},e.S=function(){return ue()},e.$=function(){},e.ea=function(){},(e=Eu.prototype).get=function(a){var b=this;return ue().then((function(){return Li(b.a.getItem(a))}))},e.set=function(a,b){var t=this;return ue().then((function(){var e=Ri(b);null===e?t.S(a):t.a.setItem(a,e)}))},e.S=function(a){var b=this;return ue().then((function(){b.a.removeItem(a)}))},e.$=function(){},e.ea=function(){};var Du,Nu,Cu={C:Iu,Ta:Eu},Ou={C:Iu,Ta:Eu},xu={C:eu,Ta:ku},Pu={C:Iu,Ta:ku},Ru={ad:"local",NONE:"none",cd:"session"};function Mu(){var a=!(Vi(Ai())||!gi()),b=Pi(),t=Ni();this.m=a,this.h=b,this.l=t,this.a={},Du||(Du=new Au),a=Du;try{this.g=!ai()&&qi()||!f.indexedDB?new a.a.C:new wu(bi()?new _u:new a.a.C)}catch(t){this.g=new _u,this.h=!0}try{this.i=new a.a.Ta}catch(t){this.i=new _u}this.u=new _u,this.f=C(this.Pb,this),this.b={}}function Lu(){return Nu||(Nu=new Mu),Nu}function ju(a,b){switch(b){case"session":return a.i;case"none":return a.u;default:return a.g}}function Vu(a,b){return"firebase:"+a.name+(b?":"+b:"")}function Bu(a,b,t){return t=Vu(b,t),"local"==b.C&&(a.b[t]=null),ju(a,b.C).S(t)}function Fu(a){a.c&&(clearInterval(a.c),a.c=null)}function Uu(a){this.a=a,this.b=Lu()}(e=Mu.prototype).get=function(a,b){return ju(this,a.C).get(Vu(a,b))},e.set=function(a,b,t){var e=Vu(a,t),n=this,r=ju(this,a.C);return r.set(e,b).then((function(){return r.get(e)})).then((function(g){"local"==a.C&&(n.b[e]=g)}))},e.addListener=function(a,b,t){a=Vu(a,b),this.l&&(this.b[a]=f.localStorage.getItem(a)),nt(this.a)&&(ju(this,"local").$(this.f),this.h||(ai()||!qi())&&f.indexedDB||!this.l||function(a){Fu(a),a.c=setInterval((function(){for(var b in a.a){var t=f.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new Ge({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Pb(t))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},e.removeListener=function(a,b,t){a=Vu(a,b),this.a[a]&&(Q(this.a[a],(function(e){return e==t})),0==this.a[a].length&&delete this.a[a]),nt(this.a)&&(ju(this,"local").ea(this.f),Fu(this))},e.Pb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var n=f.localStorage.getItem(t);n!==e&&(this.b[t]=n,this.$a(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?ju(this,"local").ea(this.f):Fu(this),this.m)if(t=f.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?f.localStorage.setItem(b,e):f.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var r=this;t=function(){void 0===a.a.a&&r.b[b]===f.localStorage.getItem(b)||(r.b[b]=f.localStorage.getItem(b),r.$a(b))},Ne&&Ve&&10==Ve&&f.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else W(a,C(this.$a,this))},e.$a=function(a){this.a[a]&&W(this.a[a],(function(b){b()}))};var $u,qu={name:"authEvent",C:"local"};function Hu(){this.a=Lu()}function zu(a,b){this.b=Gu,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=f.Int32Array?new Int32Array(64):Array(64),void 0!==$u||($u=f.Int32Array?new Int32Array(Zu):Zu),this.reset()}P(zu,(function(){this.b=-1}));for(var Gu=64,Wu=Gu-1,Yu=[],Ku=0;Ku<Wu;Ku++)Yu[Ku]=0;var Xu=Z(128,Yu);function Ju(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],u=0|a.a[5],l=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var h=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&u^~p&l)+(0|$u[b])|0)+(0|t[b])|0)|0,r=l,l=u,u=p,p=c+g|0,c=o,o=n,n=e,e=g+h|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+u|0,a.a[6]=a.a[6]+l|0,a.a[7]=a.a[7]+r|0}function Qu(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if(d(b))for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(Ju(a),n=0);else{if(!k(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(Ju(a),n=0)}}a.c=n,a.g+=t}zu.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):tt(this.h)};var Zu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function tc(){zu.call(this,8,ec)}P(tc,zu);var ec=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function nc(a,b,t,e,n){this.u=a,this.i=b,this.l=t,this.m=e||null,this.o=n||null,this.h=b+":"+t,this.v=new Hu,this.g=new Uu(this.h),this.f=null,this.b=[],this.a=this.c=null}function ic(a){return new ur("invalid-cordova-configuration",a)}function rc(a){var b=new tc;Qu(b,a),a=[];var t=8*b.g;56>b.c?Qu(b,Xu,56-b.c):Qu(b,Xu,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(Ju(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return Y(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function oc(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function sc(a){return a.f||(a.f=a.ia().then((function(){return new ee((function(b){a.Aa((function t(e){return b(e),a.Na(t),!1})),function(a){function b(g){e=!0,n&&n.cancel(),ac(a).then((function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=no(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Li(On(p=xn(n),"firebaseError")||null))?cr(p):null)?new Mo(e.c,e.b,null,null,p,null,e.R()):new Mo(e.c,e.b,n,e.f,null,null,e.R())),n=p||t}oc(a,n)}))}var t=new Mo("unknown",null,null,null,new ur("no-auth-event")),e=!1,n=wn(500).then((function(){return ac(a).then((function(){e||oc(a,t)}))})),r=f.handleOpenURL;f.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(Di("BuildInfo.packageName",f).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(t){console.error(t)}},Bo||(Bo=new jo),function(a){var b=Bo;b.a.push(a),b.b||(b.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=Di("universalLinks.subscribe",f))&&a(null,b.b))}(b)}(a)}))}))),a.f}function ac(a){var b=null;return function(a){return a.b.get(qu,a.a).then((function(b){return Lo(b)}))}(a.g).then((function(t){return b=t,Bu((t=a.g).b,qu,t.a)})).then((function(){return b}))}function uc(a){this.a=a,this.b=Lu()}(e=nc.prototype).ia=function(){return this.Da?this.Da:this.Da=(yi(void 0)?mi().then((function(){return new ee((function(a,b){var t=f.document,e=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);t.addEventListener("deviceready",(function(){clearTimeout(e),a()}),!1)}))})):ce(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Di("universalLinks.subscribe",f))throw ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Di("BuildInfo.packageName",f))throw ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Di("cordova.plugins.browsertab.openUrl",f))throw ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Di("cordova.InAppBrowser.open",f))throw ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new ur("cordova-not-ready")}))},e.Fb=function(a,b){return b(new ur("operation-not-supported-in-this-environment")),ue()},e.Db=function(){return ce(new ur("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(a,b,t,e){if(this.c)return ce(new ur("redirect-operation-pending"));var n=this,r=f.document,g=null,o=null,c=null,p=null;return this.c=ue().then((function(){return Ro(b),sc(n)})).then((function(){return function(a,b,t,e,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new Mo(b,e,null,r,new ur("no-auth-event"),null,n),o=Di("BuildInfo.packageName",f);if("string"!=typeof o)throw new ur("invalid-cordova-configuration");var c=Di("BuildInfo.displayName",f),p={};if(Ai().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!Ai().toLowerCase().match(/android/))return ce(new ur("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=rc(r),p.sessionId=r;var u=tu(a.u,a.i,a.l,b,t,null,e,a.m,p,a.o,n);return a.ia().then((function(){var t=a.h;return a.v.a.set(qu,g.A(),t)})).then((function(){var t=Di("cordova.plugins.browsertab.isAvailable",f);if("function"!=typeof t)throw new ur("invalid-cordova-configuration");var e=null;t((function(t){if(t){if("function"!=typeof(e=Di("cordova.plugins.browsertab.openUrl",f)))throw new ur("invalid-cordova-configuration");e(u)}else{if("function"!=typeof(e=Di("cordova.InAppBrowser.open",f)))throw new ur("invalid-cordova-configuration");t=Ai(),a.a=e(u,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,t,e)})).then((function(){return new ee((function(u,t){o=function(){var t=Di("cordova.plugins.browsertab.close",f);return u(),"function"==typeof t&&t(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Aa(o),c=function(){g||(g=wn(2e3).then((function(){t(new ur("redirect-cancelled-by-user"))})))},p=function(){Ui()&&c()},r.addEventListener("resume",c,!1),Ai().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).s((function(u){return ac(n).then((function(){throw u}))}))})).ka((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Na(o),n.c=null}))},e.Aa=function(a){this.b.push(a),sc(this).s((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new Mo("unknown",null,null,null,new ur("no-auth-event")),a(b))}))},e.Na=function(a){Q(this.b,(function(b){return b==a}))};var cc={name:"pendingRedirect",C:"session"};function lc(a){return Bu(a.b,cc,a.a)}function dl(a,b,t){this.i={},this.v=0,this.B=a,this.u=b,this.m=t,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new Sc,this.w=new Ac,this.g=new uc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=hc(this.B,this.u,this.m,Fr)}function hc(a,b,t,e){var n=r.a.SDK_VERSION||null;return yi()?new nc(a,b,t,n,e):new Xa(a,b,t,n,e)}function fc(a){a.f||(a.f=!0,a.a.Aa(a.l));var b=a.a;return a.a.ia().s((function(t){throw a.a==b&&a.reset(),t}))}function dc(a){a.a.Ob()&&fc(a).s((function(b){var t=new Mo("unknown",null,null,null,new ur("operation-not-supported-in-this-environment"));gc(b)&&a.o(t)})),a.a.Jb()||kc(a.b)}function pc(a,b){X(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(cc,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(t){t?lc(a.g).then((function(){fc(a).s((function(t){var e=new Mo("unknown",null,null,null,new ur("operation-not-supported-in-this-environment"));gc(t)&&a.o(e)}))})):dc(a)})).s((function(){dc(a)}))}function vc(a,b){Q(a.h,(function(t){return t==b}))}dl.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=hc(this.B,this.u,this.m),this.i={}},dl.prototype.o=function(a){if(!a)throw new ur("invalid-auth-event");if(6e5<=x()-this.v&&(this.i={},this.v=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.xb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.v=x())),b=!0;break}}return kc(this.b),b};var mc=new Fi(2e3,1e4),ol=new Fi(3e4,6e4);function yc(a,b,t,e,n,r,g){return a.a.Db(b,t,e,(function(){a.f||(a.f=!0,a.a.Aa(a.l))}),(function(){a.reset()}),n,r,g)}function gc(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function bc(a,b,t,e,n){var r;return function(a){return a.b.set(cc,"pending",a.a)}(a.g).then((function(){return a.a.Eb(b,t,e,n).s((function(g){if(gc(g))throw new ur("operation-not-supported-in-this-environment");return r=g,lc(a.g).then((function(){throw r}))})).then((function(){return a.a.Rb()?new ee((function(){})):lc(a.g).then((function(){return a.oa()})).then((function(){})).s((function(){}))}))}))}function wc(a,b,t,e,n){return a.a.Fb(e,(function(e){b.ja(t,null,e,n)}),mc.get())}dl.prototype.oa=function(){return this.b.oa()};var _c={};function Ic(a,b,t){var e=b+":"+t;return _c[e]||(_c[e]=new dl(a,b,t)),_c[e]}function Sc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function kc(a){a.g||(a.g=!0,ul(a,!1,null,null))}function Ec(a){a.g&&!a.i&&ul(a,!1,null,null)}function Tc(a,b){if(a.b=function(){return ue(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function ul(a,b,t,e){b?e?function(a,b){if(a.b=function(){return ce(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):Tc(a,t):Tc(a,{user:null}),a.f=[],a.c=[]}function Ac(){}function Dc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(a){this.vb=a},enumerable:!1})}function Nc(a,b){this.a=b,Yi(this,"verificationId",a)}function Cc(a,b,t,e){return new Oo(a).Wa(b,t).then((function(t){return new Nc(t,e)}))}function Oc(a){var b=Br(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new ur("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ki(this,{token:a,expirationTime:$i(1e3*b.exp),authTime:$i(1e3*b.auth_time),issuedAtTime:$i(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,claims:b})}function xc(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Pc(a){this.f=a,this.b=this.a=null,this.c=0}function Rc(a,b){var t=b[Hs],e=b.refreshToken;b=Mc(b.expiresIn),a.b=t,a.c=b,a.a=e}function Mc(a){return x()+1e3*parseInt(a,10)}function Lc(a,b){return function(a,b){return new ee((function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?Js(a,a.l+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?e(Ua(n)):n.access_token&&n.refresh_token?t(n):e(new ur("internal-error")):e(new ur("network-request-failed"))}),"POST",Hn(b).toString(),a.g,a.u.get()):e(new ur("internal-error"))}))}(a.f,b).then((function(t){return a.b=t.access_token,a.c=Mc(t.expires_in),a.a=t.refresh_token,{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t}))}function jc(a,b){this.a=a||null,this.b=b||null,Ki(this,{lastSignInTime:$i(b||null),creationTime:$i(a||null)})}function Vc(a,b,t,e,n,r){Ki(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function Bc(a,b){for(var t in ze.call(this,a),b)this[t]=b[t]}function Fc(a,b,t){this.I=[],this.l=a.apiKey,this.m=a.appName,this.o=a.authDomain||null,a=r.a.SDK_VERSION?Ti(r.a.SDK_VERSION):null,this.a=new $s(this.l,$r(Fr),a),this.b=new Pc(this.a),Wc(this,b[Hs]),Rc(this.b,b),Yi(this,"refreshToken",this.b.a),Xc(this,t||{}),vn.call(this),this.J=!1,this.o&&Ci()&&(this.i=Ic(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(a){return new xc((function(){return a.G(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=a.b.c-x()-3e5;return 0<b?b:0}))}(this),this.W=C(this.Ja,this);var e=this;this.ga=null,this.xa=function(t){e.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){$c(e,t.c)},this.Y=null}function Uc(a,b){a.Z&&an(a.Z,"languageCodeChanged",a.xa),(a.Z=b)&&rn(b,"languageCodeChanged",a.xa)}function $c(a,b){a.P=b,Xs(a.a,r.a.SDK_VERSION?Ti(r.a.SDK_VERSION,a.P):null)}function qc(a,b){a.Y&&an(a.Y,"frameworkChanged",a.wa),(a.Y=b)&&rn(b,"frameworkChanged",a.wa)}function Hc(a){try{return r.a.app(a.m).auth()}catch(t){throw new ur("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function zc(a){a.B||a.w.b||(a.w.start(),an(a,"tokenChanged",a.W),rn(a,"tokenChanged",a.W))}function Gc(a){an(a,"tokenChanged",a.W),a.w.stop()}function Wc(a,b){a.ma=b,Yi(a,"_lat",b)}function Yc(a){for(var b=[],t=0;t<a.O.length;t++)b.push(a.O[t](a));return he(b).then((function(){return a}))}function Kc(a){a.i&&!a.J&&(a.J=!0,pc(a.i,a))}function Xc(a,b){Ki(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new jc(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Jc(){}function Qc(a){return ue().then((function(){if(a.B)throw new ur("app-deleted")}))}function em(a){return Y(a.providerData,(function(b){return b.providerId}))}function Zc(a,b){b&&(tl(a,b.providerId),a.providerData.push(b))}function tl(a,b){Q(a.providerData,(function(t){return t.providerId==b}))}function el(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&Yi(a,b,t)}function nl(a,b){a!=b&&(Ki(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?Yi(a,"metadata",function(a){return new jc(a.a,a.b)}(b.metadata)):Yi(a,"metadata",new jc),W(b.providerData,(function(t){Zc(a,t)})),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.b,b.b),Yi(a,"refreshToken",a.b.a))}function il(a){return a.G().then((function(b){var t=a.isAnonymous;return function(a,b){return Ba(a.a,wa,{idToken:b}).then(C(a.zc,a))}(a,b).then((function(){return t||el(a,"isAnonymous",!1),b}))}))}function rl(a,b){b[Hs]&&a.ma!=b[Hs]&&(Rc(a.b,b),a.dispatchEvent(new Bc("tokenChanged")),Wc(a,b[Hs]),el(a,"refreshToken",a.b.a))}function sl(a,b){return il(a).then((function(){if(X(em(a),b))return Yc(a).then((function(){throw new ur("provider-already-linked")}))}))}function al(a,b,t){return Xi({user:a,credential:Po(b),additionalUserInfo:b=Wr(b),operationType:t})}function cl(a,b){return rl(a,b),a.reload().then((function(){return a}))}function ll(a,b,t,e,n){if(!Ci())return ce(new ur("operation-not-supported-in-this-environment"));if(a.h&&!n)return ce(a.h);var o=Gr(t.providerId),g=ji(a.uid+":::"),c=null;(!Pi()||gi())&&a.o&&t.isOAuthProvider&&(c=tu(a.o,a.l,a.m,b,t,null,g,r.a.SDK_VERSION||null,null,null,a.tenantId));var l=di(c,o&&o.sa,o&&o.ra);return e=e().then((function(){if(fl(a),!n)return a.G().then((function(){}))})).then((function(){return yc(a.i,l,b,t,g,!!c,a.tenantId)})).then((function(){return new ee((function(p,u){a.ja(b,null,new ur("cancelled-popup-request"),a.g||null),a.f=p,a.v=u,a.g=g,a.c=wc(a.i,a,b,l,g)}))})).then((function(p){return l&&fi(l),p?Xi(p):null})).s((function(p){throw l&&fi(l),p})),pl(a,e,n)}function hl(a,b,t,e,n){if(!Ci())return ce(new ur("operation-not-supported-in-this-environment"));if(a.h&&!n)return ce(a.h);var r=null,g=ji(a.uid+":::");return e=e().then((function(){if(fl(a),!n)return a.G().then((function(){}))})).then((function(){return a.ca=g,Yc(a)})).then((function(t){return a.da&&(t=(t=a.da).b.set(yl,a.A(),t.a)),t})).then((function(){return bc(a.i,b,t,g,a.tenantId)})).s((function(t){if(r=t,a.da)return gl(a.da);throw r})).then((function(){if(r)throw r})),pl(a,e,n)}function fl(a){if(!a.i||!a.J){if(a.i&&!a.J)throw new ur("internal-error");throw new ur("auth-domain-config-required")}}function pl(a,b,t){var e=function(a,b,t){return a.h&&!t?(b.cancel(),ce(a.h)):b.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.h||a.dispatchEvent(new Bc("userInvalidated")),a.h=t),t}))}(a,b,t);return a.I.push(e),e.ka((function(){J(a.I,e)})),e}function vl(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},t={};if(!(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime))return null;t[Hs]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null,t.expiresIn=(a.stsTokenManager.expirationTime-x())/1e3;var e=new Fc(b,t,a);return a.providerData&&W(a.providerData,(function(t){t&&Zc(e,Xi(t))})),a.redirectEventId&&(e.ca=a.redirectEventId),e}function ml(a){this.a=a,this.b=Lu()}Sc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Sc.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(ul(this,!0,null,a.a),ue()):b.Ba(t,e)?function(a,b,t){t=t.Ba(b.c,b.b);var e=b.g,n=b.f,r=b.i,g=b.R(),o=!!b.c.match(/Redirect$/);t(e,n,g,r).then((function(t){ul(a,o,t,null)})).s((function(t){ul(a,o,null,t)}))}(this,a,b):ce(new ur("invalid-auth-event")):(ul(this,!1,null,null),ue())}else ce(new ur("invalid-auth-event"))},Sc.prototype.oa=function(){var a=this;return new ee((function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new ur("timeout");a.a&&a.a.cancel(),a.a=wn(ol.get()).then((function(){a.b||(a.g=!0,ul(a,!0,null,b))}))}(a))}))},Ac.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.ja(a.c,null,a.a,a.b),ue()):b.Ba(t,e)?function(a,b){var t=a.b,e=a.c;b.Ba(e,t)(a.g,a.f,a.R(),a.i).then((function(n){b.ja(e,n,null,t)})).s((function(n){b.ja(e,null,n,t)}))}(a,b):ce(new ur("invalid-auth-event"))}else ce(new ur("invalid-auth-event"))},Nc.prototype.confirm=function(a){return a=xo(this.verificationId,a),this.a(a)},xc.prototype.start=function(){this.a=this.c,function t(a,b){a.stop(),a.b=wn(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=f.document,b=null;return Ui()||!a?ue():new ee((function(t){b=function(){Ui()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)})).s((function(t){throw a.removeEventListener("visibilitychange",b,!1),t}))}()})).then((function(){return a.h()})).then((function(){t(a,!0)})).s((function(e){a.i(e)&&t(a,!1)}))}(this,!0)},xc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Pc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Pc.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?ce(new ur("user-token-expired")):a||!this.b||x()>this.c-3e4?this.a?Lc(this,{grant_type:"refresh_token",refresh_token:this.a}):ue(null):ue({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},jc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},P(Bc,ze),P(Fc,vn),Fc.prototype.ua=function(a){this.ga=a,Ks(this.a,a)},Fc.prototype.ha=function(){return this.ga},Fc.prototype.Ca=function(){return tt(this.P)},Fc.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Yi(Fc.prototype,"providerId","firebase"),(e=Fc.prototype).reload=function(){var a=this;return pl(this,Qc(this).then((function(){return il(a).then((function(){return Yc(a)})).then(Jc)})))},e.dc=function(a){return this.G(a).then((function(b){return new Oc(b)}))},e.G=function(a){var b=this;return pl(this,Qc(this).then((function(){return b.b.getToken(a)})).then((function(t){if(!t)throw new ur("internal-error");return t.accessToken!=b.ma&&(Wc(b,t.accessToken),b.dispatchEvent(new Bc("tokenChanged"))),el(b,"refreshToken",t.refreshToken),t.accessToken})))},e.zc=function(a){if(!(a=a.users)||!a.length)throw new ur("internal-error");Xc(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?Y(a,(function(b){return new Vc(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),t=0;t<b.length;t++)Zc(this,b[t]);el(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(a){return Gi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(a)},e.hb=function(a){var b=this,t=null;return pl(this,a.f(this.a,this.uid).then((function(e){return rl(b,e),t=al(b,e,"reauthenticate"),b.h=null,b.reload()})).then((function(){return t})),!0)},e.rc=function(a){return Gi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(a)},e.fb=function(a){var b=this,t=null;return pl(this,sl(this,a.providerId).then((function(){return b.G()})).then((function(t){return a.b(b.a,t)})).then((function(e){return t=al(b,e,"link"),cl(b,e)})).then((function(){return t})))},e.sc=function(a,b){var t=this;return pl(this,sl(this,"phone").then((function(){return Cc(Hc(t),a,b,C(t.fb,t))})))},e.Bc=function(a,b){var t=this;return pl(this,ue().then((function(){return Cc(Hc(t),a,b,C(t.hb,t))})),!0)},e.rb=function(a){var b=this;return pl(this,this.G().then((function(t){return b.a.rb(t,a)})).then((function(t){return rl(b,t),b.reload()})))},e.Sc=function(a){var b=this;return pl(this,this.G().then((function(t){return a.b(b.a,t)})).then((function(t){return rl(b,t),b.reload()})))},e.sb=function(a){var b=this;return pl(this,this.G().then((function(t){return b.a.sb(t,a)})).then((function(t){return rl(b,t),b.reload()})))},e.tb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Qc(this);var b=this;return pl(this,this.G().then((function(t){return b.a.tb(t,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(t){return rl(b,t),el(b,"displayName",t.displayName||null),el(b,"photoURL",t.photoUrl||null),W(b.providerData,(function(t){"password"===t.providerId&&(Yi(t,"displayName",b.displayName),Yi(t,"photoURL",b.photoURL))})),Yc(b)})).then(Jc))},e.Qc=function(a){var b=this;return pl(this,il(this).then((function(t){return X(em(b),a)?function(a,b,t){return Ba(a,ya,{idToken:b,deleteProvider:t})}(b.a,t,[a]).then((function(t){var e={};return W(t.providerUserInfo||[],(function(t){e[t.providerId]=!0})),W(em(b),(function(t){e[t]||tl(b,t)})),e[Oo.PROVIDER_ID]||Yi(b,"phoneNumber",null),Yc(b)})):Yc(b).then((function(){throw new ur("no-such-provider")}))})))},e.delete=function(){var a=this;return pl(this,this.G().then((function(b){return Ba(a.a,ma,{idToken:b})})).then((function(){a.dispatchEvent(new Bc("userDeleted"))}))).then((function(){for(var b=0;b<a.I.length;b++)a.I[b].cancel("app-deleted");Uc(a,null),qc(a,null),a.I=[],a.B=!0,Gc(a),Yi(a,"refreshToken",null),a.i&&vc(a.i,a)}))},e.xb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.ca||null)==b||"reauthViaRedirect"==a&&(this.ca||null)==b)},e.ja=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.v?this.v(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==a&&b==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==a&&(this.ca||null)==b?C(this.Bb,this):"reauthViaRedirect"==a&&(this.ca||null)==b?C(this.Cb,this):null},e.tc=function(a){var b=this;return ll(this,"linkViaPopup",a,(function(){return sl(b,a.providerId).then((function(){return Yc(b)}))}),!1)},e.Cc=function(a){return ll(this,"reauthViaPopup",a,(function(){return ue()}),!0)},e.uc=function(a){var b=this;return hl(this,"linkViaRedirect",a,(function(){return sl(b,a.providerId)}),!1)},e.Dc=function(a){return hl(this,"reauthViaRedirect",a,(function(){return ue()}),!0)},e.Bb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return pl(this,this.G().then((function(g){return ca(n.a,{requestUri:a,postBody:e,sessionId:b,idToken:g})})).then((function(g){return r=al(n,g,"link"),cl(n,g)})).then((function(){return r})))},e.Cb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return pl(this,ue().then((function(){return ro(la(n.a,{requestUri:a,sessionId:b,postBody:e,tenantId:t}),n.uid)})).then((function(t){return r=al(n,t,"reauthenticate"),rl(n,t),n.h=null,n.reload()})).then((function(){return r})),!0)},e.jb=function(a){var b=this,t=null;return pl(this,this.G().then((function(e){return t=e,void 0===a||nt(a)?{}:Pr(new Sr(a))})).then((function(e){return b.a.jb(t,e)})).then((function(t){if(b.email!=t)return b.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&st(a,this.metadata.A()),W(this.providerData,(function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))})),a};var yl={name:"redirectUser",C:"session"};function gl(a){return Bu(a.b,yl,a.a)}function bl(a){this.a=a,this.b=Lu(),this.c=null,this.f=function(a){var b=Il("local"),t=Il("session"),e=Il("none");return function(a,b,t){var e=Vu(b,t),n=ju(a,b.C);return a.get(b,t).then((function(r){var g=null;try{g=Li(f.localStorage.getItem(e))}catch(t){}if(g&&!r)return f.localStorage.removeItem(e),a.set(b,g,t);g&&r&&"localStorage"!=n.type&&f.localStorage.removeItem(e)}))}(a.b,b,a.a).then((function(){return a.b.get(t,a.a)})).then((function(n){return n?t:a.b.get(e,a.a).then((function(t){return t?e:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(_l,a.a).then((function(t){return t?Il(t):b}))}))}))})).then((function(t){return a.c=t,wl(a,t.C)})).s((function(){a.c||(a.c=b)}))}(this),this.b.addListener(Il("local"),this.a,C(this.g,this))}function wl(a,b){var t,e=[];for(t in Ru)Ru[t]!==b&&e.push(Bu(a.b,Il(Ru[t]),a.a));return e.push(Bu(a.b,_l,a.a)),function(a){return new ee((function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,u){e--,n[p]=u,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)le(a[o],O(r,o),g);else b(n)}))}(e)}bl.prototype.g=function(){var a=this,b=Il("local");Tl(this,(function(){return ue().then((function(){return a.c&&"local"!=a.c.C?a.b.get(b,a.a):null})).then((function(t){if(t)return wl(a,"local").then((function(){a.c=b}))}))}))};var _l={name:"persistence",C:"session"};function Il(a){return{name:"authUser",C:a}}function Sl(a,b){return Tl(a,(function(){return a.b.set(a.c,b.A(),a.a)}))}function kl(a){return Tl(a,(function(){return Bu(a.b,a.c,a.a)}))}function El(a,b){return Tl(a,(function(){return a.b.get(a.c,a.a).then((function(t){return t&&b&&(t.authDomain=b),vl(t||{})}))}))}function Tl(a,b){return a.f=a.f.then(b,b),a.f}function Al(a){if(this.l=!1,Yi(this,"settings",new Dc),Yi(this,"app",a),!Ml(this).options||!Ml(this).options.apiKey)throw new ur("invalid-api-key");a=r.a.SDK_VERSION?Ti(r.a.SDK_VERSION):null,this.b=new $s(Ml(this).options&&Ml(this).options.apiKey,$r(Fr),a),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(C(this.pc,this)),Pl(this,null),this.h=new bl(Ml(this).options.apiKey+":"+Ml(this).name),this.w=new ml(Ml(this).options.apiKey+":"+Ml(this).name),this.Y=Bl(this,function(a){var b=Ml(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(yl,a.a).then((function(t){return t&&b&&(t.authDomain=b),vl(t||{})}))}(a.w,Ml(a).options.authDomain).then((function(t){return(a.B=t)&&(t.da=a.w),gl(a.w)}));return Bl(a,b)}(a).then((function(){return El(a.h,b)})).then((function(t){return t?(t.da=a.w,a.B&&(a.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return Sl(a.h,t).then((function(){return t}))})).s((function(e){return"auth/network-request-failed"==e.code?t:kl(a.h)}))):null})).then((function(t){Pl(a,t||null)}));return Bl(a,t)}(this)),this.i=Bl(this,function(a){return a.Y.then((function(){return Ol(a)})).s((function(){})).then((function(){if(!a.l)return a.ma()})).s((function(){})).then((function(){if(!a.l){a.ga=!0;var b=a.h;b.b.addListener(Il("local"),b.a,a.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.wa=C(this.bc,this),this.xa=C(this.mc,this),this.Ja=C(this.nc,this),this.a=null,function(a){var b=Ml(a).options.authDomain,t=Ml(a).options.apiKey;b&&Ci()&&(a.Tb=a.Y.then((function(){if(!a.l){if(a.a=Ic(b,t,Ml(a).name),pc(a.a,a),Ll(a)&&Kc(Ll(a)),a.B){Kc(a.B);var e=a.B;e.ua(a.ha()),Uc(e,a),$c(e=a.B,a.I),qc(e,a),a.B=null}return a.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,vn.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.ha()},set:function(b){this.ua(b)},enumerable:!1}),a.Z=null,Object.defineProperty(a,"ti",{get:function(){return this.R()},set:function(b){this.nb(b)},enumerable:!1}),a.P=null}(this),this.I=[]}function Dl(a){ze.call(this,"languageCodeChanged"),this.g=a}function Nl(a){ze.call(this,"frameworkChanged"),this.c=a}function Cl(a){return a.Tb||ce(new ur("auth-domain-config-required"))}function Ol(a){if(!Ci())return ce(new ur("operation-not-supported-in-this-environment"));var b=Cl(a).then((function(){return a.a.oa()})).then((function(t){return t?Xi(t):null}));return Bl(a,b)}function xl(a,b){var t={};return t.apiKey=Ml(a).options.apiKey,t.authDomain=Ml(a).options.authDomain,t.appName=Ml(a).name,a.Y.then((function(){return function(a,b,t,e){var n=new Fc(a,b);return t&&(n.da=t),e&&$c(n,e),n.reload().then((function(){return n}))}(t,b,a.w,a.Ca())})).then((function(t){return Ll(a)&&t.uid==Ll(a).uid?(nl(Ll(a),t),a.aa(t)):(Pl(a,t),Kc(t),a.aa(t))})).then((function(){Vl(a)}))}function Pl(a,b){Ll(a)&&(function(a,b){Q(a.O,(function(t){return t==b}))}(Ll(a),a.ub),an(Ll(a),"tokenChanged",a.wa),an(Ll(a),"userDeleted",a.xa),an(Ll(a),"userInvalidated",a.Ja),Gc(Ll(a))),b&&(b.O.push(a.ub),rn(b,"tokenChanged",a.wa),rn(b,"userDeleted",a.xa),rn(b,"userInvalidated",a.Ja),0<a.o&&zc(b)),Yi(a,"currentUser",b),b&&(b.ua(a.ha()),Uc(b,a),$c(b,a.I),qc(b,a))}function Rl(a,b){var t=null,e=null;return Bl(a,b.then((function(n){return t=Po(n),e=Wr(n),xl(a,n)})).then((function(){return Xi({user:Ll(a),credential:t,additionalUserInfo:e,operationType:"signIn"})})))}function Ml(a){return a.app}function Ll(a){return a.currentUser}function jl(a){return Ll(a)&&Ll(a)._lat||null}function Vl(a){if(a.ga){for(var b=0;b<a.m.length;b++)a.m[b]&&a.m[b](jl(a));if(a.W!==a.getUid()&&a.J.length)for(a.W=a.getUid(),b=0;b<a.J.length;b++)a.J[b]&&a.J[b](jl(a))}}function Bl(a,b){return a.O.push(b),b.ka((function(){J(a.O,b)})),b}function Fl(){}function Ul(){this.a={},this.b=1e12}bl.prototype.mb=function(a){var b=null,t=this;return function(a){var b=new ur("invalid-persistence-type"),t=new ur("unsupported-persistence-type");t:{for(e in Ru)if(Ru[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(wi()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;default:if(!Ni()&&"none"!==a)throw t}}(a),Tl(this,(function(){return a!=t.c.C?t.b.get(t.c,t.a).then((function(e){return b=e,wl(t,a)})).then((function(){if(t.c=Il(a),b)return t.b.set(t.c,b,t.a)})):ue()}))},P(Al,vn),P(Dl,ze),P(Nl,ze),(e=Al.prototype).mb=function(a){return Bl(this,a=this.h.mb(a))},e.ua=function(a){this.Z===a||this.l||(this.Z=a,Ks(this.b,this.Z),this.dispatchEvent(new Dl(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var a=f.navigator;this.ua(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},e.vc=function(a){this.I.push(a),Xs(this.b,r.a.SDK_VERSION?Ti(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new Nl(this.I))},e.Ca=function(){return tt(this.I)},e.nb=function(a){this.P===a||this.l||(this.P=a,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:Ml(this).options.apiKey,authDomain:Ml(this).options.authDomain,appName:Ml(this).name,currentUser:Ll(this)&&Ll(this).A()}},e.xb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},e.ja=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.v?this.v(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?C(this.ac,this):null},e.ac=function(a,b,t,e){var n=this;a={requestUri:a,postBody:e,sessionId:b,tenantId:t},this.c&&(this.c.cancel(),this.c=null);var r=null,g=null,o=ua(n.b,a).then((function(t){return r=Po(t),g=Wr(t),t}));return Bl(this,a=n.Y.then((function(){return o})).then((function(t){return xl(n,t)})).then((function(){return Xi({user:Ll(n),credential:r,additionalUserInfo:g,operationType:"signIn"})})))},e.Lc=function(a){if(!Ci())return ce(new ur("operation-not-supported-in-this-environment"));var b=this,t=Gr(a.providerId),e=ji(),n=null;(!Pi()||gi())&&Ml(this).options.authDomain&&a.isOAuthProvider&&(n=tu(Ml(this).options.authDomain,Ml(this).options.apiKey,Ml(this).name,"signInViaPopup",a,null,e,r.a.SDK_VERSION||null,null,null,this.R()));var o=di(n,t&&t.sa,t&&t.ra);return Bl(this,t=Cl(this).then((function(g){return yc(g,o,"signInViaPopup",a,e,!!n,b.R())})).then((function(){return new ee((function(g,t){b.ja("signInViaPopup",null,new ur("cancelled-popup-request"),b.g),b.f=g,b.v=t,b.g=e,b.c=wc(b.a,b,"signInViaPopup",o,e)}))})).then((function(g){return o&&fi(o),g?Xi(g):null})).s((function(g){throw o&&fi(o),g})))},e.Mc=function(a){if(!Ci())return ce(new ur("operation-not-supported-in-this-environment"));var b=this;return Bl(this,Cl(this).then((function(){return function(a){return Tl(a,(function(){return a.b.set(_l,a.c.C,a.a)}))}(b.h)})).then((function(){return bc(b.a,"signInViaRedirect",a,void 0,b.R())})))},e.oa=function(){var a=this;return Ol(this).then((function(b){return a.a&&Ec(a.a.b),b})).s((function(b){throw a.a&&Ec(a.a.b),b}))},e.Rc=function(a){if(!a)return ce(new ur("null-user"));if(this.P!=a.tenantId)return ce(new ur("tenant-id-mismatch"));var b=this,t={};t.apiKey=Ml(this).options.apiKey,t.authDomain=Ml(this).options.authDomain,t.appName=Ml(this).name;var e=function(a,b,t,e){b=b||{apiKey:a.l,authDomain:a.o,appName:a.m};var n=a.b,r={};return r[Hs]=n.b,r.refreshToken=n.a,r.expiresIn=(n.c-x())/1e3,b=new Fc(b,r),t&&(b.da=t),e&&$c(b,e),nl(b,a),b}(a,t,b.w,b.Ca());return Bl(this,this.i.then((function(){if(Ml(b).options.apiKey!=a.l)return e.reload()})).then((function(){return Ll(b)&&a.uid==Ll(b).uid?(nl(Ll(b),a),b.aa(a)):(Pl(b,e),Kc(e),b.aa(e))})).then((function(){Vl(b)})))},e.pb=function(){var a=this;return Bl(this,this.i.then((function(){return a.a&&Ec(a.a.b),Ll(a)?(Pl(a,null),kl(a.h).then((function(){Vl(a)}))):ue()})))},e.Nc=function(){var a=this;return El(this.h,Ml(this).options.authDomain).then((function(b){if(!a.l){var t;if(t=Ll(a)&&b){t=Ll(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return nl(Ll(a),b),Ll(a).G();(Ll(a)||b)&&(Pl(a,b),b&&(Kc(b),b.da=a.w),a.a&&pc(a.a,a),Vl(a))}}))},e.aa=function(a){return Sl(this.h,a)},e.bc=function(){Vl(this),this.aa(Ll(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(Ll(b))}))},e.pc=function(a){var b=this;!function(a,b){a.J.push(b),Bl(a,a.i.then((function(){!a.l&&X(a.J,b)&&a.W!==a.getUid()&&(a.W=a.getUid(),b(jl(a)))})))}(this,(function(){a.next(Ll(b))}))},e.xc=function(a,b,t){var e=this;return this.ga&&Promise.resolve().then((function(){q(a)?a(Ll(e)):q(a.next)&&a.next(Ll(e))})),this.Ub(a,b,t)},e.wc=function(a,b,t){var e=this;return this.ga&&Promise.resolve().then((function(){e.W=e.getUid(),q(a)?a(Ll(e)):q(a.next)&&a.next(Ll(e))})),this.Vb(a,b,t)},e.cc=function(a){var b=this;return Bl(this,this.i.then((function(){return Ll(b)?Ll(b).G(a).then((function(t){return{accessToken:t}})):null})))},e.Hc=function(a){var b=this;return this.i.then((function(){return Rl(b,Ba(b.b,Ra,{token:a}))})).then((function(t){var e=t.user;return el(e,"isAnonymous",!1),b.aa(e),t}))},e.Ic=function(a,b){var t=this;return this.i.then((function(){return Rl(t,Ba(t.b,Ma,{email:a,password:b}))}))},e.Xb=function(a,b){var t=this;return this.i.then((function(){return Rl(t,Ba(t.b,pa,{email:a,password:b}))}))},e.Sa=function(a){var b=this;return this.i.then((function(){return Rl(b,a.na(b.b))}))},e.Gc=function(a){return Gi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(a)},e.ob=function(){var a=this;return this.i.then((function(){var b=Ll(a);if(b&&b.isAnonymous){var t=Xi({providerId:null,isNewUser:!1});return Xi({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return Rl(a,a.b.ob()).then((function(t){var e=t.user;return el(e,"isAnonymous",!0),a.aa(e),t}))}))},e.getUid=function(){return Ll(this)&&Ll(this).uid||null},e.Wb=function(a){this.addAuthTokenListener(a),this.o++,0<this.o&&Ll(this)&&zc(Ll(this))},e.Ec=function(a){var b=this;W(this.m,(function(t){t==a&&b.o--})),0>this.o&&(this.o=0),0==this.o&&Ll(this)&&Gc(Ll(this)),this.removeAuthTokenListener(a)},e.addAuthTokenListener=function(a){var b=this;this.m.push(a),Bl(this,this.i.then((function(){b.l||X(b.m,a)&&a(jl(b))})))},e.removeAuthTokenListener=function(a){Q(this.m,(function(b){return b==a}))},e.delete=function(){this.l=!0;for(var a=0;a<this.O.length;a++)this.O[a].cancel("app-deleted");return this.O=[],this.h&&(a=this.h).b.removeListener(Il("local"),a.a,this.ma),this.a&&(vc(this.a,this),Ec(this.a.b)),Promise.resolve()},e.$b=function(a){return Bl(this,function(a,b){return Ba(a,va,{identifier:b,continueUri:Oi()?ui():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,a))},e.qc=function(a){return!!Ao(a)},e.lb=function(a,b){var t=this;return Bl(this,ue().then((function(){var t=new Sr(b);if(!t.c)throw new ur("argument-error",Tr+" must be true when sending sign in link to email");return Pr(t)})).then((function(e){return t.b.lb(a,e)})).then((function(){})))},e.Uc=function(a){return this.Ma(a).then((function(b){return b.data.email}))},e.ab=function(a,b){return Bl(this,this.b.ab(a,b).then((function(){})))},e.Ma=function(a){return Bl(this,this.b.Ma(a).then((function(b){return new Qi(b)})))},e.Ya=function(a){return Bl(this,this.b.Ya(a).then((function(){})))},e.kb=function(a,b){var t=this;return Bl(this,ue().then((function(){return void 0===b||nt(b)?{}:Pr(new Sr(b))})).then((function(e){return t.b.kb(a,e)})).then((function(){})))},e.Kc=function(a,b){return Bl(this,Cc(this,a,b,C(this.Sa,this)))},e.Jc=function(a,b){var t=this;return Bl(this,ue().then((function(){var e=b||ui(),n=To(a,e);if(!(e=Ao(e)))throw new ur("argument-error","Invalid email link!");if(e.tenantId!==t.R())throw new ur("tenant-id-mismatch");return t.Sa(n)})))},Fl.prototype.render=function(){},Fl.prototype.reset=function(){},Fl.prototype.getResponse=function(){},Fl.prototype.execute=function(){};var $l=null;function ql(a,b){return(b=Hl(b))&&a.a[b]||null}function Hl(a){return(a=void 0===a?1e12:a)?a.toString():null}function zl(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Jn(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():rn(this.f,"click",this.i)}function Gl(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function Wl(){}Ul.prototype.render=function(a,b){return this.a[this.b.toString()]=new zl(a,b),this.b++},Ul.prototype.reset=function(a){var b=ql(this,a);a=Hl(a),b&&a&&(b.delete(),delete this.a[a])},Ul.prototype.getResponse=function(a){return(a=ql(this,a))?a.getResponse():null},Ul.prototype.execute=function(a){(a=ql(this,a))&&a.execute()},zl.prototype.getResponse=function(){return Gl(this),this.b},zl.prototype.execute=function(){Gl(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout((function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()}),6e4)}),500))},zl.prototype.delete=function(){Gl(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)},Wl.prototype.g=function(){return $l||($l=new Ul),ue($l)},Wl.prototype.c=function(){};var Yl=null;function Kl(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Xl=new at(lt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Jl=new Fi(3e4,6e4);Kl.prototype.g=function(a){var b=this;return new ee((function(t,e){var n=setTimeout((function(){e(new ur("network-request-failed"))}),Jl.get());!f.grecaptcha||a!==b.f&&!b.b?(f[b.a]=function(){if(f.grecaptcha){b.f=a;var g=f.grecaptcha.render;f.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(n),t(f.grecaptcha)}else clearTimeout(n),e(new ur("internal-error"));delete f[b.a]},ue(Ls(vt(Xl,{onload:b.a,hl:a||""}))).s((function(){clearTimeout(n),e(new ur("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),t(f.grecaptcha))}))},Kl.prototype.c=function(){this.b--};var Ql=null;function Zl(a,b,t,e,n,r,g){if(Yi(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=b,this.g=null,g?(Yl||(Yl=new Wl),g=Yl):(Ql||(Ql=new Kl),g=Ql),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[ih])throw new ur("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[rh],!f.document)throw new ur("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Jn(b)||!this.i&&Jn(b).hasChildNodes())throw new ur("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new $s(a,r||null,n||null),this.v=e||function(){return null};var o=this;this.l=[];var c=this.a[eh];this.a[eh]=function(u){if(oh(o,u),"function"==typeof c)c(u);else if("string"==typeof c){var t=Di(c,f);"function"==typeof t&&t(u)}};var p=this.a[nh];this.a[nh]=function(){if(oh(o,null),"function"==typeof p)p();else if("string"==typeof p){var u=Di(p,f);"function"==typeof u&&u()}}}var eh="callback",nh="expired-callback",ih="sitekey",rh="size";function oh(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function sh(a,b){return a.h.push(b),b.ka((function(){J(a.h,b)})),b}function ah(a){if(a.B)throw new ur("internal-error","RecaptchaVerifier instance has been destroyed.")}function uh(a,b,t){var e=!1;try{this.b=t||r.a.app()}catch(t){throw new ur("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ur("invalid-api-key");t=this.b.options.apiKey;var n=this,o=null;try{o=this.b.auth().Ca()}catch(t){}try{e=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=r.a.SDK_VERSION?Ti(r.a.SDK_VERSION,o):null,Zl.call(this,t,a,b,(function(){try{var g=n.b.auth().ha()}catch(t){g=null}return g}),o,$r(Fr),e)}function ch(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new ur("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].N(t[n])&&!r){if(b=b[n],0>n||n>=lh.length)throw new ur("internal-error","Argument validator received an unsupported number of arguments.");t=lh[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.M+".";break t}e=null}}if(e)throw new ur("argument-error",a+" failed: "+e)}(e=Zl.prototype).Da=function(){var a=this;return this.f?this.f:this.f=sh(this,ue().then((function(){if(Oi()&&!bi())return mi();throw new ur("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.v())})).then((function(b){return a.g=b,Ba(a.o,Ea,{})})).then((function(b){a.a[ih]=b.recaptchaSiteKey})).s((function(b){throw a.f=null,b})))},e.render=function(){ah(this);var a=this;return sh(this,this.Da().then((function(){if(null===a.c){var b=a.u;if(!a.i){var t=Jn(b);b=ti("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},e.verify=function(){ah(this);var a=this;return sh(this,this.render().then((function(b){return new ee((function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){Q(a.l,(function(t){return t==b}))}(a,n),t(e))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},e.reset=function(){ah(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){ah(this),this.B=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=Jn(this.u);for(var b;b=a.firstChild;)a.removeChild(b)}},P(uh,Zl);var lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function hh(a,b){return{name:a||"",M:"a valid string",optional:!!b,N:d}}function fh(a,b){return{name:a||"",M:"a boolean",optional:!!b,N:v}}function dh(a,b){return{name:a||"",M:"a valid object",optional:!!b,N:E}}function ph(a,b){return{name:a||"",M:"a function",optional:!!b,N:q}}function vh(a,b){return{name:a||"",M:"null",optional:!!b,N:I}}function mh(a){return{name:a?a+"Credential":"credential",M:a?"a valid "+a+" credential":"a valid credential",optional:!1,N:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.na||!t)}}}function yh(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(a){return!!(a&&d(a.type)&&q(a.verify))}}}function gh(a,b,t,e){return{name:t||"",M:a.M+" or "+b.M,optional:!!e,N:function(t){return a.N(t)||b.N(t)}}}function bh(a,b){for(var t in b){var e=b[t].name;a[e]=Ih(e,a[t],b[t].j)}}function wh(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:O((function(t){return this[t]}),t),set:O((function(t,e,g,n){ch(t,[g],[n],!0),this[e]=n}),e,t,b[t].Za),enumerable:!0})}}function _h(a,b,t,e){a[b]=Ih(b,t,e)}function Ih(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return ch(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}bh(Al.prototype,{Ya:{name:"applyActionCode",j:[hh("code")]},Ma:{name:"checkActionCode",j:[hh("code")]},ab:{name:"confirmPasswordReset",j:[hh("code"),hh("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[hh("email"),hh("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[hh("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[hh("emailLink")]},wc:{name:"onAuthStateChanged",j:[gh(dh(),ph(),"nextOrObserver"),ph("opt_error",!0),ph("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[gh(dh(),ph(),"nextOrObserver"),ph("opt_error",!0),ph("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[hh("email"),gh(dh("opt_actionCodeSettings",!0),vh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[hh("email"),dh("actionCodeSettings")]},mb:{name:"setPersistence",j:[hh("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[mh()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[mh()]},Hc:{name:"signInWithCustomToken",j:[hh("token")]},Ic:{name:"signInWithEmailAndPassword",j:[hh("email"),hh("password")]},Jc:{name:"signInWithEmailLink",j:[hh("email"),hh("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[hh("phoneNumber"),yh()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[gh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(b){return!!(b&&b instanceof Fc)}},vh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[hh(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[hh("code")]}}),wh(Al.prototype,{lc:{name:"languageCode",Za:gh(hh(),vh(),"languageCode")},ti:{name:"tenantId",Za:gh(hh(),vh(),"tenantId")}}),Al.Persistence=Ru,Al.Persistence.LOCAL="local",Al.Persistence.SESSION="session",Al.Persistence.NONE="none",bh(Fc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[fh("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[fh("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[mh()]},fb:{name:"linkWithCredential",j:[mh()]},sc:{name:"linkWithPhoneNumber",j:[hh("phoneNumber"),yh()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[mh()]},hb:{name:"reauthenticateWithCredential",j:[mh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[hh("phoneNumber"),yh()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[gh(dh("opt_actionCodeSettings",!0),vh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[hh(null,!0)]},Qc:{name:"unlink",j:[hh("provider")]},rb:{name:"updateEmail",j:[hh("email")]},sb:{name:"updatePassword",j:[hh("password")]},Sc:{name:"updatePhoneNumber",j:[mh("phone")]},tb:{name:"updateProfile",j:[dh("profile")]}}),bh(Ul.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),bh(Fl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),bh(ee.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),wh(Dc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:fh("appVerificationDisabledForTesting")}}),bh(Nc.prototype,{confirm:{name:"confirm",j:[hh("verificationCode")]}}),_h(io,"fromJSON",(function(a){a=d(a)?JSON.parse(a):a;for(var b,t=[lo,ko,No,ao],e=0;e<t.length;e++)if(b=t[e](a))return b;return null}),[gh(hh(),dh(),"json")]),_h(Eo,"credential",(function(a,b){return new So(a,b)}),[hh("email"),hh("password")]),bh(So.prototype,{A:{name:"toJSON",j:[hh(null,!0)]}}),bh(vo.prototype,{ya:{name:"addScope",j:[hh("scope")]},Ga:{name:"setCustomParameters",j:[dh("customOAuthParameters")]}}),_h(vo,"credential",mo,[gh(hh(),dh(),"token")]),_h(Eo,"credentialWithLink",To,[hh("email"),hh("emailLink")]),bh(yo.prototype,{ya:{name:"addScope",j:[hh("scope")]},Ga:{name:"setCustomParameters",j:[dh("customOAuthParameters")]}}),_h(yo,"credential",go,[gh(hh(),dh(),"token")]),bh(bo.prototype,{ya:{name:"addScope",j:[hh("scope")]},Ga:{name:"setCustomParameters",j:[dh("customOAuthParameters")]}}),_h(bo,"credential",wo,[gh(hh(),gh(dh(),vh()),"idToken"),gh(hh(),vh(),"accessToken",!0)]),bh(_o.prototype,{Ga:{name:"setCustomParameters",j:[dh("customOAuthParameters")]}}),_h(_o,"credential",Io,[gh(hh(),dh(),"token"),hh("secret",!0)]),bh(po.prototype,{ya:{name:"addScope",j:[hh("scope")]},credential:{name:"credential",j:[gh(hh(),gh(dh(),vh()),"optionsOrIdToken"),gh(hh(),vh(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[dh("customOAuthParameters")]}}),bh(uo.prototype,{A:{name:"toJSON",j:[hh(null,!0)]}}),bh(oo.prototype,{A:{name:"toJSON",j:[hh(null,!0)]}}),_h(Oo,"credential",xo,[hh("verificationId"),hh("verificationCode")]),bh(Oo.prototype,{Wa:{name:"verifyPhoneNumber",j:[hh("phoneNumber"),yh()]}}),bh(Do.prototype,{A:{name:"toJSON",j:[hh(null,!0)]}}),bh(ur.prototype,{toJSON:{name:"toJSON",j:[hh(null,!0)]}}),bh(Uo.prototype,{toJSON:{name:"toJSON",j:[hh(null,!0)]}}),bh(Fo.prototype,{toJSON:{name:"toJSON",j:[hh(null,!0)]}}),bh(uh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),_h(dr,"parseLink",Ir,[hh("link")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Al,AuthCredential:io,Error:ur};_h(a,"EmailAuthProvider",Eo,[]),_h(a,"FacebookAuthProvider",vo,[]),_h(a,"GithubAuthProvider",yo,[]),_h(a,"GoogleAuthProvider",bo,[]),_h(a,"TwitterAuthProvider",_o,[]),_h(a,"OAuthProvider",po,[hh("providerId")]),_h(a,"SAMLAuthProvider",fo,[hh("providerId")]),_h(a,"PhoneAuthProvider",Oo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(a){return!!(a&&a instanceof Al)}}]),_h(a,"RecaptchaVerifier",uh,[gh(hh(),{name:"",M:"an HTML element",optional:!1,N:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),dh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(a){return!!(a&&a instanceof r.a.app.App)}}]),_h(a,"ActionCodeURL",dr,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(b){return new Al(b=b.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(b){return{getUid:C((b=b.getProvider("auth").getImmediate()).getUid,b),getToken:C(b.cc,b),addAuthTokenListener:C(b.Wb,b),removeAuthTokenListener:C(b.Ec,b)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.13.6"),r.a.INTERNAL.extendNamespace({User:Fc})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(19))},176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),o=n(116),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),l="[DEFAULT]",h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=l);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:l,optional:!1},t),n=e.identifier,o=e.optional,c=this.normalizeInstanceIdentifier(n);try{var h=this.getOrInitializeService(c);if(!h){if(o)return null;throw Error("Service "+this.name+" is not available")}return h}catch(t){if(o)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService(l)}catch(t){}try{for(var n=r.__values(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var c=r.__read(o.value,2),h=c[0],f=c[1],d=this.normalizeInstanceIdentifier(h);try{var v=this.getOrInitializeService(d);f.resolve(v)}catch(t){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=l),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===l?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:l:t},t}();var f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=c,e.ComponentContainer=f,e.Provider=h},177:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return f})),n.d(e,"setLogLevel",(function(){return d}));var o,c=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var l=o.INFO,h=function(t,e){for(var n=[],c=2;c<arguments.length;c++)n[c-2]=arguments[c];if(!(e<t.logLevel)){var l=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+l+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+l+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+l+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+l+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},f=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=h,c.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){c.forEach((function(e){e.logLevel=t}))}},178:function(t,e,n){"use strict";n(179)},179:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,o,c=(r=n(6))&&"object"==typeof r&&"default"in r?r.default:r,l=n(38),h=n(180),f=n(117),component=n(181),d=n(182),v=c.SDK_VERSION,m=new h.Logger("@firebase/firestore");function y(){return m.logLevel===h.LogLevel.DEBUG?o.DEBUG:m.logLevel===h.LogLevel.SILENT?o.SILENT:o.ERROR}function w(t){switch(t){case o.DEBUG:m.logLevel=h.LogLevel.DEBUG;break;case o.ERROR:m.logLevel=h.LogLevel.ERROR;break;case o.SILENT:m.logLevel=h.LogLevel.SILENT;break;default:m.error("Firestore ("+v+"): Invalid value passed to `setLogLevel`")}}function _(t,i){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];if(m.logLevel<=h.LogLevel.DEBUG){var u=e.map(S);m.debug.apply(m,l.__spreadArrays(["Firestore ("+v+") ["+t+"]: "+i],u))}}function I(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(m.logLevel<=h.LogLevel.ERROR){var n=i.map(S);m.error.apply(m,l.__spreadArrays(["Firestore ("+v+"): "+t],n))}}function S(t){if("string"==typeof t)return t;var e=Pn.t();try{return e.i(t)}catch(e){return t}}function k(t){var e="FIRESTORE ("+v+") INTERNAL ASSERTION FAILED: "+t;throw I(e),new Error(e)}function E(t,e){t||k(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(o||(o={}));var T=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",i=0;i<20;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return E(20===e.length,"Invalid auto ID: "+e),e},t}();function A(t,e){return t<e?-1:t>e?1:0}function D(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].isEqual(e[i]))return!1;return!0}function N(t){return t+"\0"}var C=function(t,e,i,n,r){this.s=t,this.persistenceKey=e,this.host=i,this.ssl=n,this.forceLongPolling=r},O="(default)",x=function(){function t(t,e){this.projectId=t,this.database=e||O}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database===O},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return A(this.projectId,t.projectId)||A(this.database,t.database)},t}(),P=function(){function t(t){this.uid=t}return t.prototype.l=function(){return null!=this.uid},t.prototype.v=function(){return this.l()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.m=new t("google-credentials-uid"),t.p=new t("first-party-uid"),t}(),R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(t){function e(e,i){var n=t.call(this,i)||this;return n.code=e,n.message=i,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return l.__extends(e,t),e}(Error),L=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},q=function(){function t(){this._=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.I=function(){},t.prototype.T=function(t){E(!this._,"Can only call setChangeListener() once."),this._=t,t(P.UNAUTHENTICATED)},t.prototype.R=function(){E(null!==this._,"removeChangeListener() when no listener registered"),this._=null},t}(),j=function(){function t(t){var e=this;this.A=null,this.currentUser=P.UNAUTHENTICATED,this.D=!1,this.P=0,this._=null,this.forceRefresh=!1,this.A=function(){e.P++,e.currentUser=e.S(),e.D=!0,e._&&e._(e.currentUser)},this.P=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.A):(this.A(null),t.get().then((function(t){e.auth=t,e.A&&e.auth.addAuthTokenListener(e.A)}),(function(){})))}return t.prototype.getToken=function(){var t=this;E(null!=this.A,"getToken cannot be called after listener removed.");var e=this.P,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((function(i){if(t.P!==e)throw new M(R.ABORTED,"getToken aborted due to token change.");return i?(E("string"==typeof i.accessToken,"Invalid tokenData returned from getToken():"+i),new L(i.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.I=function(){this.forceRefresh=!0},t.prototype.T=function(t){E(!this._,"Can only call setChangeListener() once."),this._=t,this.D&&t(this.currentUser)},t.prototype.R=function(){E(null!=this.A,"removeChangeListener() called twice"),E(null!==this._,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.A),this.A=null,this._=null},t.prototype.S=function(){var t=this.auth&&this.auth.getUid();return E(null===t||"string"==typeof t,"Received invalid UID: "+t),new P(t)},t}(),V=function(){function t(t,e){this.C=t,this.k=e,this.type="FirstParty",this.user=P.p}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.C.auth.V([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),B=function(){function t(t,e){this.C=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new V(this.C,this.k))},t.prototype.T=function(t){t(P.p)},t.prototype.R=function(){},t.prototype.I=function(){},t}();function F(t){if(!t)return new q;switch(t.type){case"gapi":var e=t.N;return E(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new B(e,t.k||"0");case"provider":return t.N;default:throw new M(R.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $(t,e){return void 0!==t?t:e}function H(t,e){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Number(i);isNaN(n)||e(n,t[i])}}function z(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function G(t){for(var e in E(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e){if(0!==e.length)throw new M(R.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+lt(e.length,"argument")+".")}function Y(t,e,i){if(e.length!==i)throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires "+lt(i,"argument")+", but was called with "+lt(e.length,"argument")+".")}function K(t,e,i){if(e.length<i)throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires at least "+lt(i,"argument")+", but was called with "+lt(e.length,"argument")+".")}function X(t,e,i,n){if(e.length<i||e.length>n)throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires between "+i+" and "+n+" arguments, but was called with "+lt(e.length,"argument")+".")}function J(t,e,i,n){nt(t,e,ct(i)+" argument",n)}function Q(t,e,i,n){void 0!==n&&J(t,e,i,n)}function rt(t,e,i,n){nt(t,e,i+" option",n)}function Z(t,e,i,n){void 0!==n&&rt(t,e,i,n)}function tt(t,e,i,n,r){void 0!==n&&function(t,e,i,n,r){for(var u=[],s=0,o=r;s<o.length;s++){var c=o[s];if(c===n)return;u.push(ot(c))}var l=ot(n);throw new M(R.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+i+'". Acceptable values: '+u.join(", "))}(t,0,i,n,r)}function et(t,e,i,n){if(!e.some((function(t){return t===n})))throw new M(R.INVALID_ARGUMENT,"Invalid value "+ot(n)+" provided to function "+t+"() for its "+ct(i)+" argument. Acceptable values: "+e.join(", "))}function nt(t,e,i,n){if(!("object"===e?it(n):"non-empty string"===e?"string"==typeof n&&""!==n:typeof n===e)){var r=ot(n);throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+i+" to be of type "+e+", but it was: "+r)}}function it(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function ot(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":k("Unknown wrong type: "+typeof t)}function st(t,e,i){if(void 0===i)throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ct(e)+" argument, but it was undefined.")}function dt(t,e,i){z(e,(function(e,n){if(i.indexOf(e)<0)throw new M(R.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+i.join(", "))}))}function at(t,e,i,n){var r=ot(n);return new M(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+ct(i)+" argument to be a "+e+", but it was: "+r)}function ut(t,e,i){if(i<=0)throw new M(R.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+ct(e)+" argument to be a positive number, but it was: "+i+".")}function ct(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function lt(t,e){return t+" "+e+(1===t?"":"s")}var ht=function(){function t(t,e){if(Y("GeoPoint",arguments,2),J("GeoPoint","number",1,t),J("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new M(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new M(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.O=t,this.F=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.O},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.O===t.O&&this.F===t.F},t.prototype.U=function(t){return A(this.O,t.O)||A(this.F,t.F)},t}(),ft=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,1e6*(e-1e3*i))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?A(this.nanoseconds,t.nanoseconds):A(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),pt=function(){function t(t){this.timestamp=t}return t.j=function(e){var i=Math.floor(e/1e6);return new t(new ft(i,e%1e6*1e3))},t.L=function(e){return new t(e)},t.B=function(){return t.MIN},t.prototype.h=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.M=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.q=function(){return this.timestamp},t.MIN=new t(new ft(0,0)),t}(),vt=function(){function t(t,e,i){void 0===e?e=0:e>t.length&&k("offset "+e+" out of range "+t.length),void 0===i?i=t.length-e:i>t.length-e&&k("length "+i+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.G(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){i.push(t)})):i.push(e),this.W(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.K=function(t){return t=void 0===t?1:t,E(this.length>=t,"Can't call popFirst() with less segments"),this.W(this.segments,this.offset+t,this.length-t)},t.prototype.H=function(){return E(!this.J(),"Can't call popLast() on empty path"),this.W(this.segments,this.offset,this.length-1)},t.prototype.Y=function(){return E(!this.J(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.X=function(){return this.get(this.length-1)},t.prototype.get=function(t){return E(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.J=function(){return 0===this.length},t.prototype.$=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.Z=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])},t.prototype.tt=function(){return this.segments.slice(this.offset,this.limit())},t.G=function(t,e){for(var i=Math.min(t.length,e.length),n=0;n<i;n++){var r=t.get(n),u=e.get(n);if(r<u)return-1;if(r>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.W=function(t,i,n){return new e(t,i,n)},e.prototype.nt=function(){return this.tt().join("/")},e.prototype.toString=function(){return this.nt()},e.it=function(t){if(t.indexOf("//")>=0)throw new M(R.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.et=new e([]),e}(vt),yt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.W=function(t,i,n){return new e(t,i,n)},e.rt=function(t){return yt.test(t)},e.prototype.nt=function(){return this.tt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.rt(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.nt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.st=function(){return new e(["__name__"])},e.ot=function(t){for(var i=[],n="",r=0,u=function(){if(0===n.length)throw new M(R.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(n),n=""},s=!1;r<t.length;){var o=t[r];if("\\"===o){if(r+1===t.length)throw new M(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new M(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else"`"===o?(s=!s,r++):"."!==o||s?(n+=o,r++):(u(),r++)}if(u(),s)throw new M(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)},e.et=new e([]),e}(vt),bt=function(){function t(e){this.path=e,E(t.ht(e),"Invalid DocumentKey with an odd number of segments: "+e.tt().join("/"))}return t.prototype.ct=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===mt.G(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.G=function(t,e){return mt.G(t.path,e.path)},t.ht=function(t){return t.length%2==0},t.at=function(e){return new t(new mt(e.slice()))},t.ft=function(e){return new t(mt.it(e))},t.EMPTY=new t(new mt([])),t}(),wt=function(){function t(t,e){this.G=t,this.root=e||It.EMPTY}return t.prototype.lt=function(e,i){return new t(this.G,this.root.lt(e,i,this.G).copy(null,null,It.dt,null,null))},t.prototype.remove=function(e){return new t(this.G,this.root.remove(e,this.G).copy(null,null,It.dt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.J();){var i=this.G(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,i=this.root;!i.J();){var n=this.G(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1},t.prototype.J=function(){return this.root.J()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.vt=function(){return this.root.vt()},t.prototype.wt=function(){return this.root.wt()},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.forEach=function(t){this.pt((function(e,i){return t(e,i),!1}))},t.prototype.toString=function(){var t=[];return this.pt((function(e,i){return t.push(e+":"+i),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.bt=function(){return new _t(this.root,null,this.G,!1)},t.prototype.yt=function(t){return new _t(this.root,t,this.G,!1)},t.prototype._t=function(){return new _t(this.root,null,this.G,!0)},t.prototype.It=function(t){return new _t(this.root,t,this.G,!0)},t}(),_t=function(){function t(t,e,i,n){this.Tt=n,this.Et=[];for(var r=1;!t.J();)if(r=e?i(t.key,e):1,n&&(r*=-1),r<0)t=this.Tt?t.left:t.right;else{if(0===r){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.Rt=function(){E(this.Et.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.J();)this.Et.push(t),t=t.right;else for(t=t.right;!t.J();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Dt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),It=function(){function t(e,i,n,r,u){this.key=e,this.value=i,this.color=null!=n?n:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=u?u:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,n,r,u){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=u?u:this.right)},t.prototype.J=function(){return!1},t.prototype.pt=function(t){return this.left.pt(t)||t(this.key,this.value)||this.right.pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.J()?this:this.left.min()},t.prototype.vt=function(){return this.min().key},t.prototype.wt=function(){return this.right.J()?this.key:this.right.wt()},t.prototype.lt=function(t,e,i){var n=this,r=i(t,n.key);return(n=r<0?n.copy(null,null,null,n.left.lt(t,e,i),null):0===r?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.lt(t,e,i))).Pt()},t.prototype.St=function(){if(this.left.J())return t.EMPTY;var e=this;return e.left.Ct()||e.left.left.Ct()||(e=e.kt()),(e=e.copy(null,null,null,e.left.St(),null)).Pt()},t.prototype.remove=function(e,i){var n,r=this;if(i(e,r.key)<0)r.left.J()||r.left.Ct()||r.left.left.Ct()||(r=r.kt()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.Ct()&&(r=r.Vt()),r.right.J()||r.right.Ct()||r.right.left.Ct()||(r=r.Nt()),0===i(e,r.key)){if(r.right.J())return t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.St())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.Pt()},t.prototype.Ct=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Ct()&&!t.left.Ct()&&(t=t.Ot()),t.left.Ct()&&t.left.left.Ct()&&(t=t.Vt()),t.left.Ct()&&t.right.Ct()&&(t=t.Ft()),t},t.prototype.kt=function(){var t=this.Ft();return t.right.left.Ct()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).Ot()).Ft()),t},t.prototype.Nt=function(){var t=this.Ft();return t.left.left.Ct()&&(t=(t=t.Vt()).Ft()),t},t.prototype.Ot=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ft=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.xt();return Math.pow(2,t)<=this.size+1},t.prototype.xt=function(){if(this.Ct()&&this.left.Ct())throw k("Red node has red child("+this.key+","+this.value+")");if(this.right.Ct())throw k("Right child of ("+this.key+","+this.value+") is red");var t=this.left.xt();if(t!==this.right.xt())throw k("Black depths differ");return t+(this.Ct()?0:1)},t.EMPTY=null,t.RED=!0,t.dt=!1,t}(),St=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw k("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw k("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw k("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw k("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw k("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,i,n,r){return this},t.prototype.lt=function(t,e,i){return new It(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.J=function(){return!0},t.prototype.pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.vt=function(){return null},t.prototype.wt=function(){return null},t.prototype.Ct=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.xt=function(){return 0},t}();It.EMPTY=new St;var kt=function(){function t(t){this.G=t,this.data=new wt(this.G)}return t.jt=function(e){var i=new t(e.G);return e.forEach((function(t){i=i.add(t)})),i},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.vt()},t.prototype.last=function(){return this.data.wt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pt((function(e,i){return t(e),!1}))},t.prototype.Lt=function(t,e){for(var i=this.data.yt(t[0]);i.At();){var n=i.Rt();if(this.G(n.key,t[1])>=0)return;e(n.key)}},t.prototype.Bt=function(t,e){var i;for(i=void 0!==e?this.data.yt(e):this.data.bt();i.At();)if(!t(i.Rt().key))return},t.prototype.Mt=function(t){var e=this.data.yt(t);return e.At()?e.Rt().key:null},t.prototype.bt=function(){return new Et(this.data.bt())},t.prototype.yt=function(t){return new Et(this.data.yt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).lt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.J=function(){return this.data.J()},t.prototype.qt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var i=this.data.bt(),n=e.data.bt();i.At();){var r=i.Rt().key,u=n.Rt().key;if(0!==this.G(r,u))return!1}return!0},t.prototype.tt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var i=new t(this.G);return i.data=e,i},t}(),Et=function(){function t(t){this.Qt=t}return t.prototype.Rt=function(){return this.Qt.Rt().key},t.prototype.At=function(){return this.Qt.At()},t}(),Tt=function(){function t(){}return t.prototype.Gt=function(t,e){return new ie(e,t)},t.prototype.Wt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),At=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Ct(t),i=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},n=0,r=this.elements;n<r.length;n++)i(r[n]);return new ce(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&D(e.elements,this.elements)},t}(),Dt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Ct(t),i=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},n=0,r=this.elements;n<r.length;n++)i(r[n]);return new ce(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&D(e.elements,this.elements)},t}(),Nt=function(){function t(t){this.Kt=t}return t.prototype.Gt=function(t,e){var i=this.zt(t);if(i instanceof Zt&&this.Kt instanceof Zt){var n=i.Ht+this.Kt.Ht;return new Zt(n)}return n=i.Ht+this.Kt.Ht,new te(n)},t.prototype.Wt=function(t,e){return E(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.zt=function(t){return t instanceof Jt?t:new Zt(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Kt.isEqual(e.Kt)},t}();function Ct(t){return t instanceof ce?t.Ht.slice():[]}var Ot,xt,Pt=function(){function t(t){this.fields=t}return t.Jt=function(e){return new t(e)},t.Yt=function(e){var i=new kt(gt.G);return e.forEach((function(t){return i=i.add(t)})),new t(i)},t.prototype.Xt=function(t){var e=!1;return this.fields.forEach((function(i){i.$(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Rt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Mt=function(t,e){this.version=t,this.transformResults=e};(xt=Ot||(Ot={}))[xt.Set=0]="Set",xt[xt.$t=1]="__PRIVATE_Patch",xt[xt.Transform=2]="Transform",xt[xt.Zt=3]="__PRIVATE_Delete",xt[xt.Verify=4]="Verify";var Lt,jt,Vt,Bt,Ft=function(){function t(t,e){this.updateTime=t,this.exists=e,E(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"tn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.nn=function(t){return void 0!==this.updateTime?t instanceof he&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof he:(E(this.tn,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,i=t.updateTime,(null!=e?!(!i||!e.isEqual(i)):e===i)&&this.exists===t.exists;var e,i},t.NONE=new t,t}(),Ut=function(){function t(){}return t.prototype.in=function(t){null!=t&&E(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.en=function(t){return t instanceof he?t.version:pt.MIN},t}(),$t=function(t){function e(e,i,n){var r=t.call(this)||this;return r.key=e,r.value=i,r.rn=n,r.type=Ot.Set,r}return l.__extends(e,t),e.prototype.Wt=function(t,e){this.in(t),E(null==e.transformResults,"Transform results received by SetMutation.");var i=e.version;return new he(this.key,i,{hasCommittedMutations:!0},this.value)},e.prototype.Gt=function(t,e,i){if(this.in(t),!this.rn.nn(t))return t;var n=Ut.en(t);return new he(this.key,n,{un:!0},this.value)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.rn.isEqual(t.rn)},e}(Ut),qt=function(t){function e(e,i,n,r){var u=t.call(this)||this;return u.key=e,u.data=i,u.on=n,u.rn=r,u.type=Ot.$t,u}return l.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),E(null==e.transformResults,"Transform results received by PatchMutation."),!this.rn.nn(t))return new de(this.key,e.version);var i=this.hn(t);return new he(this.key,e.version,{hasCommittedMutations:!0},i)},e.prototype.Gt=function(t,e,i){if(this.in(t),!this.rn.nn(t))return t;var n=Ut.en(t),r=this.hn(t);return new he(this.key,n,{un:!0},r)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.on.isEqual(t.on)&&this.rn.isEqual(t.rn)},e.prototype.hn=function(t){var e;return e=t instanceof he?t.data():ae.EMPTY,this.cn(e)},e.prototype.cn=function(t){var e=this,i=t.an();return this.on.fields.forEach((function(t){if(!t.J()){var n=e.data.field(t);null!==n?i.set(t,n):i.delete(t)}})),i.fn()},e}(Ut),Ht=function(t){function e(e,i){var n=t.call(this)||this;return n.key=e,n.fieldTransforms=i,n.type=Ot.Transform,n.rn=Ft.exists(!0),n}return l.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),E(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.rn.nn(t))return new de(this.key,e.version);var i=this.ln(t),n=this.dn(t,e.transformResults),r=e.version,u=this.vn(i.data(),n);return new he(this.key,r,{hasCommittedMutations:!0},u)},e.prototype.Gt=function(t,e,i){if(this.in(t),!this.rn.nn(t))return t;var n=this.ln(t),r=this.wn(i,t,e),u=this.vn(n.data(),r);return new he(this.key,n.version,{un:!0},u)},e.prototype.sn=function(t){for(var e=null,i=0,n=this.fieldTransforms;i<n.length;i++){var r=n[i],u=t instanceof he?t.field(r.field):void 0,s=r.transform.zt(u||null);null!=s&&(e=null==e?ae.mn().set(r.field,s):e.set(r.field,s))}return e?e.fn():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&D(this.fieldTransforms,t.fieldTransforms)&&this.rn.isEqual(t.rn)},e.prototype.ln=function(t){return E(t instanceof he,"Unknown MaybeDocument type "+t),E(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.dn=function(t,e){var i=[];E(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var n=0;n<e.length;n++){var r=this.fieldTransforms[n],u=r.transform,s=null;t instanceof he&&(s=t.field(r.field)),i.push(u.Wt(s,e[n]))}return i},e.prototype.wn=function(t,e,i){for(var n=[],r=0,u=this.fieldTransforms;r<u.length;r++){var s=u[r],o=s.transform,c=null;e instanceof he&&(c=e.field(s.field)),null===c&&i instanceof he&&(c=i.field(s.field)),n.push(o.Gt(c,t))}return n},e.prototype.vn=function(t,e){E(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var i=t.an(),n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;i.set(r,e[n])}return i.fn()},e}(Ut),zt=function(t){function e(e,i){var n=t.call(this)||this;return n.key=e,n.rn=i,n.type=Ot.Zt,n}return l.__extends(e,t),e.prototype.Wt=function(t,e){return this.in(t),E(null==e.transformResults,"Transform results received by DeleteMutation."),new fe(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Gt=function(t,e,i){return this.in(t),this.rn.nn(t)?(t&&E(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new fe(this.key,pt.B())):t},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Ut),Gt=function(t){function e(e,i){var n=t.call(this)||this;return n.key=e,n.rn=i,n.type=Ot.Verify,n}return l.__extends(e,t),e.prototype.Wt=function(t,e){k("VerifyMutation should only be used in Transactions.")},e.prototype.Gt=function(t,e,i){k("VerifyMutation should only be used in Transactions.")},e.prototype.sn=function(t){k("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Ut);(jt=Lt||(Lt={}))[jt.pn=0]="__PRIVATE_NullValue",jt[jt.gn=1]="__PRIVATE_BooleanValue",jt[jt.bn=2]="__PRIVATE_NumberValue",jt[jt.yn=3]="__PRIVATE_TimestampValue",jt[jt._n=4]="__PRIVATE_StringValue",jt[jt.In=5]="__PRIVATE_BlobValue",jt[jt.Tn=6]="__PRIVATE_RefValue",jt[jt.En=7]="__PRIVATE_GeoPointValue",jt[jt.ArrayValue=8]="ArrayValue",jt[jt.Rn=9]="__PRIVATE_ObjectValue",(Bt=Vt||(Vt={}))[Bt.An=0]="__PRIVATE_Default",Bt[Bt.Dn=1]="__PRIVATE_Estimate",Bt[Bt.Pn=2]="__PRIVATE_Previous";var Wt=function(){function t(t,e){this.Sn=t,this.timestampsInSnapshots=e}return t.Cn=function(e,i){switch(e.serverTimestamps){case"estimate":return new t(Vt.Dn,i);case"previous":return new t(Vt.Pn,i);case"none":case void 0:return new t(Vt.An,i);default:return k("fromSnapshotOptions() called with invalid options.")}},t}(),Yt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.kn=function(t){return E(this.Vn!==t.Vn,"Default compareTo should not be used for values of same type."),A(this.Vn,t.Vn)},t}(),Kt=function(t){function e(){var e=t.call(this)||this;return e.Vn=Lt.pn,e.Ht=null,e}return l.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.h=function(t){return t instanceof e?0:this.kn(t)},e.prototype.Nn=function(){return 4},e.On=new e,e}(Yt),Xt=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.gn,i}return l.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?A(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 4},e.of=function(t){return t?e.Fn:e.Un},e.Fn=new e(!0),e.Un=new e(!1),e}(Yt),Jt=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.bn,i}return l.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.h=function(t){return t instanceof e?(i=this.Ht)<(n=t.Ht)?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1:this.kn(t);var i,n},e.prototype.Nn=function(){return 8},e}(Yt);function Qt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Qt(this.Ht,t.Ht)},e}(Jt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Qt(this.Ht,t.Ht)},e.xn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Jt),ee=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt._n,i}return l.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?A(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 2*this.Ht.length},e}(Yt),ne=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.yn,i}return l.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Ht:this.Ht.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):t instanceof ie?-1:this.kn(t)},e.prototype.Nn=function(){return 16},e}(Yt),ie=function(t){function e(e,i){var n=t.call(this)||this;return n.jn=e,n.previousValue=i,n.Vn=Lt.yn,n}return l.__extends(e,t),e.prototype.value=function(t){return t&&t.Sn===Vt.Dn?new ne(this.jn).value(t):t&&t.Sn===Vt.Pn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.jn.isEqual(t.jn)},e.prototype.h=function(t){return t instanceof e?this.jn.U(t.jn):t instanceof ne?1:this.kn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.jn.toString()+">"},e.prototype.Nn=function(){return 16+(this.previousValue?this.previousValue.Nn():0)},e}(Yt),re=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.In,i}return l.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return this.Ht.Ln()},e}(Yt),oe=function(t){function e(e,i){var n=t.call(this)||this;return n.s=e,n.key=i,n.Vn=Lt.Tn,n}return l.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.s.isEqual(t.s)},e.prototype.h=function(t){if(t instanceof e){var i=this.s.h(t.s);return 0!==i?i:bt.G(this.key,t.key)}return this.kn(t)},e.prototype.Nn=function(){return this.s.projectId.length+this.s.database.length+this.key.toString().length},e}(Yt),se=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.En,i}return l.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return 16},e}(Yt),ae=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.Rn,i}return l.__extends(e,t),e.mn=function(){return new ue(e.EMPTY.Ht)},e.prototype.value=function(t){var e={};return this.Ht.pt((function(i,n){e[i]=n.value(t)})),e},e.prototype.forEach=function(t){this.Ht.pt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var i=this.Ht.bt(),n=t.Ht.bt();i.At()&&n.At();){var r=i.Rt(),u=n.Rt();if(r.key!==u.key||!r.value.isEqual(u.value))return!1}return!i.At()&&!n.At()}return!1},e.prototype.h=function(t){if(t instanceof e){for(var i=this.Ht.bt(),n=t.Ht.bt();i.At()&&n.At();){var r=i.Rt(),u=n.Rt(),s=A(r.key,u.key)||r.value.h(u.value);if(s)return s}return A(i.At(),n.At())}return this.kn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){E(!t.J(),"Can't get field of empty path");var i=this;return t.forEach((function(t){i=i instanceof e?i.Ht.get(t):null})),i},e.prototype.on=function(){var t=new kt(gt.G);return this.Ht.forEach((function(i,n){var r=new gt([i]);if(n instanceof e){var u=n.on().fields;u.J()?t=t.add(r):u.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),Pt.Jt(t)},e.prototype.Nn=function(){var t=0;return this.Ht.pt((function(e,i){t+=e.length+i.Nn()})),t},e.prototype.toString=function(){return this.Ht.toString()},e.prototype.an=function(){return new ue(this.Ht)},e.EMPTY=new e(new wt(A)),e}(Yt),ue=function(){function t(t){this.Ht=t}return t.prototype.set=function(t,e){E(!t.J(),"Cannot set field for empty path on ObjectValue");var i=t.Y();if(1===t.length)this.Ht=this.Ht.lt(i,e);else{var n=this.Ht.get(i),r=(n instanceof ae?n:ae.EMPTY).an().set(t.K(),e).fn();this.Ht=this.Ht.lt(i,r)}return this},t.prototype.delete=function(t){E(!t.J(),"Cannot delete field for empty path on ObjectValue");var e=t.Y();if(1===t.length)this.Ht=this.Ht.remove(e);else{var i=this.Ht.get(e);if(i instanceof ae){var n=i.an().delete(t.K()).fn();this.Ht=this.Ht.lt(t.Y(),n)}}return this},t.prototype.fn=function(){return new ae(this.Ht)},t}(),ce=function(t){function e(e){var i=t.call(this)||this;return i.Ht=e,i.Vn=Lt.ArrayValue,i}return l.__extends(e,t),e.prototype.value=function(t){return this.Ht.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,i=this.Ht;e<i.length;e++)if(i[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Ht.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Ht.length!==t.Ht.length)return!1;for(var i=0;i<this.Ht.length;i++)if(!this.Ht[i].isEqual(t.Ht[i]))return!1;return!0}return!1},e.prototype.h=function(t){if(t instanceof e){for(var i=Math.min(this.Ht.length,t.Ht.length),n=0;n<i;n++){var r=this.Ht[n].h(t.Ht[n]);if(r)return r}return A(this.Ht.length,t.Ht.length)}return this.kn(t)},e.prototype.Nn=function(){return this.Ht.reduce((function(t,e){return t+e.Nn()}),0)},e.prototype.toString=function(){return"["+this.Ht.map((function(t){return t.toString()})).join(",")+"]"},e}(Yt),le=function(){function t(t,e){this.key=t,this.version=e}return t.Bn=function(t,e){return bt.G(t.key,e.key)},t}(),he=function(t){function e(e,i,n,r,u,s){var o=t.call(this,e,i)||this;return o.Mn=r,o.proto=u,o.converter=s,E(void 0!==o.Mn||void 0!==o.proto&&void 0!==o.converter,"If objectValue is not defined, proto and converter need to be set."),o.un=!!n.un,o.hasCommittedMutations=!!n.hasCommittedMutations,o}return l.__extends(e,t),e.prototype.field=function(t){if(this.Mn)return this.Mn.field(t);this.qn||(this.qn=new Map);var e=t.nt(),i=this.qn.get(e);if(void 0===i){var n=this.Qn(t);i=void 0===n?null:this.converter(n),this.qn.set(e,i)}return i},e.prototype.data=function(){var t=this;if(!this.Mn){var e=ae.mn();z(this.proto.fields||{},(function(i,n){e.set(new gt([i]),t.converter(n))})),this.Mn=e.fn(),this.qn=void 0}return this.Mn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.un===t.un&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.un+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.un||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.Qn=function(t){E(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.Y()]:void 0,i=1;i<t.length;++i){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(i)]}return e},e.Gn=function(t,e,i){var n=e.field(t),r=i.field(t);return null!==n&&null!==r?n.h(r):k("Trying to compare documents on fields that don't exist")},e}(le),fe=function(t){function e(e,i,n){var r=t.call(this,e,i)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}return l.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(le),de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(le),pe=Number,ve=pe.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),me=pe.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ye=pe.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function ge(t){return null==t}function be(t){return ye(t)&&t<=me&&t>=ve}var we,_e,Ie=function(){function t(t,e,i,n,r,u,s){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===u&&(u=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=u,this.endAt=s,this.Wn=null}return t.prototype.canonicalId=function(){if(null===this.Wn){var t=this.path.nt();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,i=this.filters;e<i.length;e++)t+=i[e].canonicalId(),t+=",";t+="|ob:";for(var n=0,r=this.orderBy;n<r.length;n++)t+=r[n].canonicalId(),t+=",";ge(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Wn=t}return this.Wn},t.prototype.toString=function(){var t=this.path.nt();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),ge(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.zn=function(){return bt.ht(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();(_e=we||(we={})).Kn="F",_e.Hn="L";var Se,ke,Ee=function(){function t(t,e,i,n,r,u,s,o){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===u&&(u=we.Kn),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.Jn=i,this.filters=n,this.limit=r,this.Yn=u,this.startAt=s,this.endAt=o,this.Xn=null,this.$n=null,this.startAt&&this.Zn(this.startAt),this.endAt&&this.Zn(this.endAt)}return t.ti=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Xn){var t=this.ni(),e=this.ii();if(null!==t&&null===e)t.ut()?this.Xn=[Le]:this.Xn=[new Me(t),Le];else{E(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Xn=[];for(var i=!1,n=0,r=this.Jn;n<r.length;n++){var u=r[n];this.Xn.push(u),u.field.ut()&&(i=!0)}if(!i){var s=this.Jn.length>0?this.Jn[this.Jn.length-1].dir:Pe.ASCENDING;this.Xn.push(s===Pe.ASCENDING?Le:je)}}}return this.Xn},enumerable:!0,configurable:!0}),t.prototype.ei=function(e){E(null==this.ni()||!(e instanceof Ae)||!e.ri()||e.field.isEqual(this.ni()),"Query must only have one inequality field."),E(!this.zn(),"No filtering allowed for document query");var i=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Jn.slice(),i,this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.ui=function(e){E(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var i=this.Jn.concat([e]);return new t(this.path,this.collectionGroup,i,this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.si=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,we.Kn,this.startAt,this.endAt)},t.prototype.oi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,we.Hn,this.startAt,this.endAt)},t.prototype.hi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,e,this.endAt)},t.prototype.ci=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,e)},t.prototype.ai=function(e){return new t(e,null,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.fi=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Jn.length||1===this.Jn.length&&this.Jn[0].field.ut())},t.prototype.canonicalId=function(){return this.li().canonicalId()+"|lt:"+this.Yn},t.prototype.toString=function(){return"Query(target="+this.li().toString()+"; limitType="+this.Yn+")"},t.prototype.isEqual=function(t){return this.li().isEqual(t.li())&&this.Yn===t.Yn},t.prototype.di=function(t,e){for(var i=!1,n=0,r=this.orderBy;n<r.length;n++){var u=r[n],s=u.compare(t,e);if(0!==s)return s;i=i||u.field.ut()}return E(i,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.vi(t)&&this.wi(t)&&this.mi(t)&&this.pi(t)},t.prototype.gi=function(){return!ge(this.limit)&&this.Yn===we.Kn},t.prototype.bi=function(){return!ge(this.limit)&&this.Yn===we.Hn},t.prototype.ii=function(){return this.Jn.length>0?this.Jn[0].field:null},t.prototype.ni=function(){for(var t=0,e=this.filters;t<e.length;t++){var i=e[t];if(i instanceof Ae&&i.ri())return i.field}return null},t.prototype.yi=function(t){for(var e=0,i=this.filters;e<i.length;e++){var n=i[e];if(n instanceof Ae&&t.indexOf(n.op)>=0)return n.op}return null},t.prototype.zn=function(){return this.li().zn()},t.prototype._i=function(){return null!==this.collectionGroup},t.prototype.li=function(){if(!this.$n)if(this.Yn===we.Kn)this.$n=new Ie(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,i=this.orderBy;e<i.length;e++){var n=i[e],r=n.dir===Pe.DESCENDING?Pe.ASCENDING:Pe.DESCENDING;t.push(new Me(n.field,r))}var u=this.endAt?new Re(this.endAt.position,!this.endAt.before):null,s=this.startAt?new Re(this.startAt.position,!this.startAt.before):null;this.$n=new Ie(this.path,this.collectionGroup,t,this.filters,this.limit,u,s)}return this.$n},t.prototype.vi=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.ct(this.collectionGroup)&&this.path.$(e):bt.ht(this.path)?this.path.isEqual(e):this.path.Z(e)},t.prototype.wi=function(t){for(var e=0,i=this.Jn;e<i.length;e++){var n=i[e];if(!n.field.ut()&&null===t.field(n.field))return!1}return!0},t.prototype.mi=function(t){for(var e=0,i=this.filters;e<i.length;e++)if(!i[e].matches(t))return!1;return!0},t.prototype.pi=function(t){return!(this.startAt&&!this.startAt.Ii(this.orderBy,t)||this.endAt&&this.endAt.Ii(this.orderBy,t))},t.prototype.Zn=function(t){E(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Te=function(){function t(t){this.name=t}return t.it=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return k("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Ae=function(t){function e(e,i,n){var r=t.call(this)||this;return r.field=e,r.op=i,r.value=n,r}return l.__extends(e,t),e.create=function(t,i,n){if(t.ut())return i===Te.IN?(E(n instanceof ce,"Comparing on key with IN, but filter value not an ArrayValue"),E(n.Ht.every((function(t){return t instanceof oe})),"Comparing on key with IN, but an array value was not a RefValue"),new Ne(t,n)):(E(n instanceof oe,"Comparing on key, but filter value not a RefValue"),E(i!==Te.ARRAY_CONTAINS&&i!==Te.ARRAY_CONTAINS_ANY,"'"+i.toString()+"' queries don't make sense on document keys."),new De(t,i,n));if(n.isEqual(Kt.On)){if(i!==Te.EQUAL)throw new M(R.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,i,n)}if(n.isEqual(te.xn)){if(i!==Te.EQUAL)throw new M(R.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,i,n)}return i===Te.ARRAY_CONTAINS?new Ce(t,n):i===Te.IN?(E(n instanceof ce,"IN filter has invalid value: "+n.toString()),new Oe(t,n)):i===Te.ARRAY_CONTAINS_ANY?(E(n instanceof ce,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new xe(t,n)):new e(t,i,n)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.Vn===e.Vn&&this.Ti(e.h(this.value))},e.prototype.Ti=function(t){switch(this.op){case Te.LESS_THAN:return t<0;case Te.LESS_THAN_OR_EQUAL:return t<=0;case Te.EQUAL:return 0===t;case Te.GREATER_THAN:return t>0;case Te.GREATER_THAN_OR_EQUAL:return t>=0;default:return k("Unknown FieldFilter operator: "+this.op)}},e.prototype.ri=function(){return[Te.LESS_THAN,Te.LESS_THAN_OR_EQUAL,Te.GREATER_THAN,Te.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.nt()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.nt()+" "+this.op+" "+this.value.value()},e}((function(){})),De=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.matches=function(t){var e=this.value,i=bt.G(t.key,e.key);return this.Ti(i)},e}(Ae),Ne=function(t){function e(e,i){var n=t.call(this,e,Te.IN,i)||this;return n.value=i,n}return l.__extends(e,t),e.prototype.matches=function(t){return this.value.Ht.some((function(e){return t.key.isEqual(e.key)}))},e}(Ae),Ce=function(t){function e(e,i){return t.call(this,e,Te.ARRAY_CONTAINS,i)||this}return l.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof ce&&e.contains(this.value)},e}(Ae),Oe=function(t){function e(e,i){var n=t.call(this,e,Te.IN,i)||this;return n.value=i,n}return l.__extends(e,t),e.prototype.matches=function(t){var e=this.value,i=t.field(this.field);return null!==i&&e.contains(i)},e}(Ae),xe=function(t){function e(e,i){var n=t.call(this,e,Te.ARRAY_CONTAINS_ANY,i)||this;return n.value=i,n}return l.__extends(e,t),e.prototype.matches=function(t){var e=this,i=t.field(this.field);return i instanceof ce&&i.Ht.some((function(t){return e.value.contains(t)}))},e}(Ae),Pe=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Re=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,i=this.position;e<i.length;e++)t+=i[e].toString();return t},t.prototype.Ii=function(t,e){E(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var i=0,n=0;n<this.position.length;n++){var r=t[n],u=this.position[n];if(r.field.ut())E(u instanceof oe,"Bound has a non-key value where the key path is being used."),i=bt.G(u.key,e.key);else{var s=e.field(r.field);E(null!==s,"Field should exist since document matched the orderBy already."),i=u.h(s)}if(r.dir===Pe.DESCENDING&&(i*=-1),0!==i)break}return this.before?i<=0:i<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var i=this.position[e],n=t.position[e];if(!i.isEqual(n))return!1}return!0},t}(),Me=function(){function t(t,e){this.field=t,void 0===e&&(e=Pe.ASCENDING),this.dir=e,this.Ei=t.ut()}return t.prototype.compare=function(t,e){var i=this.Ei?he.Bn(t,e):he.Gn(this.field,t,e);switch(this.dir){case Pe.ASCENDING:return i;case Pe.DESCENDING:return-1*i;default:return k("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.nt()+this.dir.toString()},t.prototype.toString=function(){return this.field.nt()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Le=new Me(gt.st(),Pe.ASCENDING),je=new Me(gt.st(),Pe.DESCENDING);(ke=Se||(Se={}))[ke.Ri=0]="__PRIVATE_RemoteStore",ke[ke.Ai=1]="__PRIVATE_SharedClientState";var Ve,Be,Fe=function(){function t(t){this.Di=t}return t.fromBase64String=function(e){return new t(Pn.t().atob(e))},t.fromUint8Array=function(e){return new t(Ue(e))},t.prototype.toBase64=function(){return Pn.t().btoa(this.Di)},t.prototype.toUint8Array=function(){return $e(this.Di)},t.prototype.Nn=function(){return 2*this.Di.length},t.prototype.isEqual=function(t){return this.Di===t.Di},t.Pi=new t(""),t}();function Ue(t){for(var e="",i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}function $e(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(Be=Ve||(Ve={}))[Be.Si=0]="__PRIVATE_Listen",Be[Be.Ci=1]="__PRIVATE_ExistenceFilterMismatch",Be[Be.ki=2]="__PRIVATE_LimboResolution";var qe,He,ze=function(){function t(t,e,i,n,r,u,s){void 0===r&&(r=pt.MIN),void 0===u&&(u=pt.MIN),void 0===s&&(s=Fe.Pi),this.target=t,this.targetId=e,this.Vi=i,this.sequenceNumber=n,this.Ni=r,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return t.prototype.Oi=function(e){return new t(this.target,this.targetId,this.Vi,e,this.Ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Fi=function(e,i){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Ui=function(e){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,this.Ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.Vi===t.Vi&&this.sequenceNumber===t.sequenceNumber&&this.Ni.isEqual(t.Ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Ge=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function We(t){switch(t){case R.OK:return k("Treated status OK as error");case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return k("Unknown status code: "+t)}}function Ye(t){if(void 0===t)return I("GRPC error has no .code"),R.UNKNOWN;switch(t){case qe.OK:return R.OK;case qe.CANCELLED:return R.CANCELLED;case qe.UNKNOWN:return R.UNKNOWN;case qe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case qe.INTERNAL:return R.INTERNAL;case qe.UNAVAILABLE:return R.UNAVAILABLE;case qe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case qe.NOT_FOUND:return R.NOT_FOUND;case qe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case qe.ABORTED:return R.ABORTED;case qe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case qe.DATA_LOSS:return R.DATA_LOSS;default:return k("Unknown status code: "+t)}}function Ke(t){if(void 0===t)return qe.OK;switch(t){case R.OK:return qe.OK;case R.CANCELLED:return qe.CANCELLED;case R.UNKNOWN:return qe.UNKNOWN;case R.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case R.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case R.INTERNAL:return qe.INTERNAL;case R.UNAVAILABLE:return qe.UNAVAILABLE;case R.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case R.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case R.NOT_FOUND:return qe.NOT_FOUND;case R.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case R.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case R.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case R.ABORTED:return qe.ABORTED;case R.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case R.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case R.DATA_LOSS:return qe.DATA_LOSS;default:return k("Unknown status code: "+t)}}(He=qe||(qe={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";var Xe=new wt(bt.G);function Je(){return Xe}function Qe(){return Je()}var Ze=new wt(bt.G);function tn(){return Ze}var en=new wt(bt.G);function nn(){return en}var rn=new kt(bt.G);function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=rn,n=0,r=t;n<r.length;n++){var u=r[n];i=i.add(u)}return i}var on=new kt(A);function sn(){return on}var an,un,cn,ln,hn=function(){function t(t){this.G=t?function(e,i){return t(e,i)||bt.G(e.key,i.key)}:function(t,e){return bt.G(t.key,e.key)},this.xi=tn(),this.ji=new wt(this.G)}return t.Li=function(e){return new t(e.G)},t.prototype.has=function(t){return null!=this.xi.get(t)},t.prototype.get=function(t){return this.xi.get(t)},t.prototype.first=function(){return this.ji.vt()},t.prototype.last=function(){return this.ji.wt()},t.prototype.J=function(){return this.ji.J()},t.prototype.indexOf=function(t){var e=this.xi.get(t);return e?this.ji.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.ji.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.ji.pt((function(e,i){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.xi.lt(t.key,t),e.ji.lt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.xi.remove(t),this.ji.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var i=this.ji.bt(),n=e.ji.bt();i.At();){var r=i.Rt().key,u=n.Rt().key;if(!r.isEqual(u))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var n=new t;return n.G=this.G,n.xi=e,n.ji=i,n},t}();(un=an||(an={}))[un.Bi=0]="__PRIVATE_Added",un[un.Mi=1]="__PRIVATE_Removed",un[un.qi=2]="__PRIVATE_Modified",un[un.Qi=3]="__PRIVATE_Metadata",(ln=cn||(cn={}))[ln.Gi=0]="__PRIVATE_Local",ln[ln.Wi=1]="__PRIVATE_Synced";var fn,dn,pn=function(){function t(){this.zi=new wt(bt.G)}return t.prototype.track=function(t){var e=t.doc.key,i=this.zi.get(e);i?t.type!==an.Bi&&i.type===an.Qi?this.zi=this.zi.lt(e,t):t.type===an.Qi&&i.type!==an.Mi?this.zi=this.zi.lt(e,{type:i.type,doc:t.doc}):t.type===an.qi&&i.type===an.qi?this.zi=this.zi.lt(e,{type:an.qi,doc:t.doc}):t.type===an.qi&&i.type===an.Bi?this.zi=this.zi.lt(e,{type:an.Bi,doc:t.doc}):t.type===an.Mi&&i.type===an.Bi?this.zi=this.zi.remove(e):t.type===an.Mi&&i.type===an.qi?this.zi=this.zi.lt(e,{type:an.Mi,doc:i.doc}):t.type===an.Bi&&i.type===an.Mi?this.zi=this.zi.lt(e,{type:an.qi,doc:t.doc}):k("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(i)):this.zi=this.zi.lt(e,t)},t.prototype.Ki=function(){var t=[];return this.zi.pt((function(e,i){t.push(i)})),t},t}(),vn=function(){function t(t,e,i,n,r,u,s,o){this.query=t,this.docs=e,this.Hi=i,this.docChanges=n,this.Ji=r,this.fromCache=u,this.Yi=s,this.Xi=o}return t.$i=function(e,i,n,r){var u=[];return i.forEach((function(t){u.push({type:an.Bi,doc:t})})),new t(e,i,hn.Li(i),u,n,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ji.J()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Yi===t.Yi&&this.Ji.isEqual(t.Ji)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Hi.isEqual(t.Hi)))return!1;var e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(var n=0;n<e.length;n++)if(e[n].type!==i[n].type||!e[n].doc.isEqual(i[n].doc))return!1;return!0},t}(),mn=function(){function t(t,e,i,n,r){this.Ni=t,this.Zi=e,this.te=i,this.ne=n,this.ie=r}return t.ee=function(e,i){var n,r=((n={})[e]=yn.re(e,i),n);return new t(pt.MIN,r,sn(),Je(),li())},t}(),yn=function(){function t(t,e,i,n,r){this.resumeToken=t,this.ue=e,this.se=i,this.oe=n,this.he=r}return t.re=function(e,i){return new t(Fe.Pi,i,li(),li(),li())},t}(),gn=function(t,e,i,n){this.ce=t,this.removedTargetIds=e,this.key=i,this.ae=n},bn=function(t,e){this.targetId=t,this.fe=e};(dn=fn||(fn={}))[dn.le=0]="__PRIVATE_NoChange",dn[dn.Bi=1]="__PRIVATE_Added",dn[dn.Mi=2]="__PRIVATE_Removed",dn[dn.de=3]="__PRIVATE_Current",dn[dn.ve=4]="__PRIVATE_Reset";var wn=function(t,e,i,n){void 0===i&&(i=Fe.Pi),void 0===n&&(n=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n},_n=function(){function t(){this.we=0,this.me=kn(),this.pe=Fe.Pi,this.ge=!1,this.be=!0}return Object.defineProperty(t.prototype,"ue",{get:function(){return this.ge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.pe},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return 0!==this.we},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.be},enumerable:!0,configurable:!0}),t.prototype.Ie=function(t){t.Nn()>0&&(this.be=!0,this.pe=t)},t.prototype.Te=function(){var t=li(),e=li(),i=li();return this.me.forEach((function(n,r){switch(r){case an.Bi:t=t.add(n);break;case an.qi:e=e.add(n);break;case an.Mi:i=i.add(n);break;default:k("Encountered invalid change type: "+r)}})),new yn(this.pe,this.ge,t,e,i)},t.prototype.Ee=function(){this.be=!1,this.me=kn()},t.prototype.Re=function(t,e){this.be=!0,this.me=this.me.lt(t,e)},t.prototype.Ae=function(t){this.be=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.we+=1},t.prototype.Pe=function(){this.we-=1},t.prototype.Se=function(){this.be=!0,this.ge=!0},t}(),In=function(){function t(t){this.Ce=t,this.ke={},this.Ve=Je(),this.Ne=Sn(),this.Oe=new kt(A)}return t.prototype.Fe=function(t){for(var e=0,i=t.ce;e<i.length;e++){var n=i[e];t.ae instanceof he?this.Ue(n,t.ae):t.ae instanceof fe&&this.xe(n,t.key,t.ae)}for(var r=0,u=t.removedTargetIds;r<u.length;r++)n=u[r],this.xe(n,t.key,t.ae)},t.prototype.je=function(t){var e=this;this.Le(t,(function(i){var n=e.Be(i);switch(t.state){case fn.le:e.Me(i)&&n.Ie(t.resumeToken);break;case fn.Bi:n.Pe(),n.ye||n.Ee(),n.Ie(t.resumeToken);break;case fn.Mi:n.Pe(),n.ye||e.removeTarget(i),E(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case fn.de:e.Me(i)&&(n.Se(),n.Ie(t.resumeToken));break;case fn.ve:e.Me(i)&&(e.qe(i),n.Ie(t.resumeToken));break;default:k("Unknown target watch change state: "+t.state)}}))},t.prototype.Le=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):H(this.ke,e)},t.prototype.Qe=function(t){var e=t.targetId,i=t.fe.count,n=this.Ge(e);if(n){var r=n.target;if(r.zn())if(0===i){var u=new bt(r.path);this.xe(e,u,new fe(u,pt.B()))}else E(1===i,"Single document existence filter with count: "+i);else this.We(e)!==i&&(this.qe(e),this.Oe=this.Oe.add(e))}},t.prototype.ze=function(t){var e=this,i={};H(this.ke,(function(n,r){var u=e.Ge(n);if(u){if(r.ue&&u.target.zn()){var s=new bt(u.target.path);null!==e.Ve.get(s)||e.Ke(n,s)||e.xe(n,s,new fe(s,t))}r._e&&(i[n]=r.Te(),r.Ee())}}));var n=li();this.Ne.forEach((function(t,i){var r=!0;i.Bt((function(t){var i=e.Ge(t);return!i||i.Vi===Ve.ki||(r=!1,!1)})),r&&(n=n.add(t))}));var r=new mn(t,i,this.Oe,this.Ve,n);return this.Ve=Je(),this.Ne=Sn(),this.Oe=new kt(A),r},t.prototype.Ue=function(t,e){if(this.Me(t)){var i=this.Ke(t,e.key)?an.qi:an.Bi;this.Be(t).Re(e.key,i),this.Ve=this.Ve.lt(e.key,e),this.Ne=this.Ne.lt(e.key,this.He(e.key).add(t))}},t.prototype.xe=function(t,e,i){if(this.Me(t)){var n=this.Be(t);this.Ke(t,e)?n.Re(e,an.Mi):n.Ae(e),this.Ne=this.Ne.lt(e,this.He(e).delete(t)),i&&(this.Ve=this.Ve.lt(e,i))}},t.prototype.removeTarget=function(t){delete this.ke[t]},t.prototype.We=function(t){var e=this.Be(t).Te();return this.Ce.Je(t).size+e.se.size-e.he.size},t.prototype.De=function(t){this.Be(t).De()},t.prototype.Be=function(t){return this.ke[t]||(this.ke[t]=new _n),this.ke[t]},t.prototype.He=function(t){var e=this.Ne.get(t);return e||(e=new kt(A),this.Ne=this.Ne.lt(t,e)),e},t.prototype.Me=function(t){var e=null!==this.Ge(t);return e||_("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.ke[t];return e&&e.ye?null:this.Ce.Ye(t)},t.prototype.qe=function(t){var e=this;E(!this.ke[t].ye,"Should only reset active targets"),this.ke[t]=new _n,this.Ce.Je(t).forEach((function(i){e.xe(t,i,null)}))},t.prototype.Ke=function(t,e){return this.Ce.Je(t).has(e)},t}();function Sn(){return new wt(bt.G)}function kn(){return new wt(bt.G)}var En,Tn,An=((En={})[Pe.ASCENDING.name]="ASCENDING",En[Pe.DESCENDING.name]="DESCENDING",En),Dn=((Tn={})[Te.LESS_THAN.name]="LESS_THAN",Tn[Te.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Tn[Te.GREATER_THAN.name]="GREATER_THAN",Tn[Te.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Tn[Te.EQUAL.name]="EQUAL",Tn[Te.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Tn[Te.IN.name]="IN",Tn[Te.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Tn),Nn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cn(t,e){E(!ge(t),e+" is missing")}function On(t){return"number"==typeof t?t:"string"==typeof t?Number(t):k("can't parse "+t)}var xn=function(){function t(t,e){this.s=t,this.options=e}return t.prototype.Xe=function(t){var e=void 0===t.code?R.UNKNOWN:Ye(t.code);return new M(e,t.message||"")},t.prototype.$e=function(t){return this.options.Ze||ge(t)?t:{value:t}},t.prototype.tr=function(t){var e;return ge(e="object"==typeof t?t.value:t)?null:e},t.prototype.q=function(t){return this.options.Ze?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.nr(t);E(!!t,"Cannot deserialize null or undefined timestamp.");var e=On(t.seconds||"0"),i=t.nanos||0;return new ft(e,i)},t.prototype.nr=function(t){var e=0,i=Nn.exec(t);if(E(!!i,"invalid timestamp: "+t),i[1]){var n=i[1];n=(n+"000000000").substr(0,9),e=Number(n)}var r=new Date(t),u=Math.floor(r.getTime()/1e3);return new ft(u,e)},t.prototype.ir=function(t){return this.options.Ze?t.toBase64():t.toUint8Array()},t.prototype.er=function(t){return this.options.Ze?(E(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),Fe.fromBase64String(t||"")):(E(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),Fe.fromUint8Array(t||new Uint8Array))},t.prototype.rr=function(t){return"string"==typeof t?(E(this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Bn.fromBase64String(t)):(E(!this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Bn.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.q(t.q())},t.prototype.fromVersion=function(t){return E(!!t,"Trying to deserialize version that isn't set"),pt.L(this.L(t))},t.prototype.ur=function(t,e){return this.sr(t).child("documents").child(e).nt()},t.prototype.or=function(t){var e=mt.it(t);return E(this.hr(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.cr=function(t){return this.ur(this.s,t.path)},t.prototype.ar=function(t){var e=this.or(t);return E(e.get(1)===this.s.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.s.projectId),E(!e.get(3)&&!this.s.database||e.get(3)===this.s.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.s.database),new bt(this.lr(e))},t.prototype.dr=function(t){return this.ur(this.s,t)},t.prototype.vr=function(t){var e=this.or(t);return 4===e.length?mt.et:this.lr(e)},Object.defineProperty(t.prototype,"wr",{get:function(){return new mt(["projects",this.s.projectId,"databases",this.s.database]).nt()},enumerable:!0,configurable:!0}),t.prototype.sr=function(t){return new mt(["projects",t.projectId,"databases",t.database])},t.prototype.lr=function(t){return E(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.K(5)},t.prototype.hr=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.mr=function(t){if(t instanceof Kt)return{nullValue:"NULL_VALUE"};if(t instanceof Xt)return{booleanValue:t.value()};if(t instanceof Zt)return{integerValue:""+t.value()};if(t instanceof te){var e=t.value();if(this.options.Ze){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof ee?{stringValue:t.value()}:t instanceof ae?{mapValue:this.pr(t)}:t instanceof ce?{arrayValue:this.gr(t)}:t instanceof ne?{timestampValue:this.q(t.Ht)}:t instanceof se?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof re?{bytesValue:this.ir(t.value())}:t instanceof oe?{referenceValue:this.ur(t.s,t.key.path)}:k("Unknown FieldValue "+JSON.stringify(t))},t.prototype.br=function(t){var e=this;if("nullValue"in t)return Kt.On;if("booleanValue"in t)return Xt.of(t.booleanValue);if("integerValue"in t)return new Zt(On(t.integerValue));if("doubleValue"in t){if(this.options.Ze){if("NaN"===t.doubleValue)return te.xn;if("Infinity"===t.doubleValue)return te.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return te.NEGATIVE_INFINITY}return new te(t.doubleValue)}if("stringValue"in t)return new ee(t.stringValue);if("mapValue"in t)return this.yr(t.mapValue.fields||{});if("arrayValue"in t){Cn(t.arrayValue,"arrayValue");var i=t.arrayValue.values||[];return new ce(i.map((function(t){return e.br(t)})))}if("timestampValue"in t)return Cn(t.timestampValue,"timestampValue"),new ne(this.L(t.timestampValue));if("geoPointValue"in t){Cn(t.geoPointValue,"geoPointValue");var n=t.geoPointValue.latitude||0,r=t.geoPointValue.longitude||0;return new se(new ht(n,r))}if("bytesValue"in t){Cn(t.bytesValue,"bytesValue");var u=this.rr(t.bytesValue);return new re(u)}if("referenceValue"in t){Cn(t.referenceValue,"referenceValue");var s=this.or(t.referenceValue),o=new x(s.get(1),s.get(3)),c=new bt(this.lr(s));return new oe(o,c)}return k("Unknown Value proto "+JSON.stringify(t))},t.prototype._r=function(t,e){return{name:this.cr(t),fields:this.Ir(e)}},t.prototype.Tr=function(t){return E(!t.un,"Can't serialize documents with mutations."),{name:this.cr(t.key),fields:this.Ir(t.data()),updateTime:this.q(t.version.q())}},t.prototype.Er=function(t,e){var i=this,n=this.ar(t.name),r=this.fromVersion(t.updateTime);return new he(n,r,{hasCommittedMutations:!!e},void 0,t,(function(t){return i.br(t)}))},t.prototype.Ir=function(t){var e=this,i={};return t.forEach((function(t,n){i[t]=e.mr(n)})),i},t.prototype.yr=function(t){var e=this,i=t,n=ae.mn();return z(i,(function(t,i){n.set(new gt([t]),e.br(i))})),n.fn()},t.prototype.pr=function(t){return{fields:this.Ir(t)}},t.prototype.gr=function(t){var e=this,i=[];return t.forEach((function(t){i.push(e.mr(t))})),{values:i}},t.prototype.Rr=function(t){var e=this;E(!!t.found,"Tried to deserialize a found document from a missing document."),Cn(t.found.name,"doc.found.name"),Cn(t.found.updateTime,"doc.found.updateTime");var i=this.ar(t.found.name),n=this.fromVersion(t.found.updateTime);return new he(i,n,{},void 0,t.found,(function(t){return e.br(t)}))},t.prototype.Ar=function(t){E(!!t.missing,"Tried to deserialize a missing document from a found document."),E(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.ar(t.missing),i=this.fromVersion(t.readTime);return new fe(e,i)},t.prototype.Dr=function(t){return"found"in t?this.Rr(t):"missing"in t?this.Ar(t):k("invalid batch get response: "+JSON.stringify(t))},t.prototype.Pr=function(t){switch(t){case fn.Bi:return"ADD";case fn.de:return"CURRENT";case fn.le:return"NO_CHANGE";case fn.Mi:return"REMOVE";case fn.ve:return"RESET";default:return k("Unknown WatchTargetChangeState: "+t)}},t.prototype.Sr=function(t){if(t instanceof bn)return{filter:{count:t.fe.count,targetId:t.targetId}};if(t instanceof gn){if(t.ae instanceof he){var e=t.ae;return{documentChange:{document:{name:this.cr(e.key),fields:this.Ir(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.ce,removedTargetIds:t.removedTargetIds}}}if(t.ae instanceof fe)return e=t.ae,{documentDelete:{document:this.cr(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.ae)return{documentRemove:{document:this.cr(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof wn){var i=void 0;return t.cause&&(i={code:Ke(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Pr(t.state),targetIds:t.targetIds,resumeToken:this.ir(t.resumeToken),cause:i}}}return k("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Cr=function(t){var e,i=this;if("targetChange"in t){Cn(t.targetChange,"targetChange");var n=this.kr(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],u=this.er(t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&this.Xe(s);e=new wn(n,r,u,o||null)}else if("documentChange"in t){Cn(t.documentChange,"documentChange");var c=t.documentChange;Cn(c.document,"documentChange.name"),Cn(c.document.name,"documentChange.document.name"),Cn(c.document.updateTime,"documentChange.document.updateTime");var l=this.ar(c.document.name),a=this.fromVersion(c.document.updateTime),h=new he(l,a,{},void 0,c.document,(function(t){return i.br(t)})),f=c.targetIds||[],d=c.removedTargetIds||[];e=new gn(f,d,h.key,h)}else if("documentDelete"in t){Cn(t.documentDelete,"documentDelete");var v=t.documentDelete;Cn(v.document,"documentDelete.document"),l=this.ar(v.document),a=v.readTime?this.fromVersion(v.readTime):pt.B(),h=new fe(l,a),d=v.removedTargetIds||[],e=new gn([],d,h.key,h)}else if("documentRemove"in t){Cn(t.documentRemove,"documentRemove");var m=t.documentRemove;Cn(m.document,"documentRemove"),l=this.ar(m.document),d=m.removedTargetIds||[],e=new gn([],d,l,null)}else{if(!("filter"in t))return k("Unknown change type "+JSON.stringify(t));Cn(t.filter,"filter");var y=t.filter;Cn(y.targetId,"filter.targetId");var p=y.count||0,g=new Ge(p),b=y.targetId;e=new bn(b,g)}return e},t.prototype.kr=function(t){return"NO_CHANGE"===t?fn.le:"ADD"===t?fn.Bi:"REMOVE"===t?fn.Mi:"CURRENT"===t?fn.de:"RESET"===t?fn.ve:k("Got unexpected TargetChange.state: "+t)},t.prototype.Vr=function(t){if(!("targetChange"in t))return pt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?pt.MIN:e.readTime?this.fromVersion(e.readTime):pt.MIN},t.prototype.Nr=function(t){var e,i=this;if(t instanceof $t)e={update:this._r(t.key,t.value)};else if(t instanceof zt)e={delete:this.cr(t.key)};else if(t instanceof qt)e={update:this._r(t.key,t.data),updateMask:this.Or(t.on)};else if(t instanceof Ht)e={transform:{document:this.cr(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return i.Fr(t)}))}};else{if(!(t instanceof Gt))return k("Unknown mutation type "+t.type);e={verify:this.cr(t.key)}}return t.rn.tn||(e.currentDocument=this.Ur(t.rn)),e},t.prototype.xr=function(t){var e=this,i=t.currentDocument?this.jr(t.currentDocument):Ft.NONE;if(t.update){Cn(t.update.name,"name");var n=this.ar(t.update.name),r=this.yr(t.update.fields||{});if(t.updateMask){var u=this.Lr(t.updateMask);return new qt(n,r,u,i)}return new $t(n,r,i)}if(t.delete)return n=this.ar(t.delete),new zt(n,i);if(t.transform){n=this.ar(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.Br(t)}));return E(!0===i.exists,'Transforms only support precondition "exists == true"'),new Ht(n,s)}return t.verify?(n=this.ar(t.verify),new Gt(n,i)):k("unknown mutation proto: "+JSON.stringify(t))},t.prototype.Ur=function(t){return E(!t.tn,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:k("Unknown precondition")},t.prototype.jr=function(t){return void 0!==t.updateTime?Ft.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Ft.exists(t.exists):Ft.NONE},t.prototype.Mr=function(t,e){var i=this,n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(pt.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map((function(t){return i.br(t)}))),new Mt(n,r)},t.prototype.qr=function(t,e){var i=this;return t&&t.length>0?(E(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return i.Mr(t,e)}))):[]},t.prototype.Fr=function(t){var e=this,i=t.transform;if(i instanceof Tt)return{fieldPath:t.field.nt(),setToServerValue:"REQUEST_TIME"};if(i instanceof At)return{fieldPath:t.field.nt(),appendMissingElements:{values:i.elements.map((function(t){return e.mr(t)}))}};if(i instanceof Dt)return{fieldPath:t.field.nt(),removeAllFromArray:{values:i.elements.map((function(t){return e.mr(t)}))}};if(i instanceof Nt)return{fieldPath:t.field.nt(),increment:this.mr(i.Kt)};throw k("Unknown transform: "+t.transform)},t.prototype.Br=function(t){var e=this,i=null;if("setToServerValue"in t)E("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),i=Tt.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];i=new At(n.map((function(t){return e.br(t)})))}else if("removeAllFromArray"in t)n=t.removeAllFromArray.values||[],i=new Dt(n.map((function(t){return e.br(t)})));else if("increment"in t){var r=this.br(t.increment);E(r instanceof Jt,"NUMERIC_ADD transform requires a NumberValue"),i=new Nt(r)}else k("Unknown transform proto: "+JSON.stringify(t));var u=gt.ot(t.fieldPath);return new Rt(u,i)},t.prototype.Qr=function(t){return{documents:[this.dr(t.path)]}},t.prototype.Gr=function(t){var e=t.documents.length;E(1===e,"DocumentsTarget contained other than 1 document: "+e);var i=t.documents[0];return Ee.ti(this.vr(i)).li()},t.prototype.Wr=function(t){var e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(E(i.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.dr(i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(E(i.length%2!=0,"Document queries with filters are not supported."),e.parent=this.dr(i.H()),e.structuredQuery.from=[{collectionId:i.X()}]);var n=this.zr(t.filters);n&&(e.structuredQuery.where=n);var r=this.Kr(t.orderBy);r&&(e.structuredQuery.orderBy=r);var u=this.$e(t.limit);return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=this.Hr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Hr(t.endAt)),e},t.prototype.Jr=function(t){var e=this.vr(t.parent),i=t.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){E(1===n,"StructuredQuery.from with more than one collection is not supported.");var u=i.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}var s=[];i.where&&(s=this.Yr(i.where));var o=[];i.orderBy&&(o=this.Xr(i.orderBy));var c=null;i.limit&&(c=this.tr(i.limit));var l=null;i.startAt&&(l=this.$r(i.startAt));var a=null;return i.endAt&&(a=this.$r(i.endAt)),new Ee(e,r,o,s,c,we.Kn,l,a).li()},t.prototype.Zr=function(t){var e=this.tu(t.Vi);return null==e?null:{"goog-listen-tags":e}},t.prototype.tu=function(t){switch(t){case Ve.Si:return null;case Ve.Ci:return"existence-filter-mismatch";case Ve.ki:return"limbo-document";default:return k("Unrecognized query purpose: "+t)}},t.prototype.li=function(t){var e,i=t.target;return(e=i.zn()?{documents:this.Qr(i)}:{query:this.Wr(i)}).targetId=t.targetId,t.resumeToken.Nn()>0&&(e.resumeToken=this.ir(t.resumeToken)),e},t.prototype.zr=function(t){var e=this;if(0!==t.length){var i=t.map((function(t){return t instanceof Ae?e.nu(t):k("Unrecognized filter: "+JSON.stringify(t))}));return 1===i.length?i[0]:{compositeFilter:{op:"AND",filters:i}}}},t.prototype.Yr=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.iu(t)]:void 0!==t.fieldFilter?[this.eu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Yr(t)})).reduce((function(t,e){return t.concat(e)})):k("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.Kr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.ru(t)}))},t.prototype.Xr=function(t){var e=this;return t.map((function(t){return e.uu(t)}))},t.prototype.Hr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.mr(t)}))}},t.prototype.$r=function(t){var e=this,i=!!t.before,n=t.values.map((function(t){return e.br(t)}));return new Re(n,i)},t.prototype.su=function(t){return An[t.name]},t.prototype.ou=function(t){switch(t){case"ASCENDING":return Pe.ASCENDING;case"DESCENDING":return Pe.DESCENDING;default:return}},t.prototype.hu=function(t){return Dn[t.name]},t.prototype.cu=function(t){switch(t){case"EQUAL":return Te.EQUAL;case"GREATER_THAN":return Te.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Te.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Te.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Te.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Te.ARRAY_CONTAINS;case"IN":return Te.IN;case"ARRAY_CONTAINS_ANY":return Te.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return k("Unspecified operator");default:return k("Unknown operator")}},t.prototype.au=function(t){return{fieldPath:t.nt()}},t.prototype.fu=function(t){return gt.ot(t.fieldPath)},t.prototype.ru=function(t){return{field:this.au(t.field),direction:this.su(t.dir)}},t.prototype.uu=function(t){return new Me(this.fu(t.field),this.ou(t.direction))},t.prototype.eu=function(t){return Ae.create(this.fu(t.fieldFilter.field),this.cu(t.fieldFilter.op),this.br(t.fieldFilter.value))},t.prototype.nu=function(t){if(t.op===Te.EQUAL){if(t.value.isEqual(te.xn))return{unaryFilter:{field:this.au(t.field),op:"IS_NAN"}};if(t.value.isEqual(Kt.On))return{unaryFilter:{field:this.au(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.au(t.field),op:this.hu(t.op),value:this.mr(t.value)}}},t.prototype.iu=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fu(t.unaryFilter.field);return Ae.create(e,Te.EQUAL,te.xn);case"IS_NULL":var i=this.fu(t.unaryFilter.field);return Ae.create(i,Te.EQUAL,Kt.On);case"OPERATOR_UNSPECIFIED":return k("Unspecified filter");default:return k("Unknown filter")}},t.prototype.Or=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.nt())})),{fieldPaths:e}},t.prototype.Lr=function(t){var e=(t.fieldPaths||[]).map((function(t){return gt.ot(t)}));return Pt.Yt(e)},t}(),Pn=function(){function t(){}return t.lu=function(e){t.platform&&k("Platform already defined"),t.platform=e},t.t=function(){return t.platform||k("Platform not set"),t.platform},t}();function Rn(t,e){function i(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new M(R.INVALID_ARGUMENT,t)}return i.prototype=t.prototype,Object.assign(i,t),i}function Mn(){if("undefined"==typeof Uint8Array)throw new M(R.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ln(){if(!Pn.t().du)throw new M(R.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jn,Vn,Bn=function(){function t(t){Ln(),this.Di=t}return t.fromBase64String=function(e){Y("Blob.fromBase64String",arguments,1),J("Blob.fromBase64String","string",1,e),Ln();try{var i=Pn.t().atob(e);return new t(i)}catch(t){throw new M(R.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(Y("Blob.fromUint8Array",arguments,1),Mn(),!(e instanceof Uint8Array))throw at("Blob.fromUint8Array","Uint8Array",1,e);var i=Ue(e);return new t(i)},t.prototype.toBase64=function(){return Y("Blob.toBase64",arguments,0),Ln(),Pn.t().btoa(this.Di)},t.prototype.toUint8Array=function(){Y("Blob.toUint8Array",arguments,0),Mn();var t=$e(this.Di);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Di===t.Di},t.prototype.Ln=function(){return 2*this.Di.length},t.prototype.U=function(t){return A(this.Di,t.Di)},t}(),Fn=Rn(Bn,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Un=function(){function t(t,e){var i=this;this.previousValue=t,e&&(e.vu=function(t){return i.wu(t)},this.mu=function(t){return e.pu(t)})}return t.prototype.wu=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.mu&&this.mu(t),t},t.gu=-1,t}(),$n=function(){var t=this;this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))};(Vn=jn||(jn={})).bu="all",Vn.yu="listen_stream_idle",Vn._u="listen_stream_connection_backoff",Vn.Iu="write_stream_idle",Vn.Tu="write_stream_connection_backoff",Vn.Eu="online_state_timeout",Vn.Ru="client_metadata_refresh",Vn.Au="lru_garbage_collection",Vn.Du="retry_transaction";var qn=function(){function t(t,e,i,n,r){this.Pu=t,this.Su=e,this.Cu=i,this.op=n,this.ku=r,this.Vu=new $n,this.then=this.Vu.promise.then.bind(this.Vu.promise),this.catch=this.Vu.promise.catch.bind(this.Vu.promise),this.Vu.promise.catch((function(t){}))}return t.Nu=function(e,i,n,r,u){var s=new t(e,i,Date.now()+n,r,u);return s.start(n),s},t.prototype.start=function(t){var e=this;this.Ou=setTimeout((function(){return e.Fu()}),t)},t.prototype.Uu=function(){return this.Fu()},t.prototype.cancel=function(t){null!==this.Ou&&(this.clearTimeout(),this.Vu.reject(new M(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Fu=function(){var t=this;this.Pu.xu((function(){return null!==t.Ou?(t.clearTimeout(),t.op().then((function(e){return t.Vu.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Ou&&(this.ku(this),clearTimeout(this.Ou),this.Ou=null)},t}(),Hn=function(){function t(){this.ju=Promise.resolve(),this.Lu=!1,this.Bu=[],this.Mu=null,this.qu=!1,this.Qu=[]}return Object.defineProperty(t.prototype,"Gu",{get:function(){return this.Lu},enumerable:!0,configurable:!0}),t.prototype.xu=function(t){this.enqueue(t)},t.prototype.Wu=function(t){this.zu(),this.Ku(t)},t.prototype.Hu=function(t){return this.zu(),this.Ku(t)},t.prototype.Ju=function(t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.zu(),this.Lu?[3,2]:(this.Lu=!0,[4,this.Hu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.zu(),this.Lu?new Promise((function(t){})):this.Ku(t)},t.prototype.Ku=function(t){var e=this,i=this.ju.then((function(){return e.qu=!0,t().catch((function(t){e.Mu=t,e.qu=!1;var i=t.stack||t.message||"";throw I("INTERNAL UNHANDLED ERROR: ",i),i.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.qu=!1,t}))}));return this.ju=i,i},t.prototype.Yu=function(t,e,i){var n=this;this.zu(),E(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Qu.indexOf(t)>-1&&(e=0);var r=qn.Nu(this,t,e,i,(function(t){return n.Xu(t)}));return this.Bu.push(r),r},t.prototype.zu=function(){this.Mu&&k("AsyncQueue is already failed: "+(this.Mu.stack||this.Mu.message))},t.prototype.$u=function(){E(this.qu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.Zu=function(){return this.Hu((function(){return Promise.resolve()}))},t.prototype.ts=function(t){for(var e=0,i=this.Bu;e<i.length;e++)if(i[e].Su===t)return!0;return!1},t.prototype.ns=function(t){var e=this;return this.Zu().then((function(){E(t===jn.bu||e.ts(t),"Attempted to drain to missing operation "+t),e.Bu.sort((function(t,e){return t.Cu-e.Cu}));for(var i=0,n=e.Bu;i<n.length;i++){var r=n[i];if(r.Uu(),t!==jn.bu&&r.Su===t)break}return e.Zu()}))},t.prototype.es=function(t){this.Qu.push(t)},t.prototype.Xu=function(t){var e=this.Bu.indexOf(t);E(e>=0,"Delayed operation not found."),this.Bu.splice(e,1)},t}(),zn="",Gn="",Wn="",Yn="";function Kn(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=Jn(e)),e=Xn(t.get(i),e);return Jn(e)}function Xn(t,e){for(var i=e,n=t.length,r=0;r<n;r++){var u=t.charAt(r);switch(u){case"\0":i+=zn+Wn;break;case zn:i+=zn+Yn;break;default:i+=u}}return i}function Jn(t){return t+zn+Gn}function Qn(t){var e=t.length;if(E(e>=2,"Invalid path "+t),2===e)return E(t.charAt(0)===zn&&t.charAt(1)===Gn,"Non-empty path "+t+" had length 2"),mt.et;for(var i=e-2,n=[],r="",u=0;u<e;){var s=t.indexOf(zn,u);switch((s<0||s>i)&&k('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case Gn:var o=t.substring(u,s),c=void 0;0===r.length?c=o:(c=r+=o,r=""),n.push(c);break;case Wn:r+=t.substring(u,s),r+="\0";break;case Yn:r+=t.substring(u,s+1);break;default:k('Invalid encoded resource path: "'+t+'"')}u=s+2}return new mt(n)}var Zn=function(){function t(t,e,i,n){this.batchId=t,this.jn=e,this.baseMutations=i,this.mutations=n,E(n.length>0,"Cannot create an empty mutation batch")}return t.prototype.Wt=function(t,e,i){e&&E(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var n=i.rs;E(n.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+n.length+").");for(var r=0;r<this.mutations.length;r++){var u=this.mutations[r];if(u.key.isEqual(t)){var s=n[r];e=u.Wt(e,s)}}return e},t.prototype.Gt=function(t,e){e&&E(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var i=0,n=this.baseMutations;i<n.length;i++)(o=n[i]).key.isEqual(t)&&(e=o.Gt(e,e,this.jn));for(var r=e,u=0,s=this.mutations;u<s.length;u++){var o;(o=s[u]).key.isEqual(t)&&(e=o.Gt(e,r,this.jn))}return e},t.prototype.us=function(t){var e=this,i=t;return this.mutations.forEach((function(n){var r=e.Gt(n.key,t.get(n.key));r&&(i=i.lt(n.key,r))})),i},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),li())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&D(this.mutations,t.mutations)&&D(this.baseMutations,t.baseMutations)},t}(),ti=function(){function t(t,e,i,n,r){this.batch=t,this.ss=e,this.rs=i,this.streamToken=n,this.os=r}return t.from=function(e,i,n,r){E(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var u=nn(),s=e.mutations,o=0;o<s.length;o++)u=u.lt(s[o].key,n[o].version);return new t(e,i,n,r,u)},t}(),ei=function(){function t(){this.hs=new kt(ni.Bn),this.cs=new kt(ni.as)}return t.prototype.J=function(){return this.hs.J()},t.prototype.fs=function(t,e){var i=new ni(t,e);this.hs=this.hs.add(i),this.cs=this.cs.add(i)},t.prototype.ls=function(t,e){var i=this;t.forEach((function(t){return i.fs(t,e)}))},t.prototype.ds=function(t,e){this.vs(new ni(t,e))},t.prototype.ws=function(t,e){var i=this;t.forEach((function(t){return i.ds(t,e)}))},t.prototype.ms=function(t){var e=this,i=bt.EMPTY,n=new ni(i,t),r=new ni(i,t+1),u=[];return this.cs.Lt([n,r],(function(t){e.vs(t),u.push(t.key)})),u},t.prototype.ps=function(){var t=this;this.hs.forEach((function(e){return t.vs(e)}))},t.prototype.vs=function(t){this.hs=this.hs.delete(t),this.cs=this.cs.delete(t)},t.prototype.gs=function(t){var e=bt.EMPTY,i=new ni(e,t),n=new ni(e,t+1),r=li();return this.cs.Lt([i,n],(function(t){r=r.add(t.key)})),r},t.prototype.bs=function(t){var e=new ni(t,0),i=this.hs.Mt(e);return null!==i&&t.isEqual(i.key)},t}(),ni=function(){function t(t,e){this.key=t,this.ys=e}return t.Bn=function(t,e){return bt.G(t.key,e.key)||A(t.ys,e.ys)},t.as=function(t,e){return A(t.ys,e.ys)||bt.G(t.key,e.key)},t}(),ii=function(){function t(t){this._s=t,this.Is={}}return t.prototype.get=function(t){var e=this._s(t),i=this.Is[e];if(void 0!==i)for(var n=0,r=i;n<r.length;n++){var u=r[n],s=u[0],o=u[1];if(s.isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var i=this._s(t),n=this.Is[i];if(void 0!==n){for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return void(n[r]=[t,e]);n.push([t,e])}else this.Is[i]=[[t,e]]},t.prototype.delete=function(t){var e=this._s(t),i=this.Is[e];if(void 0===i)return!1;for(var n=0;n<i.length;n++)if(i[n][0].isEqual(t))return 1===i.length?delete this.Is[e]:i.splice(n,1),!0;return!1},t.prototype.forEach=function(t){z(this.Is,(function(e,i){for(var n=0,r=i;n<r.length;n++){var u=r[n],s=u[0],o=u[1];t(s,o)}}))},t.prototype.J=function(){return G(this.Is)},t}(),ri=function(){function t(t){var e=this;this.Ts=null,this.Es=null,this.result=void 0,this.error=void 0,this.Rs=!1,this.As=!1,t((function(t){e.Rs=!0,e.result=t,e.Ts&&e.Ts(t)}),(function(t){e.Rs=!0,e.error=t,e.Es&&e.Es(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,i){var n=this;return this.As&&k("Called next() or catch() twice for PersistencePromise"),this.As=!0,this.Rs?this.error?this.Ds(i,this.error):this.Ps(e,this.result):new t((function(t,r){n.Ts=function(i){n.Ps(e,i).next(t,r)},n.Es=function(e){n.Ds(i,e).next(t,r)}}))},t.prototype.Ss=function(){var t=this;return new Promise((function(e,i){t.next(e,i)}))},t.prototype.Cs=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(e){return t.reject(e)}},t.prototype.Ps=function(e,i){return e?this.Cs((function(){return e(i)})):t.resolve(i)},t.prototype.Ds=function(e,i){return e?this.Cs((function(){return e(i)})):t.reject(i)},t.resolve=function(e){return new t((function(t,i){t(e)}))},t.reject=function(e){return new t((function(t,i){i(e)}))},t.ks=function(e){return new t((function(t,i){var n=0,r=0,u=!1;e.forEach((function(e){++n,e.next((function(){++r,u&&r===n&&t()}),(function(t){return i(t)}))})),u=!0,r===n&&t()}))},t.Vs=function(e){for(var i=t.resolve(!1),n=function(e){i=i.next((function(i){return i?t.resolve(i):e()}))},r=0,u=e;r<u.length;r++)n(u[r]);return i},t.forEach=function(t,e){var i=this,n=[];return t.forEach((function(t,r){n.push(e.call(i,t,r))})),this.ks(n)},t}(),oi=function(){function t(){this.Ns=new ii((function(t){return t.toString()})),this.Os=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return E(void 0!==this.Fs,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Fs},set:function(t){E(void 0===this.Fs||this.Fs.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Fs=t},enumerable:!0,configurable:!0}),t.prototype.Us=function(t,e){this.xs(),this.readTime=e,this.Ns.set(t.key,t)},t.prototype.js=function(t,e){this.xs(),e&&(this.readTime=e),this.Ns.set(t,null)},t.prototype.Ls=function(t,e){this.xs();var i=this.Ns.get(e);return void 0!==i?ri.resolve(i):this.Bs(t,e)},t.prototype.getEntries=function(t,e){return this.Ms(t,e)},t.prototype.apply=function(t){return this.xs(),this.Os=!0,this.qs(t)},t.prototype.xs=function(){E(!this.Os,"Changes have already been applied.")},t}(),si="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ai=function(){function t(){this.Qs=[]}return t.prototype.Gs=function(t){this.Qs.push(t)},t.prototype.Ws=function(){this.Qs.forEach((function(t){return t()}))},t}(),ui=function(){function e(t){this.db=t,12.2===e.zs(f.getUA())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.Ks=function(t,i,n){return E(e.Hs(),"IndexedDB not supported in current environment."),_("SimpleDb","Opening database:",t),new ri((function(r,u){var s=window.indexedDB.open(t,i);s.onsuccess=function(t){var i=t.target.result;r(new e(i))},s.onblocked=function(){u(new M(R.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?u(new M(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(e)},s.onupgradeneeded=function(e){_("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var i=e.target.result;n.createOrUpgrade(i,s.transaction,e.oldVersion,Yi).next((function(){_("SimpleDb","Database upgrade to version "+Yi+" complete")}))}})).Ss()},e.delete=function(t){return _("SimpleDb","Removing database:",t),di(window.indexedDB.deleteDatabase(t)).Ss()},e.Hs=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.Js())return!0;if(void 0===window.navigator)return!1;var t=f.getUA(),i=e.zs(t),n=0<i&&i<10,r=e.Ys(t),u=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||u)},e.Js=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.Xs)},e.$s=function(t,e){return t.store(e)},e.zs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Ys=function(t){var e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.Zs=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,i){return l.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,c,h;return l.__generator(this,(function(a){switch(a.label){case 0:n=t.startsWith("readonly"),r=t.endsWith("idempotent"),s=0,o=function(){var t,o,h,a;return l.__generator(this,(function(u){switch(u.label){case 0:++s,t=hi.open(c.db,n?"readonly":"readwrite",e),u.label=1;case 1:return u.trys.push([1,3,,4]),(o=i(t).catch((function(e){return t.abort(e),ri.reject(e)})).Ss()).catch((function(){})),[4,t.to];case 2:return u.sent(),[2,{value:o}];case 3:return h=u.sent(),a=r&&"FirebaseError"!==h.name&&s<3,_("SimpleDb","Transaction failed with error: %s. Retrying: %s.",h.message,a),a?[3,4]:[2,{value:Promise.reject(h)}];case 4:return[2]}}))},c=this,a.label=1;case 1:return[5,o()];case 2:return"object"==typeof(h=a.sent())?[2,h.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),ci=function(){function t(t){this.no=t,this.io=!1,this.eo=null}return Object.defineProperty(t.prototype,"Rs",{get:function(){return this.io},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ro",{get:function(){return this.eo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.no=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.io=!0},t.prototype.uo=function(t){this.eo=t},t.prototype.delete=function(){return di(this.no.delete())},t}(),hi=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.so=new $n,this.transaction.oncomplete=function(){e.so.resolve()},this.transaction.onabort=function(){t.error?e.so.reject(t.error):e.so.resolve()},this.transaction.onerror=function(t){var i=vi(t.target.error);e.so.reject(i)}}return t.open=function(e,i,n){return new t(e.transaction(n,i))},Object.defineProperty(t.prototype,"to",{get:function(){return this.so.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.so.reject(t),this.aborted||(_("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return E(!!e,"Object store not part of transaction: "+t),new fi(e)},t}(),fi=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var i;return void 0!==e?(_("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(_("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),di(i)},t.prototype.add=function(t){return _("SimpleDb","ADD",this.store.name,t,t),di(this.store.add(t))},t.prototype.get=function(t){var e=this;return di(this.store.get(t)).next((function(i){return void 0===i&&(i=null),_("SimpleDb","GET",e.store.name,t,i),i}))},t.prototype.delete=function(t){return _("SimpleDb","DELETE",this.store.name,t),di(this.store.delete(t))},t.prototype.count=function(){return _("SimpleDb","COUNT",this.store.name),di(this.store.count())},t.prototype.oo=function(t,e){var i=this.cursor(this.options(t,e)),n=[];return this.ho(i,(function(t,e){n.push(e)})).next((function(){return n}))},t.prototype.co=function(t,e){_("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,e);i.ao=!1;var n=this.cursor(i);return this.ho(n,(function(t,e,i){return i.delete()}))},t.prototype.fo=function(t,e){var i;e?i=t:(i={},e=t);var n=this.cursor(i);return this.ho(n,e)},t.prototype.lo=function(t){var e=this.cursor({});return new ri((function(i,n){e.onerror=function(t){var e=vi(t.target.error);n(e)},e.onsuccess=function(e){var n=e.target.result;n?t(n.primaryKey,n.value).next((function(t){t?n.continue():i()})):i()}}))},t.prototype.ho=function(t,e){var i=[];return new ri((function(n,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var u=new ci(r),s=e(r.primaryKey,r.value,u);if(s instanceof ri){var o=s.catch((function(t){return u.done(),ri.reject(t)}));i.push(o)}u.Rs?n():null===u.ro?r.continue():r.continue(u.ro)}else n()}})).next((function(){return ri.ks(i)}))},t.prototype.options=function(t,e){var i=void 0;return void 0!==t&&("string"==typeof t?i=t:(E(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:i,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var i=this.store.index(t.index);return t.ao?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function di(t){return new ri((function(e,i){t.onsuccess=function(t){var i=t.target.result;e(i)},t.onerror=function(t){var e=vi(t.target.error);i(e)}}))}var pi=!1;function vi(t){var e=ui.zs(f.getUA());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var n=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pi||(pi=!0,setTimeout((function(){throw n}),0)),n}}return t}var mi=function(){function t(t,e,i,n){this.userId=t,this.serializer=e,this.do=i,this.vo=n,this.wo={}}return t.mo=function(e,i,n,r){return E(""!==e.uid,"UserID must not be an empty string."),new t(e.l()?e.uid:"",i,n,r)},t.prototype.po=function(t){var e=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bi(t).fo({index:Zi.userMutationsIndex,range:i},(function(t,i,n){e=!1,n.done()})).next((function(){return e}))},t.prototype.bo=function(t,e,i){return this.yo(t).next((function(e){return e.lastStreamToken=i.toBase64(),_i(t).put(e)}))},t.prototype._o=function(t){return this.yo(t).next((function(t){return Fe.fromBase64String(t.lastStreamToken)}))},t.prototype.Io=function(t,e){return this.yo(t).next((function(i){return i.lastStreamToken=e.toBase64(),_i(t).put(i)}))},t.prototype.To=function(t,e,i,n){var r=this,u=wi(t),s=bi(t);return s.add({}).next((function(o){E("number"==typeof o,"Auto-generated key is not a number");for(var c=new Zn(o,e,i,n),l=r.serializer.Eo(r.userId,c),a=[],h=new kt((function(t,e){return A(t.nt(),e.nt())})),f=0,d=n;f<d.length;f++){var v=d[f],m=hr.key(r.userId,v.key.path,o);h=h.add(v.key.path.H()),a.push(s.put(l)),a.push(u.put(m,hr.PLACEHOLDER))}return h.forEach((function(e){a.push(r.do.Ro(t,e))})),t.Gs((function(){r.wo[o]=c.keys()})),ri.ks(a).next((function(){return c}))}))},t.prototype.Ao=function(t,e){var i=this;return bi(t).get(e).next((function(t){return t?(E(t.userId===i.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.serializer.Do(t)):null}))},t.prototype.Po=function(t,e){var i=this;return this.wo[e]?ri.resolve(this.wo[e]):this.Ao(t,e).next((function(t){if(t){var n=t.keys();return i.wo[e]=n,n}return null}))},t.prototype.So=function(t,e){var i=this,n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]),u=null;return bi(t).fo({index:Zi.userMutationsIndex,range:r},(function(t,e,r){e.userId===i.userId&&(E(e.batchId>=n,"Should have found mutation after "+n),u=i.serializer.Do(e)),r.done()})).next((function(){return u}))},t.prototype.Co=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return bi(t).fo({index:Zi.userMutationsIndex,range:e,reverse:!0},(function(t,e,n){i=e.batchId,n.done()})).next((function(){return i}))},t.prototype.ko=function(t){var e=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bi(t).oo(Zi.userMutationsIndex,i).next((function(t){return t.map((function(t){return e.serializer.Do(t)}))}))},t.prototype.Vo=function(t,e){var i=this,n=hr.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),u=[];return wi(t).fo({range:r},(function(n,r,s){var o=n[0],c=n[1],l=n[2],a=Qn(c);if(o===i.userId&&e.path.isEqual(a))return bi(t).get(l).next((function(t){if(!t)throw k("Dangling document-mutation reference found: "+n+" which points to "+l);E(t.userId===i.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),u.push(i.serializer.Do(t))}));s.done()})).next((function(){return u}))},t.prototype.No=function(t,e){var i=this,n=new kt(A),r=[];return e.forEach((function(e){var u=hr.prefixForPath(i.userId,e.path),s=IDBKeyRange.lowerBound(u),o=wi(t).fo({range:s},(function(t,r,u){var s=t[0],o=t[1],c=t[2],l=Qn(o);s===i.userId&&e.path.isEqual(l)?n=n.add(c):u.done()}));r.push(o)})),ri.ks(r).next((function(){return i.Oo(t,n)}))},t.prototype.Fo=function(t,e){var i=this;E(!e.zn(),"Document queries shouldn't go down this path"),E(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,u=hr.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(u),o=new kt(A);return wi(t).fo({range:s},(function(t,e,u){var s=t[0],c=t[1],l=t[2],a=Qn(c);s===i.userId&&n.$(a)?a.length===r&&(o=o.add(l)):u.done()})).next((function(){return i.Oo(t,o)}))},t.prototype.Oo=function(t,e){var i=this,n=[],r=[];return e.forEach((function(e){r.push(bi(t).get(e).next((function(t){if(null===t)throw k("Dangling document-mutation reference found, which points to "+e);E(t.userId===i.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.push(i.serializer.Do(t))})))})),ri.ks(r).next((function(){return n}))},t.prototype.Uo=function(t,e){var i=this;return gi(t.xo,this.userId,e).next((function(n){return t.Gs((function(){i.jo(e.batchId)})),ri.forEach(n,(function(e){return i.vo.Lo(t,e)}))}))},t.prototype.jo=function(t){delete this.wo[t]},t.prototype.Bo=function(t){var e=this;return this.po(t).next((function(i){if(!i)return ri.resolve();var n=IDBKeyRange.lowerBound(hr.prefixForUser(e.userId)),r=[];return wi(t).fo({range:n},(function(t,i,n){if(t[0]===e.userId){var u=Qn(t[1]);r.push(u)}else n.done()})).next((function(){E(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(t){return t.nt()})))}))}))},t.prototype.bs=function(t,e){return yi(t,this.userId,e)},t.prototype.yo=function(t){var e=this;return _i(t).get(this.userId).next((function(t){return t||new Qi(e.userId,-1,"")}))},t}();function yi(t,e,i){var n=hr.prefixForPath(e,i.path),r=n[1],u=IDBKeyRange.lowerBound(n),s=!1;return wi(t).fo({range:u,ao:!0},(function(t,i,n){var u=t[0],o=t[1];t[2],u===e&&o===r&&(s=!0),n.done()})).next((function(){return s}))}function gi(t,e,i){var n=t.store(Zi.store),r=t.store(hr.store),u=[],s=IDBKeyRange.only(i.batchId),o=0,c=n.fo({range:s},(function(t,e,i){return o++,i.delete()}));u.push(c.next((function(){E(1===o,"Dangling document-mutation reference found: Missing batch "+i.batchId)})));for(var l=[],a=0,h=i.mutations;a<h.length;a++){var f=h[a],d=hr.key(e,f.key.path,i.batchId);u.push(r.delete(d)),l.push(f.key)}return ri.ks(u).next((function(){return l}))}function bi(t){return _r.$s(t,Zi.store)}function wi(t){return _r.$s(t,hr.store)}function _i(t){return _r.$s(t,Qi.store)}var Ii,Si,ki=1;(Si=Ii||(Ii={}))[Si.Mo=0]="__PRIVATE_QueryCache",Si[Si.qo=1]="__PRIVATE_SyncEngine";var Ei=function(){function t(t,e){this.Qo=t,E((t&ki)===t,"Generator ID "+t+" contains more than "+ki+" reserved bits"),this.Go(void 0!==e?e:this.Qo)}return t.prototype.next=function(){var t=this.Wo;return this.Wo+=1<<ki,t},t.prototype.after=function(t){return this.Go(t+(1<<ki)),this.next()},t.prototype.Go=function(t){E((t&ki)===this.Qo,"Cannot supply target ID from different generator ID"),this.Wo=t},t.zo=function(){return new t(Ii.Mo,2)},t.Ko=function(){return new t(Ii.qo)},t}(),Ti=function(){function t(t,e,i){this.Ho=t,this.Jo=e,this.do=i}return t.prototype.Yo=function(t,e){var i=this;return this.Jo.Vo(t,e).next((function(n){return i.Xo(t,e,n)}))},t.prototype.Xo=function(t,e,i){return this.Ho.Ls(t,e).next((function(t){for(var n=0,r=i;n<r.length;n++)t=r[n].Gt(e,t);return t}))},t.prototype.$o=function(t,e,i){var n=Qe();return e.forEach((function(t,e){for(var r=0,u=i;r<u.length;r++)e=u[r].Gt(t,e);n=n.lt(t,e)})),n},t.prototype.Zo=function(t,e){var i=this;return this.Ho.getEntries(t,e).next((function(e){return i.th(t,e)}))},t.prototype.th=function(t,e){var i=this;return this.Jo.No(t,e).next((function(n){var r=i.$o(t,e,n),u=Je();return r.forEach((function(t,e){e||(e=new fe(t,pt.B())),u=u.lt(t,e)})),u}))},t.prototype.nh=function(t,e,i){return e.zn()?this.ih(t,e.path):e._i()?this.eh(t,e,i):this.rh(t,e,i)},t.prototype.ih=function(t,e){return this.Yo(t,new bt(e)).next((function(t){var e=tn();return t instanceof he&&(e=e.lt(t.key,t)),e}))},t.prototype.eh=function(t,e,i){var n=this;E(e.path.J(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,u=tn();return this.do.uh(t,r).next((function(s){return ri.forEach(s,(function(s){var o=e.ai(s.child(r));return n.rh(t,o,i).next((function(t){t.forEach((function(t,e){u=u.lt(t,e)}))}))})).next((function(){return u}))}))},t.prototype.rh=function(t,e,i){var n,r,u=this;return this.Ho.nh(t,e,i).next((function(i){return n=i,u.Jo.Fo(t,e)})).next((function(e){return r=e,u.sh(t,r,n).next((function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var u=i[e],s=0,o=u.mutations;s<o.length;s++){var c=o[s],l=c.key,a=n.get(l),h=c.Gt(a,a,u.jn);n=h instanceof he?n.lt(l,h):n.remove(l)}}))})).next((function(){return n.forEach((function(t,i){e.matches(i)||(n=n.remove(t))})),n}))},t.prototype.sh=function(t,e,i){for(var n=li(),r=0,u=e;r<u.length;r++)for(var s=0,o=u[r].mutations;s<o.length;s++){var c=o[s];c instanceof qt&&null===i.get(c.key)&&(n=n.add(c.key))}var l=i;return this.Ho.getEntries(t,n).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof he&&(l=l.lt(t,e))})),l}))},t}(),Ai=function(){function t(t,e,i,n){this.targetId=t,this.fromCache=e,this.oh=i,this.hh=n}return t.ah=function(e,i){for(var n=li(),r=li(),u=0,s=i.docChanges;u<s.length;u++){var o=s[u];switch(o.type){case an.Bi:n=n.add(o.doc.key);break;case an.Mi:r=r.add(o.doc.key)}}return new t(e,i.fromCache,n,r)},t}(),Di="LocalStore",Ni=function(){function t(t,e,i){this.persistence=t,this.fh=e,this.lh=new ei,this.dh=new wt(A),this.vh=new ii((function(t){return t.canonicalId()})),this.wh=pt.MIN,E(t.mh,"LocalStore was passed an unstarted persistence implementation"),this.persistence.vo.ph(this.lh),this.Jo=t.gh(i),this.bh=t.yh(),this._h=t.Ih(),this.Th=new Ti(this.bh,this.Jo,this.persistence.Eh()),this.fh.Rh(this.Th)}return t.prototype.start=function(){return this.Ah()},t.prototype.Dh=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i,n,r=this;return l.__generator(this,(function(u){switch(u.label){case 0:return e=this.Jo,i=this.Th,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(n){var u;return r.Jo.ko(n).next((function(s){return u=s,e=r.persistence.gh(t),i=new Ti(r.bh,e,r.persistence.Eh()),e.ko(n)})).next((function(t){for(var e=[],r=[],s=li(),o=0,c=u;o<c.length;o++){var l=c[o];e.push(l.batchId);for(var a=0,h=l.mutations;a<h.length;a++){var f=h[a];s=s.add(f.key)}}for(var d=0,v=t;d<v.length;d++){l=v[d],r.push(l.batchId);for(var m=0,y=l.mutations;m<y.length;m++)f=y[m],s=s.add(f.key)}return i.Zo(n,s).next((function(t){return{Ph:t,Sh:e,Ch:r}}))}))}))];case 1:return n=u.sent(),this.Jo=e,this.Th=i,this.fh.Rh(this.Th),[2,n]}}))}))},t.prototype.kh=function(t){var e,i=this,n=ft.now(),r=t.reduce((function(t,e){return t.add(e.key)}),li());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(u){return i.Th.Zo(u,r).next((function(r){e=r;for(var s=[],o=0,c=t;o<c.length;o++){var l=c[o],a=l.sn(e.get(l.key));null!=a&&s.push(new qt(l.key,a,a.on(),Ft.exists(!0)))}return i.Jo.To(u,n,s,t)}))})).then((function(t){var i=t.us(e);return{batchId:t.batchId,Ns:i}}))},t.prototype.Vh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(i){return e.Jo.Po(i,t).next((function(t){return t?e.Th.Zo(i,t):ri.resolve(null)}))}))},t.prototype.bo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(i){var n=t.batch.keys(),r=e.bh.Nh({Oh:!0});return e.Jo.bo(i,t.batch,t.streamToken).next((function(){return e.Fh(i,t,r)})).next((function(){return r.apply(i)})).next((function(){return e.Jo.Bo(i)})).next((function(){return e.Th.Zo(i,n)}))}))},t.prototype.Uh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(i){var n;return e.Jo.Ao(i,t).next((function(t){return E(null!==t,"Attempt to reject nonexistent batch!"),n=t.keys(),e.Jo.Uo(i,t)})).next((function(){return e.Jo.Bo(i)})).next((function(){return e.Th.Zo(i,n)}))}))},t.prototype.Co=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.Jo.Co(e)}))},t.prototype._o=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.Jo._o(e)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(i){return e.Jo.Io(i,t)}))},t.prototype.xh=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t._h.xh(e)}))},t.prototype.jh=function(e){var i=this,n=e.Ni,r=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(u){var s=i.bh.Nh({Oh:!0});r=i.dh;var o=[];H(e.Zi,(function(e,s){var c=r.get(e);if(c){o.push(i._h.Lh(u,s.he,e).next((function(){return i._h.Bh(u,s.se,e)})));var l=s.resumeToken;if(l.Nn()>0){var a=c.Fi(l,n).Oi(u.Mh);r=r.lt(e,a),t.qh(c,a,s)&&o.push(i._h.Qh(u,a))}}}));var c=Je(),l=li();if(e.ne.forEach((function(t,e){l=l.add(t)})),o.push(s.getEntries(u,l).next((function(t){e.ne.forEach((function(r,l){var a=t.get(r);l instanceof fe&&l.version.isEqual(pt.MIN)?(s.js(r,n),c=c.lt(r,l)):null==a||l.version.h(a.version)>0||0===l.version.h(a.version)&&a.hasPendingWrites?(E(!pt.MIN.isEqual(n),"Cannot add a document when the remote version is zero"),s.Us(l,n),c=c.lt(r,l)):_(Di,"Ignoring outdated watch update for ",r,". Current version:",a.version," Watch version:",l.version),e.ie.has(r)&&o.push(i.persistence.vo.Gh(u,r))}))}))),!n.isEqual(pt.MIN)){var a=i._h.xh(u).next((function(t){return E(n.h(t)>=0,"Watch stream reverted to previous snapshot?? "+n+" < "+t),i._h.Wh(u,u.Mh,n)}));o.push(a)}return ri.ks(o).next((function(){return s.apply(u)})).next((function(){return i.Th.th(u,c)}))})).then((function(t){return i.dh=r,t}))},t.qh=function(t,e,i){return E(e.resumeToken.Nn()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Nn()||e.Ni.M()-t.Ni.M()>=this.zh||i.se.size+i.oe.size+i.he.size>0},t.prototype.Kh=function(t){for(var e=this,i=0,n=t;i<n.length;i++){var r=n[i],u=r.targetId;if(this.lh.ls(r.oh,u),this.lh.ws(r.hh,u),!r.fromCache){var s=this.dh.get(u);E(null!==s,"Can't set limbo-free snapshot version for unknown target: "+u);var o=s.Ni,c=s.Ui(o);this.dh=this.dh.lt(u,c)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(i){return ri.forEach(t,(function(t){return ri.forEach(t.hh,(function(t){return e.persistence.vo.ds(i,t)}))}))}))},t.prototype.Hh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(i){return void 0===t&&(t=-1),e.Jo.So(i,t)}))},t.prototype.Jh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(i){return e.Th.Yo(i,t)}))},t.prototype.Yh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(i){var n;return e._h.Xh(i,t).next((function(r){return r?(n=r,ri.resolve(n)):e._h.$h(i).next((function(r){return n=new ze(t,r,Ve.Si,i.Mh),e._h.Zh(i,n).next((function(){return n}))}))}))})).then((function(i){return null===e.dh.get(i.targetId)&&(e.dh=e.dh.lt(i.targetId,i),e.vh.set(t,i.targetId)),i}))},t.prototype.Xh=function(t,e){var i=this.vh.get(e);return void 0!==i?ri.resolve(this.dh.get(i)):this._h.Xh(t,e)},t.prototype.tc=function(t,e){var i=this,n=this.dh.get(t);E(null!==n,"Tried to release nonexistent target: "+t);var r=e?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",r,(function(r){var u=i.lh.ms(t);return e?ri.resolve():ri.forEach(u,(function(t){return i.persistence.vo.ds(r,t)})).next((function(){i.persistence.vo.removeTarget(r,n)}))})).then((function(){i.dh=i.dh.remove(t),i.vh.delete(n.target)}))},t.prototype.nc=function(t,e){var i=this,n=pt.MIN,r=li();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(u){return i.Xh(u,t.li()).next((function(t){if(t)return n=t.lastLimboFreeSnapshotVersion,i._h.ic(u,t.targetId).next((function(t){r=t}))})).next((function(){return i.fh.nh(u,t,e?n:pt.MIN,e?r:li())})).next((function(t){return{documents:t,ec:r}}))}))},t.prototype.rc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(i){return e._h.ic(i,t)}))},t.prototype.uc=function(){return this.persistence.uc()},t.prototype.sc=function(t){this.Jo.jo(t)},t.prototype.oc=function(t){this.persistence.oc(t)},t.prototype.Fh=function(t,e,i){var n=this,r=e.batch,u=r.keys(),s=ri.resolve();return u.forEach((function(n){s=s.next((function(){return i.Ls(t,n)})).next((function(t){var u=t,s=e.os.get(n);E(null!==s,"ackVersions should contain every doc in the write."),(!u||u.version.h(s)<0)&&((u=r.Wt(n,u,e))?i.Us(u,e.ss):E(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return n.Jo.Uo(t,r)}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(i){return t.cc(i,e.dh)}))},t.prototype.ac=function(t){var e=this,i=this.dh.get(t);return i?Promise.resolve(i.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(i){return e._h.Ye(i,t).next((function(t){return t?t.target:null}))}))},t.prototype.fc=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.bh.fc(e,t.wh)})).then((function(e){var i=e.lc,n=e.readTime;return t.wh=n,i}))},t.prototype.Ah=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e=this;return l.__generator(this,(function(i){switch(i.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.bh.dc(t)}))];case 1:return t.wh=i.sent(),[2]}}))}))},t.zh=3e8,t}();function Ci(t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){if(t.code!==R.FAILED_PRECONDITION||t.message!==si)throw t;return _(Di,"Unexpectedly lost primary lease"),[2]}))}))}function Oi(t,e){var i=t[0],n=t[1],r=e[0],u=e[1],s=A(i,r);return 0===s?A(n,u):s}var xi=function(){function t(t){this.vc=t,this.buffer=new kt(Oi),this.wc=0}return t.prototype.mc=function(){return++this.wc},t.prototype.pc=function(t){var e=[t,this.mc()];if(this.buffer.size<this.vc)this.buffer=this.buffer.add(e);else{var i=this.buffer.last();Oi(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Pi={gc:!1,bc:0,yc:0,_c:0},Ri=function(){function t(t,e,i){this.Ic=t,this.Tc=e,this.Ec=i}return t.Rc=function(e){return new t(e,t.Ac,t.Dc)},t.Pc=-1,t.Sc=1048576,t.Cc=41943040,t.Ac=10,t.Dc=1e3,t.kc=new t(t.Cc,t.Ac,t.Dc),t.DISABLED=new t(t.Pc,0,0),t}(),Mi=function(){function t(t,e,i){this.Vc=t,this.Pu=e,this.Nc=i,this.Oc=!1,this.Fc=null}return t.prototype.start=function(){E(null===this.Fc,"Cannot start an already started LruScheduler"),this.Vc.params.Ic!==Ri.Pc&&this.Uc()},t.prototype.stop=function(){this.Fc&&(this.Fc.cancel(),this.Fc=null)},Object.defineProperty(t.prototype,"mh",{get:function(){return null!==this.Fc},enumerable:!0,configurable:!0}),t.prototype.Uc=function(){var t=this;E(null===this.Fc,"Cannot schedule GC while a task is pending");var e=this.Oc?3e5:6e4;_("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Fc=this.Pu.Yu(jn.Au,e,(function(){return t.Fc=null,t.Oc=!0,t.Nc.hc(t.Vc).then((function(){return t.Uc()})).catch(Ci)}))},t}(),Li=function(){function t(t,e){this.xc=t,this.params=e}return t.prototype.jc=function(t,e){return this.xc.Lc(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Bc=function(t,e){var i=this;if(0===e)return ri.resolve(Un.gu);var n=new xi(e);return this.xc.Le(t,(function(t){return n.pc(t.sequenceNumber)})).next((function(){return i.xc.Mc(t,(function(t){return n.pc(t)}))})).next((function(){return n.maxValue}))},t.prototype.qc=function(t,e,i){return this.xc.qc(t,e,i)},t.prototype.Qc=function(t,e){return this.xc.Qc(t,e)},t.prototype.cc=function(t,e){var i=this;return this.params.Ic===Ri.Pc?(_("LruGarbageCollector","Garbage collection skipped; disabled"),ri.resolve(Pi)):this.Gc(t).next((function(n){return n<i.params.Ic?(_("LruGarbageCollector","Garbage collection skipped; Cache size "+n+" is lower than threshold "+i.params.Ic),Pi):i.Wc(t,e)}))},t.prototype.Gc=function(t){return this.xc.Gc(t)},t.prototype.Wc=function(t,e){var i,n,r,u,s,c,l,h=this,a=Date.now();return this.jc(t,this.params.Tc).next((function(e){return e>h.params.Ec?(_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Ec+" from "+e),n=h.params.Ec):n=e,u=Date.now(),h.Bc(t,n)})).next((function(n){return i=n,s=Date.now(),h.qc(t,i,e)})).next((function(e){return r=e,c=Date.now(),h.Qc(t,i)})).next((function(t){return l=Date.now(),y()<=o.DEBUG&&_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(u-a)+"ms\n\tDetermined least recently used "+n+" in "+(s-u)+"ms\n\tRemoved "+r+" targets in "+(c-s)+"ms\n\tRemoved "+t+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-a)+"ms"),ri.resolve({gc:!0,bc:n,yc:r,_c:t})}))},t}(),ji=function(){function t(t,e){this.vo=t,this.serializer=e,this.zc=Ei.zo()}return t.prototype.$h=function(t){var e=this;return this.Kc(t).next((function(i){return i.highestTargetId=e.zc.after(i.highestTargetId),e.Hc(t,i).next((function(){return i.highestTargetId}))}))},t.prototype.xh=function(t){return this.Kc(t).next((function(t){return pt.L(new ft(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Jc=function(t){return Fi(t.xo)},t.prototype.Wh=function(t,e,i){var n=this;return this.Kc(t).next((function(r){return r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.q()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),n.Hc(t,r)}))},t.prototype.Zh=function(t,e){var i=this;return this.Yc(t,e).next((function(){return i.Kc(t).next((function(n){return n.targetCount+=1,i.Xc(e,n),i.Hc(t,n)}))}))},t.prototype.Qh=function(t,e){return this.Yc(t,e)},t.prototype.$c=function(t,e){var i=this;return this.Zc(t,e.targetId).next((function(){return Vi(t).delete(e.targetId)})).next((function(){return i.Kc(t)})).next((function(e){return E(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,i.Hc(t,e)}))},t.prototype.qc=function(t,e,i){var n=this,r=0,u=[];return Vi(t).fo((function(s,o){var c=n.serializer.ta(o);c.sequenceNumber<=e&&null===i.get(c.targetId)&&(r++,u.push(n.$c(t,c)))})).next((function(){return ri.ks(u)})).next((function(){return r}))},t.prototype.Le=function(t,e){var i=this;return Vi(t).fo((function(t,n){var r=i.serializer.ta(n);e(r)}))},t.prototype.Kc=function(t){return Bi(t.xo)},t.prototype.Hc=function(t,e){return(i=t,_r.$s(i,ar.store)).put(ar.key,e);var i},t.prototype.Yc=function(t,e){return Vi(t).put(this.serializer.na(e))},t.prototype.Xc=function(t,e){var i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},t.prototype.ia=function(t){return this.Kc(t).next((function(t){return t.targetCount}))},t.prototype.Xh=function(t,e){var i=this,n=e.canonicalId(),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),u=null;return Vi(t).fo({range:r,index:or.queryTargetsIndexName},(function(t,n,r){var s=i.serializer.ta(n);e.isEqual(s.target)&&(u=s,r.done())})).next((function(){return u}))},t.prototype.Bh=function(t,e,i){var n=this,r=[],u=Ui(t);return e.forEach((function(e){var s=Kn(e.path);r.push(u.put(new sr(i,s))),r.push(n.vo.fs(t,e))})),ri.ks(r)},t.prototype.Lh=function(t,e,i){var n=this,r=Ui(t);return ri.forEach(e,(function(e){var u=Kn(e.path);return ri.ks([r.delete([i,u]),n.vo.ds(t,e)])}))},t.prototype.Zc=function(t,e){var i=Ui(t),n=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(n)},t.prototype.ic=function(t,e){var i=IDBKeyRange.bound([e],[e+1],!1,!0),n=Ui(t),r=li();return n.fo({range:i,ao:!0},(function(t,e,i){var n=Qn(t[1]),u=new bt(n);r=r.add(u)})).next((function(){return r}))},t.prototype.bs=function(t,e){var i=Kn(e.path),n=IDBKeyRange.bound([i],[N(i)],!1,!0),r=0;return Ui(t).fo({index:sr.documentTargetsIndex,ao:!0,range:n},(function(t,e,i){var n=t[0];t[1],0!==n&&(r++,i.done())})).next((function(){return r>0}))},t.prototype.Ye=function(t,e){var i=this;return Vi(t).get(e).next((function(t){return t?i.serializer.ta(t):null}))},t}();function Vi(t){return _r.$s(t,or.store)}function Bi(t){return ui.$s(t,ar.store).get(ar.key).next((function(t){return E(null!==t,"Missing metadata row."),t}))}function Fi(t){return Bi(t).next((function(t){return t.highestListenSequenceNumber}))}function Ui(t){return _r.$s(t,sr.store)}var $i=function(){function t(t,e){this.serializer=t,this.do=e}return t.prototype.Us=function(t,e,i){return Hi(t).put(zi(e),i)},t.prototype.js=function(t,e){var i=Hi(t),n=zi(e);return i.delete(n)},t.prototype.updateMetadata=function(t,e){var i=this;return this.getMetadata(t).next((function(n){return n.byteSize+=e,i.ea(t,n)}))},t.prototype.Ls=function(t,e){var i=this;return Hi(t).get(zi(e)).next((function(t){return i.ra(t)}))},t.prototype.ua=function(t,e){var i=this;return Hi(t).get(zi(e)).next((function(t){var e=i.ra(t);return e?{sa:e,size:Gi(t)}:null}))},t.prototype.getEntries=function(t,e){var i=this,n=Qe();return this.oa(t,e,(function(t,e){var r=i.ra(e);n=n.lt(t,r)})).next((function(){return n}))},t.prototype.ha=function(t,e){var i=this,n=Qe(),r=new wt(bt.G);return this.oa(t,e,(function(t,e){var u=i.ra(e);u?(n=n.lt(t,u),r=r.lt(t,Gi(e))):(n=n.lt(t,null),r=r.lt(t,0))})).next((function(){return{ca:n,aa:r}}))},t.prototype.oa=function(t,e,i){if(e.J())return ri.resolve();var n=IDBKeyRange.bound(e.first().path.tt(),e.last().path.tt()),r=e.bt(),u=r.Rt();return Hi(t).fo({range:n},(function(t,e,n){for(var s=bt.at(t);u&&bt.G(u,s)<0;)i(u,null),u=r.Rt();u&&u.isEqual(s)&&(i(u,e),u=r.At()?r.Rt():null),u?n.uo(u.path.tt()):n.done()})).next((function(){for(;u;)i(u,null),u=r.At()?r.Rt():null}))},t.prototype.nh=function(t,e,i){var n=this;E(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=tn(),u=e.path.length+1,s={};if(i.isEqual(pt.MIN)){var o=e.path.tt();s.range=IDBKeyRange.lowerBound(o)}else{var c=e.path.tt(),l=this.serializer.fa(i);s.range=IDBKeyRange.lowerBound([c,l],!0),s.index=ir.collectionReadTimeIndex}return Hi(t).fo(s,(function(t,i,s){if(t.length===u){var o=n.serializer.la(i);e.path.$(o.key.path)?o instanceof he&&e.matches(o)&&(r=r.lt(o.key,o)):s.done()}})).next((function(){return r}))},t.prototype.fc=function(t,e){var i=this,n=Je(),r=this.serializer.fa(e),u=Hi(t),s=IDBKeyRange.lowerBound(r,!0);return u.fo({index:ir.readTimeIndex,range:s},(function(t,e){var u=i.serializer.la(e);n=n.lt(u.key,u),r=e.readTime})).next((function(){return{lc:n,readTime:i.serializer.da(r)}}))},t.prototype.dc=function(t){var e=this,i=Hi(t),n=pt.MIN;return i.fo({index:ir.readTimeIndex,reverse:!0},(function(t,i,r){i.readTime&&(n=e.serializer.da(i.readTime)),r.done()})).next((function(){return n}))},t.prototype.Nh=function(e){return new t.va(this,!!e&&e.Oh)},t.prototype.wa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return qi(t).get(rr.key).next((function(t){return E(!!t,"Missing document cache metadata"),t}))},t.prototype.ea=function(t,e){return qi(t).put(rr.key,e)},t.prototype.ra=function(t){if(t){var e=this.serializer.la(t);return e instanceof fe&&e.version.isEqual(pt.B())?null:e}return null},t.va=function(t){function e(e,i){var n=t.call(this)||this;return n.ma=e,n.Oh=i,n.pa=new ii((function(t){return t.toString()})),n}return l.__extends(e,t),e.prototype.qs=function(t){var e=this,i=[],n=0,r=new kt((function(t,e){return A(t.nt(),e.nt())}));return this.Ns.forEach((function(u,s){var o=e.pa.get(u);if(E(void 0!==o,"Cannot modify a document that wasn't read (for "+u+")"),s){E(!e.readTime.isEqual(pt.MIN),"Cannot add a document with a read time of zero");var c=e.ma.serializer.ga(s,e.readTime);r=r.add(u.path.H());var l=Gi(c);n+=l-o,i.push(e.ma.Us(t,u,c))}else if(n-=o,e.Oh){var a=e.ma.serializer.ga(new fe(u,pt.B()),e.readTime);i.push(e.ma.Us(t,u,a))}else i.push(e.ma.js(t,u))})),r.forEach((function(n){i.push(e.ma.do.Ro(t,n))})),i.push(this.ma.updateMetadata(t,n)),ri.ks(i)},e.prototype.Bs=function(t,e){var i=this;return this.ma.ua(t,e).next((function(t){return null===t?(i.pa.set(e,0),null):(i.pa.set(e,t.size),t.sa)}))},e.prototype.Ms=function(t,e){var i=this;return this.ma.ha(t,e).next((function(t){var e=t.ca;return t.aa.forEach((function(t,e){i.pa.set(t,e)})),e}))},e}(oi),t}();function qi(t){return _r.$s(t,rr.store)}function Hi(t){return _r.$s(t,ir.store)}function zi(t){return t.path.tt()}function Gi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw k("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var tr=function(){function t(){this.ba=new Wi}return t.prototype.Ro=function(t,e){return this.ba.add(e),ri.resolve()},t.prototype.uh=function(t,e){return ri.resolve(this.ba.getEntries(e))},t}(),Wi=function(){function t(){this.index={}}return t.prototype.add=function(t){E(t.length%2==1,"Expected a collection path.");var e=t.X(),i=t.H(),n=this.index[e]||new kt(mt.G),r=!n.has(i);return this.index[e]=n.add(i),r},t.prototype.has=function(t){var e=t.X(),i=t.H(),n=this.index[e];return n&&n.has(i)},t.prototype.getEntries=function(t){return(this.index[t]||new kt(mt.G)).tt()},t}(),Yi=9,Ki=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,i,n){var r=this;E(i<n&&i>=0&&n<=Yi,"Unexpected schema upgrade from v"+i+" to v{toVersion}.");var u=new hi(e);i<1&&n>=1&&(function(t){t.createObjectStore(Ji.store)}(t),function(t){t.createObjectStore(Qi.store,{keyPath:Qi.keyPath}),t.createObjectStore(Zi.store,{keyPath:Zi.keyPath,autoIncrement:!0}).createIndex(Zi.userMutationsIndex,Zi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hr.store)}(t),cr(t),function(t){t.createObjectStore(ir.store)}(t));var s=ri.resolve();return i<3&&n>=3&&(0!==i&&(function(t){t.deleteObjectStore(sr.store),t.deleteObjectStore(or.store),t.deleteObjectStore(ar.store)}(t),cr(t)),s=s.next((function(){return function(t){var e=t.store(ar.store),i=new ar(0,0,pt.MIN.q(),0);return e.put(ar.key,i)}(u)}))),i<4&&n>=4&&(0!==i&&(s=s.next((function(){return function(t,e){return e.store(Zi.store).oo().next((function(i){t.deleteObjectStore(Zi.store),t.createObjectStore(Zi.store,{keyPath:Zi.keyPath,autoIncrement:!0}).createIndex(Zi.userMutationsIndex,Zi.userMutationsKeyPath,{unique:!0});var n=e.store(Zi.store),r=i.map((function(t){return n.put(t)}));return ri.ks(r)}))}(t,u)}))),s=s.next((function(){!function(t){t.createObjectStore(lr.store,{keyPath:lr.keyPath})}(t)}))),i<5&&n>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(u)}))),i<6&&n>=6&&(s=s.next((function(){return function(t){t.createObjectStore(rr.store)}(t),r.addDocumentGlobal(u)}))),i<7&&n>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(u)}))),i<8&&n>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,u)}))),i<9&&n>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ir.store);e.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),e.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(ir.store).fo((function(t,i){e+=Gi(i)})).next((function(){var i=new rr(e);return t.store(rr.store).put(rr.key,i)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,i=t.store(Qi.store),n=t.store(Zi.store);return i.oo().next((function(i){return ri.forEach(i,(function(i){var r=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return n.oo(Zi.userMutationsIndex,r).next((function(n){return ri.forEach(n,(function(n){E(n.userId===i.userId,"Cannot process batch "+n.batchId+" from unexpected user");var r=e.serializer.Do(n);return gi(t,i.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(sr.store),i=t.store(ir.store);return Fi(t).next((function(t){var n=[];return i.fo((function(i,r){var u=new mt(i),s=function(t){return[0,Kn(t)]}(u);n.push(e.get(s).next((function(i){return i?ri.resolve():function(i){return e.put(new sr(0,Kn(i),t))}(u)})))})).next((function(){return ri.ks(n)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ur.store,{keyPath:ur.keyPath});var i=e.store(ur.store),n=new Wi,r=function(t){if(n.add(t)){var e=t.X(),r=t.H();return i.put({collectionId:e,parent:Kn(r)})}};return e.store(ir.store).fo({ao:!0},(function(t,e){var i=new mt(t);return r(i.H())})).next((function(){return e.store(hr.store).fo({ao:!0},(function(t,e){t[0];var i=t[1],n=(t[2],Qn(i));return r(n.H())}))}))},t}(),Xi=function(t,e){this.seconds=t,this.nanoseconds=e},Ji=function(){function t(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}return t.store="owner",t.key="owner",t}(),Qi=function(){function t(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}return t.store="mutationQueues",t.keyPath="userId",t}(),Zi=function(){function t(t,e,i,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),hr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Kn(e)]},t.key=function(t,e,i){return[t,Kn(e),i]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),er=function(t,e){this.path=t,this.readTime=e},nr=function(t,e){this.path=t,this.version=e},ir=function(){function t(t,e,i,n,r,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=n,this.readTime=r,this.parentPath=u}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),rr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),or=function(){function t(t,e,i,n,r,u,s){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=n,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=u,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),sr=function(){function t(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i,E(0===t==(void 0!==i),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),ar=function(){function t(t,e,i,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),ur=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function cr(t){t.createObjectStore(sr.store,{keyPath:sr.keyPath}).createIndex(sr.documentTargetsIndex,sr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(or.store,{keyPath:or.keyPath}).createIndex(or.queryTargetsIndexName,or.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ar.store)}var lr=function(){function t(t,e,i,n){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=n}return t.store="clientMetadata",t.keyPath="clientId",t}(),br=[Qi.store,Zi.store,hr.store,ir.store,or.store,Ji.store,ar.store,sr.store],fr=l.__spreadArrays(br,[lr.store]),dr=l.__spreadArrays(fr,[rr.store]),pr=l.__spreadArrays(dr,[ur.store]),vr=function(){function t(){this.ya=new Wi}return t.prototype.Ro=function(t,e){var i=this;if(E(e.length%2==1,"Expected a collection path."),!this.ya.has(e)){var n=e.X(),r=e.H();t.Gs((function(){i.ya.add(e)}));var u={collectionId:n,parent:Kn(r)};return mr(t).put(u)}return ri.resolve()},t.prototype.uh=function(t,e){var i=[],n=IDBKeyRange.bound([e,""],[N(e),""],!1,!0);return mr(t).oo(n).next((function(t){for(var n=0,r=t;n<r.length;n++){var u=r[n];if(u.collectionId!==e)break;i.push(Qn(u.parent))}return i}))},t}();function mr(t){return _r.$s(t,ur.store)}var yr=function(){function t(t){this._a=t}return t.prototype.la=function(t){if(t.document)return this._a.Er(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=bt.at(t.noDocument.path),i=this.Ia(t.noDocument.readTime);return new fe(e,i,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=bt.at(t.unknownDocument.path),i=this.Ia(t.unknownDocument.version),new de(e,i)):k("Unexpected DbRemoteDocument")},t.prototype.ga=function(t,e){var i=this.fa(e),n=t.key.path.H().tt();if(t instanceof he){var r=t.proto?t.proto:this._a.Tr(t),u=t.hasCommittedMutations;return new ir(null,null,r,u,i,n)}if(t instanceof fe){var s=t.key.path.tt(),o=this.Ta(t.version);return u=t.hasCommittedMutations,new ir(null,new er(s,o),null,u,i,n)}if(t instanceof de){s=t.key.path.tt();var c=this.Ta(t.version);return new ir(new nr(s,c),null,null,!0,i,n)}return k("Unexpected MaybeDocument")},t.prototype.fa=function(t){var e=t.q();return[e.seconds,e.nanoseconds]},t.prototype.da=function(t){var e=new ft(t[0],t[1]);return pt.L(e)},t.prototype.Ta=function(t){var e=t.q();return new Xi(e.seconds,e.nanoseconds)},t.prototype.Ia=function(t){var e=new ft(t.seconds,t.nanoseconds);return pt.L(e)},t.prototype.Eo=function(t,e){var i=this,n=e.baseMutations.map((function(t){return i._a.Nr(t)})),r=e.mutations.map((function(t){return i._a.Nr(t)}));return new Zi(t,e.batchId,e.jn.toMillis(),n,r)},t.prototype.Do=function(t){var e=this,i=(t.baseMutations||[]).map((function(t){return e._a.xr(t)})),n=t.mutations.map((function(t){return e._a.xr(t)})),r=ft.fromMillis(t.localWriteTimeMs);return new Zn(t.batchId,r,i,n)},t.prototype.Ea=function(t){var e=[];return t.forEach((function(t){e.push(Kn(t.path))})),e},t.prototype.Ra=function(t){for(var e=li(),i=0,n=t;i<n.length;i++){var r=n[i];e=e.add(new bt(Qn(r)))}return e},t.prototype.ta=function(t){var e,i=this.Ia(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?this.Ia(t.lastLimboFreeSnapshotVersion):pt.MIN;return e=void 0!==t.query.documents?this._a.Gr(t.query):this._a.Jr(t.query),new ze(e,t.targetId,Ve.Si,t.lastListenSequenceNumber,i,n,Fe.fromBase64String(t.resumeToken))},t.prototype.na=function(t){E(Ve.Si===t.Vi,"Only queries with purpose "+Ve.Si+" may be stored, got "+t.Vi);var e,i=this.Ta(t.Ni),n=this.Ta(t.lastLimboFreeSnapshotVersion);e=t.target.zn()?this._a.Qr(t.target):this._a.Wr(t.target);var r=t.resumeToken.toBase64();return new or(t.targetId,t.target.canonicalId(),i,r,t.sequenceNumber,n,e)},t}(),gr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",wr=function(t){function e(e,i){var n=t.call(this)||this;return n.xo=e,n.Mh=i,n}return l.__extends(e,t),e}(ai),_r=function(){function t(e,i,n,r,u,s,o,c){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=n,this.Aa=s,this.Da=c,this.Pa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Sa=null,this.inForeground=!1,this.Ca=null,this.ka=null,this.Va=Number.NEGATIVE_INFINITY,this.Na=function(t){return Promise.resolve()},this.vo=new kr(this,u),this.Oa=i+t.Fa,this.serializer=new yr(o),this.document=r.document,this._h=new ji(this.vo,this.serializer),this.do=new vr,this.Ho=new $i(this.serializer,this.do),!r.window||!r.window.localStorage)throw new M(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.Ua=this.window.localStorage}return t.$s=function(t,e){if(t instanceof wr)return ui.$s(t.xo,e);throw k("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.xa=function(e){return l.__awaiter(this,void 0,void 0,(function(){var i;return l.__generator(this,(function(n){switch(n.label){case 0:if(!t.Hs())throw new M(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(i=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.ja,e.Aa,e.serializer,e.Da)).start()];case 1:return n.sent(),[2,i]}}))}))},t.prototype.start=function(){var t=this;return E(!this.mh,"IndexedDbPersistence double-started!"),E(null!==this.window,"Expected 'window' to be defined"),ui.Ks(this.Oa,Yi,new Ki(this.serializer)).then((function(e){return t.La=e,t.Ba()})).then((function(){return t.Ma(),t.qa(),t.Qa(),t.La.runTransaction("readonly-idempotent",[ar.store],(function(t){return Fi(t)}))})).then((function(e){t.Ga=new Un(e,t.Da)})).then((function(){t.Pa=!0})).catch((function(e){return t.La&&t.La.close(),Promise.reject(e)}))},t.prototype.Wa=function(t){var e=this;return this.Na=function(i){return l.__awaiter(e,void 0,void 0,(function(){return l.__generator(this,(function(e){return this.mh?[2,t(i)]:[2]}))}))},t(this.isPrimary)},t.prototype.za=function(t){var e=this;this.La.Zs((function(i){return l.__awaiter(e,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return null!==i.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Aa.xu((function(){return l.__awaiter(e,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.mh?[4,this.Ba()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ba=function(){var t=this;return this.La.runTransaction("readwrite-idempotent",pr,(function(e){return Sr(e).put(new lr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Ka(e).next((function(e){e||(t.isPrimary=!1,t.Aa.xu((function(){return t.Na(!1)})))}))})).next((function(){return t.Ha(e)})).next((function(i){return t.isPrimary&&!i?t.Ja(e).next((function(){return!1})):!!i&&t.Ya(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return _("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Aa.xu((function(){return t.Na(e)})),t.isPrimary=e}))},t.prototype.Ka=function(t){var e=this;return Ir(t).get(Ji.key).next((function(t){return ri.resolve(e.Xa(t))}))},t.prototype.$a=function(t){return Sr(t).delete(this.clientId)},t.prototype.Za=function(){return l.__awaiter(this,void 0,void 0,(function(){var e=this;return l.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.tf(this.Va,18e5)?[3,2]:(this.Va=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(i){var n=t.$s(i,lr.store);return n.oo().next((function(t){var i=e.nf(t,18e5),r=t.filter((function(t){return-1===i.indexOf(t)}));return ri.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:i.sent().forEach((function(t){e.window.localStorage.removeItem(e.if(t.clientId))})),i.label=2;case 2:return[2]}}))}))},t.prototype.Qa=function(){var t=this;this.ka=this.Aa.Yu(jn.Ru,4e3,(function(){return t.Ba().then((function(){return t.Za()})).then((function(){return t.Qa()}))}))},t.prototype.Xa=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ha=function(t){var e=this;return Ir(t).get(Ji.key).next((function(i){if(null!==i&&e.tf(i.leaseTimestampMs,5e3)&&!e.ef(i.ownerId)){if(e.Xa(i)&&e.networkEnabled)return!0;if(!e.Xa(i)){if(!i.allowTabSynchronization)throw new M(R.FAILED_PRECONDITION,gr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Sr(t).oo().next((function(t){return void 0===e.nf(t,5e3).find((function(t){if(e.clientId!==t.clientId){var i=!e.networkEnabled&&t.networkEnabled,n=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(i||n&&r)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&_("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,(function(){var t=this;return l.__generator(this,(function(e){switch(e.label){case 0:return this.Pa=!1,this.rf(),this.ka&&(this.ka.cancel(),this.ka=null),this.uf(),this.sf(),[4,this.La.runTransaction("readwrite-idempotent",[Ji.store,lr.store],(function(e){return t.Ja(e).next((function(){return t.$a(e)}))}))];case 1:return e.sent(),this.La.close(),this.hf(),[2]}}))}))},t.prototype.nf=function(t,e){var i=this;return t.filter((function(t){return i.tf(t.updateTimeMs,e)&&!i.ef(t.clientId)}))},t.prototype.uc=function(){var t=this;return this.La.runTransaction("readonly-idempotent",[lr.store],(function(e){return Sr(e).oo().next((function(e){return t.nf(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return l.__awaiter(this,void 0,void 0,(function(){var i;return l.__generator(this,(function(n){switch(n.label){case 0:return t.Hs()?(i=e+t.Fa,[4,ui.delete(i)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.gh=function(t){return E(this.mh,"Cannot initialize MutationQueue before persistence is started."),mi.mo(t,this.serializer,this.do,this.vo)},t.prototype.Ih=function(){return E(this.mh,"Cannot initialize TargetCache before persistence is started."),this._h},t.prototype.yh=function(){return E(this.mh,"Cannot initialize RemoteDocumentCache before persistence is started."),this.Ho},t.prototype.Eh=function(){return E(this.mh,"Cannot initialize IndexManager before persistence is started."),this.do},t.prototype.runTransaction=function(t,e,i){var n=this;_("IndexedDbPersistence","Starting transaction:",t);var r,u=e.endsWith("idempotent"),s=e.startsWith("readonly")?u?"readonly-idempotent":"readonly":u?"readwrite-idempotent":"readwrite";return this.La.runTransaction(s,pr,(function(u){return r=new wr(u,n.Ga.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?n.Ka(u).next((function(t){return!!t||n.Ha(u)})).next((function(e){if(!e)throw I("Failed to obtain primary lease for action '"+t+"'."),n.isPrimary=!1,n.Aa.xu((function(){return n.Na(!1)})),new M(R.FAILED_PRECONDITION,si);return i(r)})).next((function(t){return n.Ya(u).next((function(){return t}))})):n.cf(u).next((function(){return i(r)}))})).then((function(t){return r.Ws(),t}))},t.prototype.cf=function(t){var e=this;return Ir(t).get(Ji.key).next((function(t){if(null!==t&&e.tf(t.leaseTimestampMs,5e3)&&!e.ef(t.ownerId)&&!e.Xa(t)&&!t.allowTabSynchronization)throw new M(R.FAILED_PRECONDITION,gr)}))},t.prototype.Ya=function(t){var e=new Ji(this.clientId,this.allowTabSynchronization,Date.now());return Ir(t).put(Ji.key,e)},t.Hs=function(){return ui.Hs()},t.af=function(t){var e=t.s.projectId;return t.s.o||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Ja=function(t){var e=this,i=Ir(t);return i.get(Ji.key).next((function(t){return e.Xa(t)?(_("IndexedDbPersistence","Releasing primary lease."),i.delete(Ji.key)):ri.resolve()}))},t.prototype.tf=function(t,e){var i=Date.now();return!(t<i-e||t>i&&(I("Detected an update time that is in the future: "+t+" > "+i),1))},t.prototype.Ma=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ca=function(){t.Aa.xu((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ba()}))},this.document.addEventListener("visibilitychange",this.Ca),this.inForeground="visible"===this.document.visibilityState)},t.prototype.uf=function(){this.Ca&&(E(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Ca),this.Ca=null)},t.prototype.qa=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Sa=function(){t.rf(),t.Aa.xu((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Sa))},t.prototype.sf=function(){this.Sa&&(E("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Sa),this.Sa=null)},t.prototype.ef=function(t){try{var e=null!==this.Ua.getItem(this.if(t));return _("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return I("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.rf=function(){try{this.Ua.setItem(this.if(this.clientId),String(Date.now()))}catch(t){I("Failed to set zombie client id.",t)}},t.prototype.hf=function(){try{this.Ua.removeItem(this.if(this.clientId))}catch(t){}},t.prototype.if=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Fa="main",t}();function Ir(t){return t.store(Ji.store)}function Sr(t){return t.store(lr.store)}var kr=function(){function t(t,e){this.db=t,this.ff=null,this.Vc=new Li(this,e)}return t.prototype.Lc=function(t){var e=this.lf(t);return this.db.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.lf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Le=function(t,e){return this.db.Ih().Le(t,e)},t.prototype.Mc=function(t,e){return this.df(t,(function(t,i){return e(i)}))},t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return Er(t,e)},t.prototype.ds=function(t,e){return Er(t,e)},t.prototype.qc=function(t,e,i){return this.db.Ih().qc(t,e,i)},t.prototype.Lo=function(t,e){return Er(t,e)},t.prototype.vf=function(t,e){return this.ff.bs(e)?ri.resolve(!0):function(t,e){var i=!1;return _i(t).lo((function(n){return yi(t,n,e).next((function(t){return t&&(i=!0),ri.resolve(!t)}))})).next((function(){return i}))}(t,e)},t.prototype.Qc=function(t,e){var i=this,n=this.db.yh().Nh(),r=[],u=0;return this.df(t,(function(s,o){if(o<=e){var c=i.vf(t,s).next((function(e){if(!e)return u++,n.Ls(t,s).next((function(){return n.js(s),Ui(t).delete([0,Kn(s.path)])}))}));r.push(c)}})).next((function(){return ri.ks(r)})).next((function(){return n.apply(t)})).next((function(){return u}))},t.prototype.removeTarget=function(t,e){var i=e.Oi(t.Mh);return this.db.Ih().Qh(t,i)},t.prototype.Gh=function(t,e){return Er(t,e)},t.prototype.df=function(t,e){var i,n=Ui(t),r=Un.gu;return n.fo({index:sr.documentTargetsIndex},(function(t,n){var u=t[0],s=(t[1],n.path),o=n.sequenceNumber;0===u?(r!==Un.gu&&e(new bt(Qn(i)),r),r=o,i=s):r=Un.gu})).next((function(){r!==Un.gu&&e(new bt(Qn(i)),r)}))},t.prototype.Gc=function(t){return this.db.yh().wa(t)},t}();function Er(t,e){return Ui(t).put(function(t,e){return new sr(0,Kn(t.path),e)}(e,t.Mh))}var Tr,Ar,Dr=function(){function t(){}return t.prototype.Rh=function(t){this.wf=t},t.prototype.nh=function(t,e,i,n){var r=this;return E(void 0!==this.wf,"setLocalDocumentsView() not called"),e.fi()?this.mf(t,e):i.isEqual(pt.MIN)?this.mf(t,e):this.wf.Zo(t,n).next((function(u){var s=r.pf(e,u);return(e.gi()||e.bi())&&r.gf(e.Yn,s,n,i)?r.mf(t,e):(y()<=o.DEBUG&&_("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),e.toString()),r.wf.nh(t,e,i).next((function(t){return s.forEach((function(e){t=t.lt(e.key,e)})),t})))}))},t.prototype.pf=function(t,e){var i=new kt((function(e,i){return t.di(e,i)}));return e.forEach((function(e,n){n instanceof he&&t.matches(n)&&(i=i.add(n))})),i},t.prototype.gf=function(t,e,i,n){if(i.size!==e.size)return!0;var r=t===we.Kn?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.h(n)>0)},t.prototype.mf=function(t,e){return y()<=o.DEBUG&&_("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.wf.nh(t,e,pt.MIN)},t}(),Nr=function(){function t(t,e){this.do=t,this.vo=e,this.Jo=[],this.bf=1,this.lastStreamToken=Fe.Pi,this.yf=new kt(ni.Bn)}return t.prototype.po=function(t){return ri.resolve(0===this.Jo.length)},t.prototype.bo=function(t,e,i){var n=e.batchId,r=this._f(n,"acknowledged");E(0===r,"Can only acknowledge the first batch in the mutation queue");var u=this.Jo[r];return E(n===u.batchId,"Queue ordering failure: expected batch "+n+", got batch "+u.batchId),this.lastStreamToken=i,ri.resolve()},t.prototype._o=function(t){return ri.resolve(this.lastStreamToken)},t.prototype.Io=function(t,e){return this.lastStreamToken=e,ri.resolve()},t.prototype.To=function(t,e,i,n){E(0!==n.length,"Mutation batches should not be empty");var r=this.bf;this.bf++,this.Jo.length>0&&E(this.Jo[this.Jo.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var u=new Zn(r,e,i,n);this.Jo.push(u);for(var s=0,o=n;s<o.length;s++){var c=o[s];this.yf=this.yf.add(new ni(c.key,r)),this.do.Ro(t,c.key.path.H())}return ri.resolve(u)},t.prototype.Ao=function(t,e){return ri.resolve(this.If(e))},t.prototype.Po=function(t,e){var i=this.If(e);return E(null!=i,"Failed to find local mutation batch."),ri.resolve(i.keys())},t.prototype.So=function(t,e){var i=e+1,n=this.Tf(i),r=n<0?0:n;return ri.resolve(this.Jo.length>r?this.Jo[r]:null)},t.prototype.Co=function(){return ri.resolve(0===this.Jo.length?-1:this.bf-1)},t.prototype.ko=function(t){return ri.resolve(this.Jo.slice())},t.prototype.Vo=function(t,e){var i=this,n=new ni(e,0),r=new ni(e,Number.POSITIVE_INFINITY),u=[];return this.yf.Lt([n,r],(function(t){E(e.isEqual(t.key),"Should only iterate over a single key's batches");var n=i.If(t.ys);E(null!==n,"Batches in the index must exist in the main table"),u.push(n)})),ri.resolve(u)},t.prototype.No=function(t,e){var i=this,n=new kt(A);return e.forEach((function(t){var e=new ni(t,0),r=new ni(t,Number.POSITIVE_INFINITY);i.yf.Lt([e,r],(function(e){E(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),n=n.add(e.ys)}))})),ri.resolve(this.Ef(n))},t.prototype.Fo=function(t,e){E(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,n=i.length+1,r=i;bt.ht(r)||(r=r.child(""));var u=new ni(new bt(r),0),s=new kt(A);return this.yf.Bt((function(t){var e=t.key.path;return!!i.$(e)&&(e.length===n&&(s=s.add(t.ys)),!0)}),u),ri.resolve(this.Ef(s))},t.prototype.Ef=function(t){var e=this,i=[];return t.forEach((function(t){var n=e.If(t);null!==n&&i.push(n)})),i},t.prototype.Uo=function(t,e){var i=this;E(0===this._f(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Jo.shift();var n=this.yf;return ri.forEach(e.mutations,(function(r){var u=new ni(r.key,e.batchId);return n=n.delete(u),i.vo.Lo(t,r.key)})).next((function(){i.yf=n}))},t.prototype.jo=function(t){},t.prototype.bs=function(t,e){var i=new ni(e,0),n=this.yf.Mt(i);return ri.resolve(e.isEqual(n&&n.key))},t.prototype.Bo=function(t){return 0===this.Jo.length&&E(this.yf.J(),"Document leak -- detected dangling mutation references when queue is empty."),ri.resolve()},t.prototype._f=function(t,e){var i=this.Tf(t);return E(i>=0&&i<this.Jo.length,"Batches must exist to be "+e),i},t.prototype.Tf=function(t){return 0===this.Jo.length?0:t-this.Jo[0].batchId},t.prototype.If=function(t){var e=this.Tf(t);if(e<0||e>=this.Jo.length)return null;var i=this.Jo[e];return E(i.batchId===t,"If found batch must match"),i},t}(),Cr=function(){function t(t,e){this.do=t,this.Rf=e,this.docs=new wt(bt.G),this.size=0}return t.prototype.Us=function(t,e,i){E(!i.isEqual(pt.MIN),"Cannot add a document with a read time of zero");var n=e.key,r=this.docs.get(n),u=r?r.size:0,s=this.Rf(e);return this.docs=this.docs.lt(n,{sa:e,size:s,readTime:i}),this.size+=s-u,this.do.Ro(t,n.path.H())},t.prototype.js=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ls=function(t,e){var i=this.docs.get(e);return ri.resolve(i?i.sa:null)},t.prototype.getEntries=function(t,e){var i=this,n=Qe();return e.forEach((function(t){var e=i.docs.get(t);n=n.lt(t,e?e.sa:null)})),ri.resolve(n)},t.prototype.nh=function(t,e,i){E(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=tn(),r=new bt(e.path.child("")),u=this.docs.yt(r);u.At();){var s=u.Rt(),o=s.key,c=s.value,l=c.sa,a=c.readTime;if(!e.path.$(o.path))break;a.h(i)<=0||l instanceof he&&e.matches(l)&&(n=n.lt(l.key,l))}return ri.resolve(n)},t.prototype.Af=function(t,e){return ri.forEach(this.docs,(function(t){return e(t)}))},t.prototype.fc=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.dc=function(t){return ri.resolve(pt.MIN)},t.prototype.Nh=function(e){return new t.va(this)},t.prototype.wa=function(t){return ri.resolve(this.size)},t.va=function(t){function e(e){var i=t.call(this)||this;return i.ma=e,i}return l.__extends(e,t),e.prototype.qs=function(t){var e=this,i=[];return this.Ns.forEach((function(n,r){r?i.push(e.ma.Us(t,r,e.readTime)):e.ma.js(n)})),ri.ks(i)},e.prototype.Bs=function(t,e){return this.ma.Ls(t,e)},e.prototype.Ms=function(t,e){return this.ma.getEntries(t,e)},e}(oi),t}(),Or=function(){function t(t){this.persistence=t,this.Df=new ii((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=pt.MIN,this.highestTargetId=0,this.Pf=0,this.Sf=new ei,this.targetCount=0,this.zc=Ei.zo()}return t.prototype.Le=function(t,e){return this.Df.forEach((function(t,i){return e(i)})),ri.resolve()},t.prototype.xh=function(t){return ri.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Jc=function(t){return ri.resolve(this.Pf)},t.prototype.$h=function(t){var e=this.zc.after(this.highestTargetId);return this.highestTargetId=e,ri.resolve(e)},t.prototype.Wh=function(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Pf&&(this.Pf=e),ri.resolve()},t.prototype.Yc=function(t){this.Df.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Pf&&(this.Pf=t.sequenceNumber)},t.prototype.Zh=function(t,e){return E(!this.Df.has(e.target),"Adding a target that already exists"),this.Yc(e),this.targetCount+=1,ri.resolve()},t.prototype.Qh=function(t,e){return E(this.Df.has(e.target),"Updating a non-existent target"),this.Yc(e),ri.resolve()},t.prototype.$c=function(t,e){return E(this.targetCount>0,"Removing a target from an empty cache"),E(this.Df.has(e.target),"Removing a non-existent target from the cache"),this.Df.delete(e.target),this.Sf.ms(e.targetId),this.targetCount-=1,ri.resolve()},t.prototype.qc=function(t,e,i){var n=this,r=0,u=[];return this.Df.forEach((function(s,o){o.sequenceNumber<=e&&null===i.get(o.targetId)&&(n.Df.delete(s),u.push(n.Zc(t,o.targetId)),r++)})),ri.ks(u).next((function(){return r}))},t.prototype.ia=function(t){return ri.resolve(this.targetCount)},t.prototype.Xh=function(t,e){var i=this.Df.get(e)||null;return ri.resolve(i)},t.prototype.Ye=function(t,e){return k("Not yet implemented.")},t.prototype.Bh=function(t,e,i){this.Sf.ls(e,i);var n=this.persistence.vo,r=[];return n&&e.forEach((function(e){r.push(n.fs(t,e))})),ri.ks(r)},t.prototype.Lh=function(t,e,i){this.Sf.ws(e,i);var n=this.persistence.vo,r=[];return n&&e.forEach((function(e){r.push(n.ds(t,e))})),ri.ks(r)},t.prototype.Zc=function(t,e){return this.Sf.ms(e),ri.resolve()},t.prototype.ic=function(t,e){var i=this.Sf.gs(e);return ri.resolve(i)},t.prototype.bs=function(t,e){return ri.resolve(this.Sf.bs(e))},t}(),xr=function(){function t(t,e){var i=this;this.clientId=t,this.Cf={},this.Ga=new Un(0),this.Pa=!1,this.Pa=!0,this.vo=e(this),this._h=new Or(this),this.do=new tr,this.Ho=new Cr(this.do,(function(t){return i.vo.kf(t)}))}return t.Vf=function(e,i){return new t(e,(function(t){return new Mr(t,i)}))},t.Nf=function(e){return new t(e,(function(t){return new Rr(t)}))},t.prototype.shutdown=function(){return this.Pa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.uc=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.Wa=function(t){return t(!0)},t.prototype.za=function(){},t.prototype.oc=function(t){},t.prototype.Eh=function(){return this.do},t.prototype.gh=function(t){var e=this.Cf[t.v()];return e||(e=new Nr(this.do,this.vo),this.Cf[t.v()]=e),e},t.prototype.Ih=function(){return this._h},t.prototype.yh=function(){return this.Ho},t.prototype.runTransaction=function(t,e,i){var n=this;_("MemoryPersistence","Starting transaction:",t);var r=new Pr(this.Ga.next());return this.vo.Of(),i(r).next((function(t){return n.vo.Ff(r).next((function(){return t}))})).Ss().then((function(t){return r.Ws(),t}))},t.prototype.Uf=function(t,e){return ri.Vs((i=this.Cf,n=[],z(i,(function(t,e){return n.push(e)})),n).map((function(i){return function(){return i.bs(t,e)}})));var i,n},t}(),Pr=function(t){function e(e){var i=t.call(this)||this;return i.Mh=e,i}return l.__extends(e,t),e}(ai),Rr=function(){function t(t){this.persistence=t,this.ff=null,this.xf=null}return Object.defineProperty(t.prototype,"jf",{get:function(){if(this.xf)return this.xf;throw k("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return this.jf.delete(e),ri.resolve()},t.prototype.ds=function(t,e){return this.jf.add(e),ri.resolve()},t.prototype.Lo=function(t,e){return this.jf.add(e),ri.resolve()},t.prototype.removeTarget=function(t,e){var i=this,n=this.persistence.Ih();return n.ic(t,e.targetId).next((function(t){t.forEach((function(t){return i.jf.add(t)}))})).next((function(){return n.$c(t,e)}))},t.prototype.Of=function(){this.xf=new Set},t.prototype.Ff=function(t){var e=this,i=this.persistence.yh().Nh();return ri.forEach(this.jf,(function(n){return e.Lf(t,n).next((function(t){t||i.js(n)}))})).next((function(){return e.xf=null,i.apply(t)}))},t.prototype.Gh=function(t,e){var i=this;return this.Lf(t,e).next((function(t){t?i.jf.delete(e):i.jf.add(e)}))},t.prototype.kf=function(t){return 0},t.prototype.Lf=function(t,e){var i=this;return ri.Vs([function(){return i.persistence.Ih().bs(t,e)},function(){return i.persistence.Uf(t,e)},function(){return ri.resolve(i.ff.bs(e))}])},t}(),Mr=function(){function t(t,e){this.persistence=t,this.ff=null,this.Bf=new ii((function(t){return Kn(t.path)})),this.Vc=new Li(this,e)}return t.prototype.Of=function(){},t.prototype.Ff=function(t){return ri.resolve()},t.prototype.Le=function(t,e){return this.persistence.Ih().Le(t,e)},t.prototype.Lc=function(t){var e=this.Mf(t);return this.persistence.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Mf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Mc=function(t,e){var i=this;return ri.forEach(this.Bf,(function(n,r){return i.vf(t,n,r).next((function(t){return t?ri.resolve():e(r)}))}))},t.prototype.ph=function(t){this.ff=t},t.prototype.qc=function(t,e,i){return this.persistence.Ih().qc(t,e,i)},t.prototype.Qc=function(t,e){var i=this,n=0,r=this.persistence.yh(),u=r.Nh();return r.Af(t,(function(r){return i.vf(t,r,e).next((function(t){t||(n++,u.js(r))}))})).next((function(){return u.apply(t)})).next((function(){return n}))},t.prototype.Lo=function(t,e){return this.Bf.set(e,t.Mh),ri.resolve()},t.prototype.removeTarget=function(t,e){var i=e.Oi(t.Mh);return this.persistence.Ih().Qh(t,i)},t.prototype.fs=function(t,e){return this.Bf.set(e,t.Mh),ri.resolve()},t.prototype.ds=function(t,e){return this.Bf.set(e,t.Mh),ri.resolve()},t.prototype.Gh=function(t,e){return this.Bf.set(e,t.Mh),ri.resolve()},t.prototype.kf=function(t){var e=t.key.toString().length;return t instanceof he&&(e+=t.data().Nn()),e},t.prototype.vf=function(t,e,i){var n=this;return ri.Vs([function(){return n.persistence.Uf(t,e)},function(){return ri.resolve(n.ff.bs(e))},function(){return n.persistence.Ih().bs(t,e)},function(){var t=n.Bf.get(e);return ri.resolve(void 0!==t&&t>i)}])},t.prototype.Gc=function(t){return this.persistence.yh().wa(t)},t}(),Lr=1e3,jr=1.5,Vr=6e4,Br=function(){function t(t,e,i,n,r){void 0===i&&(i=Lr),void 0===n&&(n=jr),void 0===r&&(r=Vr),this.Aa=t,this.Su=e,this.qf=i,this.Qf=n,this.Gf=r,this.Wf=0,this.zf=null,this.Kf=Date.now(),this.reset()}return t.prototype.reset=function(){this.Wf=0},t.prototype.Hf=function(){this.Wf=this.Gf},t.prototype.Jf=function(t){var e=this;this.cancel();var i=Math.floor(this.Wf+this.Yf()),n=Math.max(0,Date.now()-this.Kf),r=Math.max(0,i-n);this.Wf>0&&_("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Wf+" ms, delay with jitter: "+i+" ms, last attempt: "+n+" ms ago)"),this.zf=this.Aa.Yu(this.Su,r,(function(){return e.Kf=Date.now(),t()})),this.Wf*=this.Qf,this.Wf<this.qf&&(this.Wf=this.qf),this.Wf>this.Gf&&(this.Wf=this.Gf)},t.prototype.cancel=function(){null!==this.zf&&(this.zf.cancel(),this.zf=null)},t.prototype.Yf=function(){return(Math.random()-.5)*this.Wf},t}();(Ar=Tr||(Tr={}))[Ar.Xf=0]="__PRIVATE_Initial",Ar[Ar.$f=1]="__PRIVATE_Starting",Ar[Ar.Zf=2]="__PRIVATE_Open",Ar[Ar.Error=3]="Error",Ar[Ar.tl=4]="__PRIVATE_Backoff";var Fr,Ur,$r=function(){function t(t,e,i,n,r,u){this.Aa=t,this.nl=i,this.connection=n,this.il=r,this.listener=u,this.state=Tr.Xf,this.el=0,this.rl=null,this.stream=null,this.ul=new Br(t,e)}return t.prototype.sl=function(){return this.state===Tr.$f||this.state===Tr.Zf||this.state===Tr.tl},t.prototype.ol=function(){return this.state===Tr.Zf},t.prototype.start=function(){this.state!==Tr.Error?(E(this.state===Tr.Xf,"Already started"),this.auth()):this.hl()},t.prototype.stop=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.sl()?[4,this.close(Tr.Xf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cl=function(){E(!this.sl(),"Can only inhibit backoff in a stopped state"),this.state=Tr.Xf,this.ul.reset()},t.prototype.al=function(){var t=this;this.ol()&&null===this.rl&&(this.rl=this.Aa.Yu(this.nl,6e4,(function(){return t.fl()})))},t.prototype.ll=function(t){this.dl(),this.stream.send(t)},t.prototype.fl=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return this.ol()?[2,this.close(Tr.Xf)]:[2]}))}))},t.prototype.dl=function(){this.rl&&(this.rl.cancel(),this.rl=null)},t.prototype.close=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(i){switch(i.label){case 0:return E(this.sl(),"Only started streams should be closed."),E(t===Tr.Error||ge(e),"Can't provide an error when not in an error state."),this.dl(),this.ul.cancel(),this.el++,t!==Tr.Error?this.ul.reset():e&&e.code===R.RESOURCE_EXHAUSTED?(I(e.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.ul.Hf()):e&&e.code===R.UNAUTHENTICATED&&this.il.I(),null!==this.stream&&(this.vl(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.wl(e)];case 1:return i.sent(),[2]}}))}))},t.prototype.vl=function(){},t.prototype.auth=function(){var t=this;E(this.state===Tr.Xf,"Must be in initial state to auth"),this.state=Tr.$f;var e=this.ml(this.el),i=this.el;this.il.getToken().then((function(e){t.el===i&&t.pl(e)}),(function(i){e((function(){var e=new M(R.UNKNOWN,"Fetching auth token failed: "+i.message);return t.gl(e)}))}))},t.prototype.pl=function(t){var e=this;E(this.state===Tr.$f,"Trying to start stream in a non-starting state");var i=this.ml(this.el);this.stream=this.bl(t),this.stream.yl((function(){i((function(){return E(e.state===Tr.$f,"Expected stream to be in state Starting, but was "+e.state),e.state=Tr.Zf,e.listener.yl()}))})),this.stream.wl((function(t){i((function(){return e.gl(t)}))})),this.stream.onMessage((function(t){i((function(){return e.onMessage(t)}))}))},t.prototype.hl=function(){var t=this;E(this.state===Tr.Error,"Should only perform backoff when in Error state"),this.state=Tr.tl,this.ul.Jf((function(){return l.__awaiter(t,void 0,void 0,(function(){return l.__generator(this,(function(t){return E(this.state===Tr.tl,"Backoff elapsed but state is now: "+this.state),this.state=Tr.Xf,this.start(),E(this.sl(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.gl=function(t){return E(this.sl(),"Can't handle server close on non-started stream"),_("PersistentStream","close with error: "+t),this.stream=null,this.close(Tr.Error,t)},t.prototype.ml=function(t){var e=this;return function(i){e.Aa.xu((function(){return e.el===t?i():(_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),qr=function(t){function e(e,i,n,r,u){var s=t.call(this,e,jn._u,jn.yu,i,n,u)||this;return s.serializer=r,s}return l.__extends(e,t),e.prototype.bl=function(t){return this.connection._l("Listen",t)},e.prototype.onMessage=function(t){this.ul.reset();var e=this.serializer.Cr(t),i=this.serializer.Vr(t);return this.listener.Il(e,i)},e.prototype.watch=function(t){var e={};e.database=this.serializer.wr,e.addTarget=this.serializer.li(t);var i=this.serializer.Zr(t);i&&(e.labels=i),this.ll(e)},e.prototype.Tl=function(t){var e={};e.database=this.serializer.wr,e.removeTarget=t,this.ll(e)},e}($r),Hr=function(t){function e(e,i,n,r,u){var s=t.call(this,e,jn.Tu,jn.Iu,i,n,u)||this;return s.serializer=r,s.El=!1,s.lastStreamToken=Fe.Pi,s}return l.__extends(e,t),Object.defineProperty(e.prototype,"Rl",{get:function(){return this.El},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.El=!1,t.prototype.start.call(this)},e.prototype.vl=function(){this.El&&this.Al([])},e.prototype.bl=function(t){return this.connection._l("Write",t)},e.prototype.onMessage=function(t){if(E(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.er(t.streamToken),this.El){this.ul.reset();var e=this.serializer.qr(t.writeResults,t.commitTime),i=this.serializer.fromVersion(t.commitTime);return this.listener.Dl(i,e)}return E(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.El=!0,this.listener.Pl()},e.prototype.Sl=function(){E(this.ol(),"Writing handshake requires an opened stream"),E(!this.El,"Handshake already completed");var t={};t.database=this.serializer.wr,this.ll(t)},e.prototype.Al=function(t){var e=this;E(this.ol(),"Writing mutations requires an opened stream"),E(this.El,"Handshake must be complete before writing mutations"),E(this.lastStreamToken.Nn()>0,"Trying to write mutation without a token");var i={streamToken:this.serializer.ir(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Nr(t)}))};this.ll(i)},e}($r),zr=function(){function t(t,e,i,n){this.Aa=t,this.connection=e,this.credentials=i,this.serializer=n}return t.prototype.Cl=function(t){return new Hr(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.kl=function(t){return new qr(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,i={database:this.serializer.wr,writes:t.map((function(t){return e.serializer.Nr(t)}))};return this.Vl("Commit",i).then((function(t){return e.serializer.qr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,i={database:this.serializer.wr,documents:t.map((function(t){return e.serializer.cr(t)}))};return this.Nl("BatchGetDocuments",i).then((function(i){var n=Je();i.forEach((function(t){var i=e.serializer.Dr(t);n=n.lt(i.key,i)}));var r=[];return t.forEach((function(t){var e=n.get(t);E(!!e,"Missing entity in write response for "+t),r.push(e)})),r}))},t.prototype.Vl=function(t,e){var i=this;return this.credentials.getToken().then((function(n){return i.connection.Vl(t,e,n)})).catch((function(t){throw t.code===R.UNAUTHENTICATED&&i.credentials.I(),t}))},t.prototype.Nl=function(t,e){var i=this;return this.credentials.getToken().then((function(n){return i.connection.Nl(t,e,n)})).catch((function(t){throw t.code===R.UNAUTHENTICATED&&i.credentials.I(),t}))},t}(),Gr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,i,n){if(!(e instanceof Array)||e.length<1)throw new M(R.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+lt(1,"element")+".")}(0,t);for(var i=0;i<t.length;++i)if(J("FieldPath","string",i,t[i]),0===t[i].length)throw new M(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ol=new gt(t)}return t.documentId=function(){return t.Fl},t.prototype.isEqual=function(e){if(!(e instanceof t))throw at("isEqual","FieldPath",1,e);return this.Ol.isEqual(e.Ol)},t.Fl=new t(gt.st().nt()),t}(),Wr=new RegExp("[~\\*/\\[\\]]"),Yr=function(){function t(t){this.Ul=t}return t.delete=function(){return W("FieldValue.delete",arguments),Kr.instance},t.serverTimestamp=function(){return W("FieldValue.serverTimestamp",arguments),Xr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return K("FieldValue.arrayUnion",arguments,1),new Jr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return K("FieldValue.arrayRemove",arguments,1),new Qr(t)},t.increment=function(t){return J("FieldValue.increment","number",1,t),Y("FieldValue.increment",arguments,1),new Zr(t)},t.prototype.isEqual=function(t){return this===t},t}(),Kr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return l.__extends(e,t),e.instance=new e,e}(Yr),Xr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return l.__extends(e,t),e.instance=new e,e}(Yr),Jr=function(t){function e(e){var i=t.call(this,"FieldValue.arrayUnion")||this;return i.xl=e,i}return l.__extends(e,t),e}(Yr),Qr=function(t){function e(e){var i=t.call(this,"FieldValue.arrayRemove")||this;return i.xl=e,i}return l.__extends(e,t),e}(Yr),Zr=function(t){function e(e){var i=t.call(this,"FieldValue.increment")||this;return i.jl=e,i}return l.__extends(e,t),e}(Yr),to=Rn(Yr,"Use FieldValue.<field>() instead."),eo=/^__.*__$/,no=function(){function t(t,e,i){this.data=t,this.on=e,this.fieldTransforms=i}return t.prototype.Ll=function(t,e){var i=[];return null!==this.on?i.push(new qt(t,this.data,this.on,e)):i.push(new $t(t,this.data,e)),this.fieldTransforms.length>0&&i.push(new Ht(t,this.fieldTransforms)),i},t}(),io=function(){function t(t,e,i){this.data=t,this.on=e,this.fieldTransforms=i}return t.prototype.Ll=function(t,e){var i=[new qt(t,this.data,this.on,e)];return this.fieldTransforms.length>0&&i.push(new Ht(t,this.fieldTransforms)),i},t}();function ro(t){switch(t){case Fr.Set:case Fr.Bl:case Fr.Ml:return!0;case Fr.ql:case Fr.Ql:return!1;default:throw k("Unexpected case for UserDataSource: "+t)}}(Ur=Fr||(Fr={}))[Ur.Set=0]="Set",Ur[Ur.Ml=1]="__PRIVATE_Update",Ur[Ur.Bl=2]="__PRIVATE_MergeSet",Ur[Ur.ql=3]="__PRIVATE_Argument",Ur[Ur.Ql=4]="__PRIVATE_ArrayArgument";var oo=function(){function t(t,e,i,n,r,u){this.Gl=t,this.methodName=e,this.path=i,this.Wl=n,void 0===r&&this.zl(),this.Wl=void 0!==n&&n,this.fieldTransforms=r||[],this.on=u||[]}return t.prototype.Kl=function(e){var i=null==this.path?null:this.path.child(e),n=new t(this.Gl,this.methodName,i,!1,this.fieldTransforms,this.on);return n.Hl(e),n},t.prototype.Jl=function(e){var i=null==this.path?null:this.path.child(e),n=new t(this.Gl,this.methodName,i,!1,this.fieldTransforms,this.on);return n.zl(),n},t.prototype.Yl=function(e){return new t(this.Gl,this.methodName,null,!0,this.fieldTransforms,this.on)},t.prototype.Xl=function(t){var e=null===this.path||this.path.J()?"":" (found in field "+this.path.toString()+")";return new M(R.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.on.find((function(e){return t.$(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.$(e.field)}))},t.prototype.zl=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Hl(this.path.get(t))},t.prototype.Hl=function(t){if(0===t.length)throw this.Xl("Document fields must not be empty");if(ro(this.Gl)&&eo.test(t))throw this.Xl('Document fields cannot begin and end with "__"')},t}(),so=function(t,e){this.s=t,this.key=e},ao=function(){function t(t){this.$l=t}return t.prototype.Zl=function(t,e){var i=new oo(Fr.Set,t,gt.et);co("Data must be an object, but it was:",i,e);var n=this.td(e,i);return new no(n,null,i.fieldTransforms)},t.prototype.nd=function(t,e,i){var n=new oo(Fr.Bl,t,gt.et);co("Data must be an object, but it was:",n,e);var r,u,s=this.td(e,n);if(i){for(var o=new kt(gt.G),c=0,l=i;c<l.length;c++){var a=l[c],h=void 0;if(a instanceof Gr)h=a.Ol;else{if("string"!=typeof a)throw k("Expected stringOrFieldPath to be a string or a FieldPath");h=ho(t,a)}if(!n.contains(h))throw new M(R.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");o=o.add(h)}r=Pt.Jt(o),u=n.fieldTransforms.filter((function(t){return r.Xt(t.field)}))}else r=Pt.Yt(n.on),u=n.fieldTransforms;return new no(s,r,u)},t.prototype.ed=function(t,e){var i=this,n=new oo(Fr.Ml,t,gt.et);co("Data must be an object, but it was:",n,e);var r=new kt(gt.G),u=ae.mn();z(e,(function(e,s){var o=ho(t,e),c=n.Jl(o);if((s=i.rd(s,c))instanceof Kr)r=r.add(o);else{var l=i.td(s,c);null!=l&&(r=r.add(o),u.set(o,l))}}));var s=Pt.Jt(r);return new io(u.fn(),s,n.fieldTransforms)},t.prototype.ud=function(t,e,i,n){var r=new oo(Fr.Ml,t,gt.et),u=[lo(t,e)],s=[i];if(n.length%2!=0)throw new M(R.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var o=0;o<n.length;o+=2)u.push(lo(t,n[o])),s.push(n[o+1]);var c=new kt(gt.G),l=ae.mn();for(o=0;o<u.length;++o){var a=u[o],h=r.Jl(a),f=this.rd(s[o],h);if(f instanceof Kr)c=c.add(a);else{var d=this.td(f,h);null!=d&&(c=c.add(a),l.set(a,d))}}var v=Pt.Jt(c);return new io(l.fn(),v,r.fieldTransforms)},t.prototype.sd=function(t,e,i){void 0===i&&(i=!1);var n=new oo(i?Fr.Ql:Fr.ql,t,gt.et),r=this.td(e,n);return E(null!=r,"Parsed data should not be null."),E(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.rd=function(t,e){try{return this.$l(t)}catch(t){var i=fo(t);throw e.Xl(i)}},t.prototype.td=function(t,e){if(uo(t=this.rd(t,e)))return co("Unsupported field value:",e,t),this.od(t,e);if(t instanceof Yr)return this.hd(t,e),null;if(e.path&&e.on.push(e.path),t instanceof Array){if(e.Wl&&e.Gl!==Fr.Ql)throw e.Xl("Nested arrays are not supported");return this.ad(t,e)}return this.fd(t,e)},t.prototype.od=function(t,e){var i=this,n=new wt(A);return G(t)?e.path&&e.path.length>0&&e.on.push(e.path):z(t,(function(t,r){var u=i.td(r,e.Kl(t));null!=u&&(n=n.lt(t,u))})),new ae(n)},t.prototype.ad=function(t,e){for(var i=[],n=0,r=0,u=t;r<u.length;r++){var s=u[r],o=this.td(s,e.Yl(n));null==o&&(o=Kt.On),i.push(o),n++}return new ce(i)},t.prototype.hd=function(t,e){if(!ro(e.Gl))throw e.Xl(t.Ul+"() can only be used with update() and set()");if(null===e.path)throw e.Xl(t.Ul+"() is not currently supported inside arrays");if(t instanceof Kr){if(e.Gl!==Fr.Bl)throw e.Gl===Fr.Ml?(E(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.Xl("FieldValue.delete() can only appear at the top level of your update data")):e.Xl("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.on.push(e.path)}else if(t instanceof Xr)e.fieldTransforms.push(new Rt(e.path,Tt.instance));else if(t instanceof Jr){var i=this.ld(t.Ul,t.xl),n=new At(i);e.fieldTransforms.push(new Rt(e.path,n))}else if(t instanceof Qr){i=this.ld(t.Ul,t.xl);var r=new Dt(i);e.fieldTransforms.push(new Rt(e.path,r))}else if(t instanceof Zr){var u=this.sd("FieldValue.increment",t.jl),s=new Nt(u);e.fieldTransforms.push(new Rt(e.path,s))}else k("Unknown FieldValue type: "+t)},t.prototype.fd=function(t,e){if(null===t)return Kt.On;if("number"==typeof t)return be(t)?new Zt(t):new te(t);if("boolean"==typeof t)return Xt.of(t);if("string"==typeof t)return new ee(t);if(t instanceof Date)return new ne(ft.fromDate(t));if(t instanceof ft)return new ne(new ft(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ht)return new se(t);if(t instanceof Bn)return new re(t);if(t instanceof so)return new oe(t.s,t.key);throw e.Xl("Unsupported field value: "+ot(t))},t.prototype.ld=function(t,e){var i=this;return e.map((function(e,n){var r=new oo(Fr.ql,t,gt.et);return i.td(e,r.Yl(n))}))},t}();function uo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof ht||t instanceof Bn||t instanceof so||t instanceof Yr)}function co(t,e,i){if(!uo(i)||!it(i)){var n=ot(i);throw"an object"===n?e.Xl(t+" a custom object"):e.Xl(t+" "+n)}}function lo(t,e){if(e instanceof Gr)return e.Ol;if("string"==typeof e)return ho(t,e);throw new M(R.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function ho(t,i){try{return function(t){if(t.search(Wr)>=0)throw new M(R.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Gr.bind.apply(Gr,l.__spreadArrays([void 0],t.split("."))))}catch(e){throw new M(R.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(i).Ol}catch(n){var e=fo(n);throw new M(R.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+e)}}function fo(t){return t instanceof Error?t.message:t.toString()}var po=function(){function t(t){this.dd=t,this.vd=nn(),this.mutations=[],this.wd=!1,this.md=null,this.pd=new Set}return t.prototype.lookup=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i=this;return l.__generator(this,(function(n){switch(n.label){case 0:if(this.gd(),this.mutations.length>0)throw new M(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.dd.lookup(t)];case 1:return(e=n.sent()).forEach((function(t){t instanceof fe||t instanceof he?i.bd(t):k("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ll(t,this.rn(t))),this.pd.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ll(t,this.yd(t)))}catch(t){this.md=t}this.pd.add(t)},t.prototype.delete=function(t){this.write([new zt(t,this.rn(t))]),this.pd.add(t)},t.prototype.commit=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e=this;return l.__generator(this,(function(i){switch(i.label){case 0:if(this.gd(),this.md)throw this.md;return t=this.vd,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,i){e.mutations.push(new Gt(t,e.rn(t)))})),[4,this.dd.commit(this.mutations)];case 1:return i.sent(),this.wd=!0,[2]}}))}))},t.prototype.bd=function(t){var e;if(t instanceof he)e=t.version;else{if(!(t instanceof fe))throw k("Document in a transaction was a "+t.constructor.name);e=pt.B()}var i=this.vd.get(t.key);if(null!==i){if(!e.isEqual(i))throw new M(R.ABORTED,"Document version changed between two reads.")}else this.vd=this.vd.lt(t.key,e)},t.prototype.rn=function(t){var e=this.vd.get(t);return!this.pd.has(t)&&e?Ft.updateTime(e):Ft.NONE},t.prototype.yd=function(t){var e=this.vd.get(t);if(!this.pd.has(t)&&e){if(e.isEqual(pt.B()))throw new M(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(e)}return Ft.exists(!0)},t.prototype.write=function(t){this.gd(),this.mutations=this.mutations.concat(t)},t.prototype.gd=function(){E(!this.wd,"A transaction object cannot be used after its update callback has been invoked.")},t}(),vo=function(){function t(t,e){this.Pu=t,this._d=e,this.state="Unknown",this.Id=0,this.Td=null,this.Ed=!0}return t.prototype.Rd=function(){var t=this;0===this.Id&&(this.Ad("Unknown"),E(null===this.Td,"onlineStateTimer shouldn't be started yet"),this.Td=this.Pu.Yu(jn.Eu,1e4,(function(){return t.Td=null,E("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Dd("Backend didn't respond within 10 seconds."),t.Ad("Offline"),Promise.resolve()})))},t.prototype.Pd=function(t){"Online"===this.state?(this.Ad("Unknown"),E(0===this.Id,"watchStreamFailures must be 0"),E(null===this.Td,"onlineStateTimer must be null")):(this.Id++,this.Id>=1&&(this.Sd(),this.Dd("Connection failed 1 times. Most recent error: "+t.toString()),this.Ad("Offline")))},t.prototype.set=function(t){this.Sd(),this.Id=0,"Online"===t&&(this.Ed=!1),this.Ad(t)},t.prototype.Ad=function(t){t!==this.state&&(this.state=t,this._d(t))},t.prototype.Dd=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ed?(I(e),this.Ed=!1):_("OnlineStateTracker",e)},t.prototype.Sd=function(){null!==this.Td&&(this.Td.cancel(),this.Td=null)},t}(),mo="RemoteStore",yo=function(){function t(t,e,i,n,s){var r=this;this.Nc=t,this.dd=e,this.Cd=[],this.kd={},this.Vd=null,this.networkEnabled=!1,this.isPrimary=!1,this.Nd=s,this.Nd.Od((function(t){i.xu((function(){return l.__awaiter(r,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(_(mo,"Restarting streams for network reachability change."),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.xd=new vo(i,n),this.jd=this.dd.kl({yl:this.Ld.bind(this),wl:this.Bd.bind(this),Il:this.Md.bind(this)}),this.qd=this.dd.Cl({yl:this.Qd.bind(this),wl:this.Gd.bind(this),Pl:this.Wd.bind(this),Dl:this.Dl.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return l.__awaiter(this,void 0,void 0,(function(){var t;return l.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Fd()?(t=this.qd,[4,this.Nc._o()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.zd()?this.Kd():this.xd.set("Unknown"),[4,this.Hd()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Offline"),[2]}}))}))},t.prototype.Jd=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return[4,this.qd.stop()];case 1:return t.sent(),[4,this.jd.stop()];case 2:return t.sent(),this.Cd.length>0&&(_(mo,"Stopping write stream with "+this.Cd.length+" pending writes"),this.Cd=[]),this.Yd(),[2]}}))}))},t.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return _(mo,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.Nd.shutdown(),this.xd.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){U(this.kd,t.targetId)||(this.kd[t.targetId]=t,this.zd()?this.Kd():this.jd.ol()&&this.Xd(t))},t.prototype.$d=function(t){E(U(this.kd,t),"unlisten called on target no currently watched: "+t),delete this.kd[t],this.jd.ol()&&this.Zd(t),G(this.kd)&&(this.jd.ol()?this.jd.al():this.Fd()&&this.xd.set("Unknown"))},t.prototype.Ye=function(t){return this.kd[t]||null},t.prototype.Je=function(t){return this.tv.Je(t)},t.prototype.Xd=function(t){this.Vd.De(t.targetId),this.jd.watch(t)},t.prototype.Zd=function(t){this.Vd.De(t),this.jd.Tl(t)},t.prototype.Kd=function(){E(this.zd(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Vd=new In(this),this.jd.start(),this.xd.Rd()},t.prototype.zd=function(){return this.Fd()&&!this.jd.sl()&&!G(this.kd)},t.prototype.Fd=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Yd=function(){this.Vd=null},t.prototype.Ld=function(){return l.__awaiter(this,void 0,void 0,(function(){var t=this;return l.__generator(this,(function(e){return H(this.kd,(function(e,i){t.Xd(i)})),[2]}))}))},t.prototype.Bd=function(t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return void 0===t&&E(!this.zd(),"Watch stream was stopped gracefully while still needed."),this.Yd(),this.zd()?(this.xd.Pd(t),this.Kd()):this.xd.set("Unknown"),[2]}))}))},t.prototype.Md=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var i;return l.__generator(this,(function(n){switch(n.label){case 0:return this.xd.set("Online"),t instanceof wn&&t.state===fn.Mi&&t.cause?[2,this.nv(t)]:(t instanceof gn?this.Vd.Fe(t):t instanceof bn?this.Vd.Qe(t):(E(t instanceof wn,"Expected watchChange to be an instance of WatchTargetChange"),this.Vd.je(t)),e.isEqual(pt.MIN)?[3,3]:[4,this.Nc.xh()]);case 1:return i=n.sent(),e.h(i)>=0?[4,this.iv(e)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.iv=function(t){var e=this;E(!t.isEqual(pt.MIN),"Can't raise event for unknown SnapshotVersion");var i=this.Vd.ze(t);return H(i.Zi,(function(i,n){if(n.resumeToken.Nn()>0){var r=e.kd[i];r&&(e.kd[i]=r.Fi(n.resumeToken,t))}})),i.te.forEach((function(t){var i=e.kd[t];if(i){e.kd[t]=i.Fi(Fe.Pi,i.Ni),e.Zd(t);var n=new ze(i.target,t,Ve.Ci,i.sequenceNumber);e.Xd(n)}})),this.tv.jh(i)},t.prototype.nv=function(t){var e=this;E(!!t.cause,"Handling target error without a cause");var i=t.cause,n=Promise.resolve();return t.targetIds.forEach((function(t){n=n.then((function(){return l.__awaiter(e,void 0,void 0,(function(){return l.__generator(this,(function(e){return U(this.kd,t)?(delete this.kd[t],this.Vd.removeTarget(t),[2,this.tv.ev(t,i)]):[2]}))}))}))})),n},t.prototype.Hd=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e;return l.__generator(this,(function(i){switch(i.label){case 0:return this.rv()?(t=this.Cd.length>0?this.Cd[this.Cd.length-1].batchId:-1,[4,this.Nc.Hh(t)]):[3,4];case 1:return null!==(e=i.sent())?[3,2]:(0===this.Cd.length&&this.qd.al(),[3,4]);case 2:return this.uv(e),[4,this.Hd()];case 3:i.sent(),i.label=4;case 4:return this.sv()&&this.ov(),[2]}}))}))},t.prototype.rv=function(){return this.Fd()&&this.Cd.length<10},t.prototype.hv=function(){return this.Cd.length},t.prototype.uv=function(t){E(this.rv(),"addToWritePipeline called when pipeline is full"),this.Cd.push(t),this.qd.ol()&&this.qd.Rl&&this.qd.Al(t.mutations)},t.prototype.sv=function(){return this.Fd()&&!this.qd.sl()&&this.Cd.length>0},t.prototype.ov=function(){E(this.sv(),"startWriteStream() called when shouldStartWriteStream() is false."),this.qd.start()},t.prototype.Qd=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return this.qd.Sl(),[2]}))}))},t.prototype.Wd=function(){var t=this;return this.Nc.Io(this.qd.lastStreamToken).then((function(){for(var e=0,i=t.Cd;e<i.length;e++){var n=i[e];t.qd.Al(n.mutations)}})).catch(Ci)},t.prototype.Dl=function(t,e){var i=this;E(this.Cd.length>0,"Got result for empty write pipeline");var n=this.Cd.shift(),r=ti.from(n,t,e,this.qd.lastStreamToken);return this.tv.cv(r).then((function(){return i.Hd()}))},t.prototype.Gd=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e=this;return l.__generator(this,(function(i){return void 0===t&&E(!this.sv(),"Write stream was stopped gracefully while still needed."),t&&this.Cd.length>0?[2,(this.qd.Rl?this.av(t):this.fv(t)).then((function(){e.sv()&&e.ov()}))]:[2]}))}))},t.prototype.fv=function(t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return We(t.code)?(_(mo,"RemoteStore error before completed handshake; resetting stream token: ",this.qd.lastStreamToken),this.qd.lastStreamToken=Fe.Pi,[2,this.Nc.Io(Fe.Pi).catch(Ci)]):[2]}))}))},t.prototype.av=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i=this;return l.__generator(this,(function(n){return We(r=t.code)&&r!==R.ABORTED?(e=this.Cd.shift(),this.qd.cl(),[2,this.tv.lv(e.batchId,t).then((function(){return i.Hd()}))]):[2];var r}))}))},t.prototype.dv=function(){return new po(this.dd)},t.prototype.Ud=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.vv=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(_(mo,"RemoteStore restarting streams for new credential"),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.wv=function(t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.Jd()];case 3:e.sent(),this.xd.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),go="firestore_clients";function bo(t,e){return E(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),go+"_"+t+"_"+e}var wo="firestore_mutations";function _o(t,e,i){var n=wo+"_"+t+"_"+i;return e.l()&&(n+="_"+e.uid),n}var Io="firestore_targets";function So(t,e){return Io+"_"+t+"_"+e}var ko="firestore_online_state",Eo="firestore_sequence_number",To="SharedClientState",Ao=function(){function t(t,e,i,n){this.user=t,this.batchId=e,this.state=i,this.error=n,E(void 0!==n==("rejected"===i),"MutationMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,i,n){var r=JSON.parse(n),u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new M(r.error.code,r.error.message)),u?new t(e,i,r.state,s):(I(To,"Failed to parse mutation state for ID '"+i+"': "+n),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Do=function(){function t(t,e,i){this.targetId=t,this.state=e,this.error=i,E(void 0!==i==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,i){var n=JSON.parse(i),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),u=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(u=new M(n.error.code,n.error.message)),r?new t(e,n.state,u):(I(To,"Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),No=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.mv=function(e,i){for(var n=JSON.parse(i),r="object"==typeof n&&n.activeTargetIds instanceof Array,u=sn(),s=0;r&&s<n.activeTargetIds.length;++s)r=be(n.activeTargetIds[s]),u=u.add(n.activeTargetIds[s]);return r?new t(e,u):(I(To,"Failed to parse client data for instance '"+e+"': "+i),null)},t}(),Co=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.mv=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(I(To,"Failed to parse online state: "+e),null)},t}(),Oo=function(){function t(){this.activeTargetIds=sn()}return t.prototype.gv=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.bv=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.pv=function(){var t={activeTargetIds:this.activeTargetIds.tt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xo=function(){function t(e,i,n,r,u){if(this.Aa=e,this.platform=i,this.persistenceKey=n,this.yv=r,this.tv=null,this._d=null,this.vu=null,this._v={},this.Iv=this.Tv.bind(this),this.mh=!1,this.Ev=[],!t.Hs(this.platform))throw new M(R.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=u,this.Rv=bo(this.persistenceKey,this.yv),this.Av=function(t){return Eo+"_"+t}(this.persistenceKey),this._v[this.yv]=new Oo,this.Dv=new RegExp("^"+go+"_"+s+"_([^_]*)$"),this.Pv=new RegExp("^"+wo+"_"+s+"_(\\d+)(?:_(.*))?$"),this.Sv=new RegExp("^"+Io+"_"+s+"_(\\d+)$"),this.Cv=function(t){return ko+"_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Iv)}return t.Hs=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return l.__awaiter(this,void 0,void 0,(function(){var t,e,i,n,r,s,o,c,h,a,f,d=this;return l.__generator(this,(function(u){switch(u.label){case 0:return E(!this.mh,"WebStorageSharedClientState already started"),E(null!==this.tv,"syncEngine property must be set before calling start()"),E(null!==this._d,"onlineStateHandler property must be set before calling start()"),[4,this.tv.uc()];case 1:for(t=u.sent(),e=0,i=t;e<i.length;e++)(n=i[e])!==this.yv&&(r=this.getItem(bo(this.persistenceKey,n)))&&(s=No.mv(n,r))&&(this._v[s.clientId]=s);for(this.kv(),(o=this.storage.getItem(this.Cv))&&(c=this.Vv(o))&&this.Nv(c),h=0,a=this.Ev;h<a.length;h++)f=a[h],this.Tv(f);return this.Ev=[],this.platform.window.addEventListener("unload",(function(){return d.shutdown()})),this.mh=!0,[2]}}))}))},t.prototype.pu=function(t){this.setItem(this.Av,JSON.stringify(t))},t.prototype.Ov=function(){var t=sn();return z(this._v,(function(e,i){t=t.qt(i.activeTargetIds)})),t},t.prototype.Fv=function(t){for(var e in this._v)if(this._v.hasOwnProperty(e)&&this._v[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Uv=function(t){this.xv(t,"pending")},t.prototype.jv=function(t,e,i){this.xv(t,e,i),this.Lv(t)},t.prototype.Bv=function(t){var e="not-current";if(this.Fv(t)){var i=this.storage.getItem(So(this.persistenceKey,t));if(i){var n=Do.mv(t,i);n&&(e=n.state)}}return this.Mv.gv(t),this.kv(),e},t.prototype.qv=function(t){this.Mv.bv(t),this.kv()},t.prototype.Qv=function(t){return this.Mv.activeTargetIds.has(t)},t.prototype.Gv=function(t){this.removeItem(So(this.persistenceKey,t))},t.prototype.Wv=function(t,e,i){this.zv(t,e,i)},t.prototype.Dh=function(t,e,i){var n=this;e.forEach((function(t){n.Lv(t)})),this.currentUser=t,i.forEach((function(t){n.Uv(t)}))},t.prototype.Kv=function(t){this.Hv(t)},t.prototype.shutdown=function(){this.mh&&(this.platform.window.removeEventListener("storage",this.Iv),this.removeItem(this.Rv),this.mh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return _(To,"READ",t,e),e},t.prototype.setItem=function(t,e){_(To,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){_(To,"REMOVE",t),this.storage.removeItem(t)},t.prototype.Tv=function(t){var e=this;if(t.storageArea===this.storage){if(_(To,"EVENT",t.key,t.newValue),t.key===this.Rv)return void I("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Aa.xu((function(){return l.__awaiter(e,void 0,void 0,(function(){var e,i,n,r,s,o;return l.__generator(this,(function(u){if(!this.mh)return this.Ev.push(t),[2];if(null===t.key)return[2];if(this.Dv.test(t.key)){if(null==t.newValue)return i=this.Jv(t.key),[2,this.Yv(i,null)];if(e=this.Xv(t.key,t.newValue))return[2,this.Yv(e.clientId,e)]}else if(this.Pv.test(t.key)){if(null!==t.newValue&&(n=this.$v(t.key,t.newValue)))return[2,this.Zv(n)]}else if(this.Sv.test(t.key)){if(null!==t.newValue&&(r=this.tw(t.key,t.newValue)))return[2,this.nw(r)]}else if(t.key===this.Cv){if(null!==t.newValue&&(s=this.Vv(t.newValue)))return[2,this.Nv(s)]}else t.key===this.Av&&(E(!!this.vu,"Missing sequenceNumberHandler"),(o=function(t){var e=Un.gu;if(null!=t)try{var i=JSON.parse(t);E("number"==typeof i,"Found non-numeric sequence number"),e=i}catch(t){I(To,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Un.gu&&this.vu(o));return[2]}))}))}))}},Object.defineProperty(t.prototype,"Mv",{get:function(){return this._v[this.yv]},enumerable:!0,configurable:!0}),t.prototype.kv=function(){this.setItem(this.Rv,this.Mv.pv())},t.prototype.xv=function(t,e,i){var n=new Ao(this.currentUser,t,e,i),r=_o(this.persistenceKey,this.currentUser,t);this.setItem(r,n.pv())},t.prototype.Lv=function(t){var e=_o(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hv=function(t){var e={clientId:this.yv,onlineState:t};this.storage.setItem(this.Cv,JSON.stringify(e))},t.prototype.zv=function(t,e,i){var n=So(this.persistenceKey,t),r=new Do(t,e,i);this.setItem(n,r.pv())},t.prototype.Jv=function(t){var e=this.Dv.exec(t);return e?e[1]:null},t.prototype.Xv=function(t,e){var i=this.Jv(t);return E(null!==i,"Cannot parse client state key '"+t+"'"),No.mv(i,e)},t.prototype.$v=function(t,e){var i=this.Pv.exec(t);E(null!==i,"Cannot parse mutation batch key '"+t+"'");var n=Number(i[1]),r=void 0!==i[2]?i[2]:null;return Ao.mv(new P(r),n,e)},t.prototype.tw=function(t,e){var i=this.Sv.exec(t);E(null!==i,"Cannot parse query target key '"+t+"'");var n=Number(i[1]);return Do.mv(n,e)},t.prototype.Vv=function(t){return Co.mv(t)},t.prototype.Zv=function(t){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(_(To,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.tv.iw(t.batchId,t.state,t.error)]}))}))},t.prototype.nw=function(t){return this.tv.ew(t.targetId,t.state,t.error)},t.prototype.Yv=function(t,e){var i=this,n=this.Ov();e?this._v[t]=e:delete this._v[t];var s=this.Ov(),r=[],o=[];return s.forEach((function(t){return l.__awaiter(i,void 0,void 0,(function(){return l.__generator(this,(function(e){return n.has(t)||r.push(t),[2]}))}))})),n.forEach((function(t){return l.__awaiter(i,void 0,void 0,(function(){return l.__generator(this,(function(e){return s.has(t)||o.push(t),[2]}))}))})),this.tv.rw(r,o)},t.prototype.Nv=function(t){this._v[t.clientId]&&this._d(t.onlineState)},t}(),Po=function(){function t(){this.uw=new Oo,this.sw={},this.tv=null,this._d=null,this.vu=null}return t.prototype.Uv=function(t){},t.prototype.jv=function(t,e,i){},t.prototype.Bv=function(t){return this.uw.gv(t),this.sw[t]||"not-current"},t.prototype.Wv=function(t,e,i){this.sw[t]=e},t.prototype.qv=function(t){this.uw.bv(t)},t.prototype.Qv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.Gv=function(t){delete this.sw[t]},t.prototype.Ov=function(){return this.uw.activeTargetIds},t.prototype.Fv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.start=function(){return this.uw=new Oo,Promise.resolve()},t.prototype.Dh=function(t,e,i){},t.prototype.Kv=function(t){},t.prototype.shutdown=function(){},t.prototype.pu=function(t){},t}(),Ro=function(t){this.key=t},Mo=function(t){this.key=t},Lo=function(){function t(t,e){this.query=t,this.ow=e,this.hw=null,this.ue=!1,this.cw=li(),this.Ji=li(),this.aw=new hn(t.di.bind(t))}return Object.defineProperty(t.prototype,"fw",{get:function(){return this.ow},enumerable:!0,configurable:!0}),t.prototype.lw=function(t,e){var i=this,n=e?e.dw:new pn,r=e?e.aw:this.aw,u=e?e.Ji:this.Ji,s=r,o=!1,c=this.query.gi()&&r.size===this.query.limit?r.last():null,l=this.query.bi()&&r.size===this.query.limit?r.first():null;if(t.pt((function(t,e){var a=r.get(t),h=e instanceof he?e:null;h&&(E(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=i.query.matches(h)?h:null);var f=!!a&&i.Ji.has(a.key),d=!!h&&(h.un||i.Ji.has(h.key)&&h.hasCommittedMutations),v=!1;a&&h?a.data().isEqual(h.data())?f!==d&&(n.track({type:an.Qi,doc:h}),v=!0):i.vw(a,h)||(n.track({type:an.qi,doc:h}),v=!0,(c&&i.query.di(h,c)>0||l&&i.query.di(h,l)<0)&&(o=!0)):!a&&h?(n.track({type:an.Bi,doc:h}),v=!0):a&&!h&&(n.track({type:an.Mi,doc:a}),v=!0,(c||l)&&(o=!0)),v&&(h?(s=s.add(h),u=d?u.add(t):u.delete(t)):(s=s.delete(t),u=u.delete(t)))})),this.query.gi()||this.query.bi())for(;s.size>this.query.limit;){var a=this.query.gi()?s.last():s.first();s=s.delete(a.key),u=u.delete(a.key),n.track({type:an.Mi,doc:a})}return E(!o||!e,"View was refilled using docs that themselves needed refilling."),{aw:s,dw:n,gf:o,Ji:u}},t.prototype.vw=function(t,e){return t.un&&e.hasCommittedMutations&&!e.un},t.prototype.qs=function(t,e,i){var n=this;E(!t.gf,"Cannot apply changes that need a refill");var r=this.aw;this.aw=t.aw,this.Ji=t.Ji;var u=t.dw.Ki();u.sort((function(t,e){return function(t,e){var i=function(t){switch(t){case an.Bi:return 1;case an.qi:case an.Qi:return 2;case an.Mi:return 0;default:return k("Unknown ChangeType: "+t)}};return i(t)-i(e)}(t.type,e.type)||n.query.di(t.doc,e.doc)})),this.ww(i);var s=e?this.mw():[],o=0===this.cw.size&&this.ue?cn.Wi:cn.Gi,c=o!==this.hw;return this.hw=o,0!==u.length||c?{snapshot:new vn(this.query,t.aw,r,u,t.Ji,o===cn.Gi,c,!1),pw:s}:{pw:s}},t.prototype.gw=function(t){return this.ue&&"Offline"===t?(this.ue=!1,this.qs({aw:this.aw,dw:new pn,Ji:this.Ji,gf:!1},!1)):{pw:[]}},t.prototype.bw=function(t){return!this.ow.has(t)&&!!this.aw.has(t)&&!this.aw.get(t).un},t.prototype.ww=function(t){var e=this;t&&(t.se.forEach((function(t){return e.ow=e.ow.add(t)})),t.oe.forEach((function(t){return E(e.ow.has(t),"Modified document "+t+" not found in view.")})),t.he.forEach((function(t){return e.ow=e.ow.delete(t)})),this.ue=t.ue)},t.prototype.mw=function(){var t=this;if(!this.ue)return[];var e=this.cw;this.cw=li(),this.aw.forEach((function(e){t.bw(e.key)&&(t.cw=t.cw.add(e.key))}));var i=[];return e.forEach((function(e){t.cw.has(e)||i.push(new Mo(e))})),this.cw.forEach((function(t){e.has(t)||i.push(new Ro(t))})),i},t.prototype.yw=function(t){this.ow=t.ec,this.cw=li();var e=this.lw(t.documents);return this.qs(e,!0)},t.prototype._w=function(){return vn.$i(this.query,this.aw,this.Ji,this.hw===cn.Gi)},t}(),jo=5,Vo=function(){function t(t,e,i,n){this.Pu=t,this.Iw=e,this.updateFunction=i,this.Vu=n,this.Tw=jo,this.ul=new Br(this.Pu,jn.Du)}return t.prototype.run=function(){this.Ew()},t.prototype.Ew=function(){var t=this;this.ul.Jf((function(){return l.__awaiter(t,void 0,void 0,(function(){var t,e,i=this;return l.__generator(this,(function(n){return t=this.Iw.dv(),(e=this.Rw(t))&&e.then((function(e){i.Pu.xu((function(){return t.commit().then((function(){i.Vu.resolve(e)})).catch((function(t){i.Aw(t)}))}))})).catch((function(t){i.Aw(t)})),[2]}))}))}))},t.prototype.Rw=function(t){try{var e=this.updateFunction(t);return!ge(e)&&e.catch&&e.then?e:(this.Vu.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Vu.reject(t),null}},t.prototype.Aw=function(t){var e=this;this.Tw>0&&this.Dw(t)?(this.Tw-=1,this.Pu.xu((function(){return e.Ew(),Promise.resolve()}))):this.Vu.reject(t)},t.prototype.Dw=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!We(e)}return!1},t}(),Bo=function(t,e,i){this.query=t,this.targetId=e,this.view=i},Fo=function(t){this.key=t,this.Pw=!1},Uo=function(){function t(t,e,i,n){this.Nc=t,this.Iw=e,this.Sw=i,this.currentUser=n,this.Cw=null,this.kw=new ii((function(t){return t.canonicalId()})),this.Vw={},this.Nw=new wt(bt.G),this.Ow={},this.Fw=new ei,this.Uw={},this.xw=new Map,this.jw=Ei.Ko(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Lw",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){E(null!==t,"SyncEngine listener cannot be null"),E(null===this.Cw,"SyncEngine already has a subscriber."),this.Cw=t},t.prototype.listen=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i,n,r,s;return l.__generator(this,(function(u){switch(u.label){case 0:return this.Bw("listen()"),(n=this.kw.get(t))?(e=n.targetId,this.Sw.Bv(e),i=n.view._w(),[3,4]):[3,1];case 1:return[4,this.Nc.Yh(t.li())];case 2:return r=u.sent(),s=this.Sw.Bv(r.targetId),e=r.targetId,[4,this.Mw(t,e,"current"===s)];case 3:i=u.sent(),this.isPrimary&&this.Iw.listen(r),u.label=4;case 4:return this.Cw.Il([i]),[2,e]}}))}))},t.prototype.Mw=function(t,e,i){return l.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,c,h;return l.__generator(this,(function(u){switch(u.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return n=u.sent(),r=new Lo(t,n.ec),s=r.lw(n.documents),o=yn.re(e,i&&"Offline"!==this.onlineState),E(0===(c=r.qs(s,!0===this.isPrimary,o)).pw.length,"View returned limbo docs before target ack from the server."),E(!!c.snapshot,"applyChanges for new view should always return a snapshot"),h=new Bo(t,e,r),this.kw.set(t,h),this.Vw[e]||(this.Vw[e]=[]),this.Vw[e].push(t),[2,c.snapshot]}}))}))},t.prototype.qw=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i;return l.__generator(this,(function(n){switch(n.label){case 0:return[4,this.Nc.nc(t.query,!0)];case 1:return e=n.sent(),i=t.view.yw(e),this.isPrimary&&this.Qw(t.targetId,i.pw),[2,i]}}))}))},t.prototype.$d=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i,n=this;return l.__generator(this,(function(r){switch(r.label){case 0:return this.Bw("unlisten()"),E(!!(e=this.kw.get(t)),"Trying to unlisten on query not found:"+t),(i=this.Vw[e.targetId]).length>1?(this.Vw[e.targetId]=i.filter((function(e){return!e.isEqual(t)})),this.kw.delete(t),[2]):this.isPrimary?(this.Sw.qv(e.targetId),this.Sw.Fv(e.targetId)?[3,2]:[4,this.Nc.tc(e.targetId,!1).then((function(){n.Sw.Gv(e.targetId),n.Iw.$d(e.targetId),n.Gw(e.targetId)})).catch(Ci)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.Gw(e.targetId),[4,this.Nc.tc(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var i;return l.__generator(this,(function(n){switch(n.label){case 0:return this.Bw("write()"),[4,this.Nc.kh(t)];case 1:return i=n.sent(),this.Sw.Uv(i.batchId),this.Ww(i.batchId,e),[4,this.zw(i.Ns)];case 2:return n.sent(),[4,this.Iw.Hd()];case 3:return n.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,i){new Vo(t,this.Iw,e,i).run()},t.prototype.jh=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i=this;return l.__generator(this,(function(n){switch(n.label){case 0:this.Bw("applyRemoteEvent()"),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.Nc.jh(t)];case 2:return e=n.sent(),z(t.Zi,(function(t,e){var n=i.Ow[Number(t)];n&&(E(e.se.size+e.oe.size+e.he.size<=1,"Limbo resolution for single document contains multiple changes."),e.se.size>0?n.Pw=!0:e.oe.size>0?E(n.Pw,"Received change for limbo target document without add."):e.he.size>0&&(E(n.Pw,"Received remove for limbo target document without add."),n.Pw=!1))})),[4,this.zw(e,t)];case 3:return n.sent(),[3,6];case 4:return[4,Ci(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.gw=function(t,e){if(this.isPrimary&&e===Se.Ri||!this.isPrimary&&e===Se.Ai){this.Bw("applyOnlineStateChange()");var i=[];this.kw.forEach((function(e,n){var r=n.view.gw(t);E(0===r.pw.length,"OnlineState should not affect limbo documents."),r.snapshot&&i.push(r.snapshot)})),this.Cw.Kw(t),this.Cw.Il(i),this.onlineState=t,this.isPrimary&&this.Sw.Kv(t)}},t.prototype.ev=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var i,n,r,s,o,c=this;return l.__generator(this,(function(u){switch(u.label){case 0:return this.Bw("rejectListens()"),this.Sw.Wv(t,"rejected",e),i=this.Ow[t],(n=i&&i.key)?(this.Nw=this.Nw.remove(n),delete this.Ow[t],r=(r=new wt(bt.G)).lt(n,new fe(n,pt.B())),s=li().add(n),o=new mn(pt.MIN,{},new kt(A),r,s),[2,this.jh(o)]):[3,1];case 1:return[4,this.Nc.tc(t,!1).then((function(){return c.Gw(t,e)})).catch(Ci)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))},t.prototype.iw=function(t,e,i){return l.__awaiter(this,void 0,void 0,(function(){var n;return l.__generator(this,(function(r){switch(r.label){case 0:return this.Bw("applyBatchState()"),[4,this.Nc.Vh(t)];case 1:return null===(n=r.sent())?(_("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Iw.Hd()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Hw(t,i||null),this.Nc.sc(t)):k("Unknown batchState: "+e),r.label=4;case 4:return[4,this.zw(n)];case 5:return r.sent(),[2]}}))}))},t.prototype.cv=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i;return l.__generator(this,(function(n){switch(n.label){case 0:this.Bw("applySuccessfulWrite()"),e=t.batch.batchId,this.Hw(e,null),this.Jw(e),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.Nc.bo(t)];case 2:return i=n.sent(),this.Sw.jv(e,"acknowledged"),[4,this.zw(i)];case 3:return n.sent(),[3,6];case 4:return[4,Ci(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.lv=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var i;return l.__generator(this,(function(n){switch(n.label){case 0:this.Bw("rejectFailedWrite()"),this.Hw(t,e),this.Jw(t),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.Nc.Uh(t)];case 2:return i=n.sent(),this.Sw.jv(t,"rejected",e),[4,this.zw(i)];case 3:return n.sent(),[3,6];case 4:return[4,Ci(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Yw=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i;return l.__generator(this,(function(n){switch(n.label){case 0:return this.Iw.Fd()||_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.Nc.Co()];case 1:return-1===(e=n.sent())?(t.resolve(),[2]):((i=this.xw.get(e)||[]).push(t),this.xw.set(e,i),[2])}}))}))},t.prototype.Jw=function(t){(this.xw.get(t)||[]).forEach((function(t){t.resolve()})),this.xw.delete(t)},t.prototype.Xw=function(t){this.xw.forEach((function(e){e.forEach((function(e){e.reject(new M(R.CANCELLED,t))}))})),this.xw.clear()},t.prototype.Ww=function(t,e){var i=this.Uw[this.currentUser.v()];i||(i=new wt(A)),i=i.lt(t,e),this.Uw[this.currentUser.v()]=i},t.prototype.Hw=function(t,e){var i=this.Uw[this.currentUser.v()];if(i){var n=i.get(t);n&&(E(t===i.vt(),"Mutation callbacks processed out-of-order?"),e?n.reject(e):n.resolve(),i=i.remove(t)),this.Uw[this.currentUser.v()]=i}},t.prototype.Gw=function(t,e){var i=this;void 0===e&&(e=null),this.Sw.qv(t),E(this.Vw[t]&&0!==this.Vw[t].length,"There are no queries mapped to target id "+t);for(var n=0,r=this.Vw[t];n<r.length;n++){var u=r[n];this.kw.delete(u),e&&this.Cw.$w(u,e)}if(delete this.Vw[t],this.isPrimary){var s=this.Fw.gs(t);this.Fw.ms(t),s.forEach((function(t){i.Fw.bs(t)||i.Zw(t)}))}},t.prototype.Zw=function(t){var e=this.Nw.get(t);null!==e&&(this.Iw.$d(e),this.Nw=this.Nw.remove(t),delete this.Ow[e])},t.prototype.Qw=function(t,e){for(var i=0,n=e;i<n.length;i++){var r=n[i];r instanceof Ro?(this.Fw.fs(r.key,t),this.tm(r)):r instanceof Mo?(_("SyncEngine","Document no longer in limbo: "+r.key),this.Fw.ds(r.key,t),this.Fw.bs(r.key)||this.Zw(r.key)):k("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.tm=function(t){var e=t.key;if(!this.Nw.get(e)){_("SyncEngine","New document in limbo: "+e);var i=this.jw.next(),n=Ee.ti(e.path);this.Ow[i]=new Fo(e),this.Iw.listen(new ze(n.li(),i,Ve.ki,Un.gu)),this.Nw=this.Nw.lt(e,i)}},t.prototype.nm=function(){return this.Nw},t.prototype.zw=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var i,n,r,s=this;return l.__generator(this,(function(u){switch(u.label){case 0:return i=[],n=[],r=[],this.kw.forEach((function(u,o){r.push(Promise.resolve().then((function(){var e=o.view.lw(t);return e.gf?s.Nc.nc(o.query,!1).then((function(t){var i=t.documents;return o.view.lw(i,e)})):e})).then((function(t){var r=e&&e.Zi[o.targetId],u=o.view.qs(t,!0===s.isPrimary,r);if(s.Qw(o.targetId,u.pw),u.snapshot){s.isPrimary&&s.Sw.Wv(o.targetId,u.snapshot.fromCache?"not-current":"current"),i.push(u.snapshot);var c=Ai.ah(o.targetId,u.snapshot);n.push(c)}})))})),[4,Promise.all(r)];case 1:return u.sent(),this.Cw.Il(i),[4,this.Nc.Kh(n)];case 2:return u.sent(),[2]}}))}))},t.prototype.Bw=function(t){E(null!==this.Cw,"Trying to call "+t+" before calling subscribe().")},t.prototype.vv=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i;return l.__generator(this,(function(n){switch(n.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Xw("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.Nc.Dh(t)]):[3,3];case 1:return i=n.sent(),this.Sw.Dh(t,i.Sh,i.Ch),[4,this.zw(i.Ph)];case 2:n.sent(),n.label=3;case 3:return[4,this.Iw.vv()];case 4:return n.sent(),[2]}}))}))},t.prototype.wv=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i,n,r,s,o,c=this;return l.__generator(this,(function(u){switch(u.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Iw.wv(!0)]);case 1:return u.sent(),s=this.Sw.Ov(),[4,this.im(s.tt())];case 2:for(e=u.sent(),i=0,n=e;i<n.length;i++)r=n[i],this.Iw.listen(r);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],o=Promise.resolve(),H(this.Vw,(function(t,e){c.Sw.Qv(t)?s.push(t):o=o.then((function(){return c.Gw(t),c.Nc.tc(t,!0)})),c.Iw.$d(t)})),[4,o]);case 4:return u.sent(),[4,this.im(s)];case 5:return u.sent(),this.em(),[4,this.Iw.wv(!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},t.prototype.em=function(){var t=this;H(this.Ow,(function(e){t.Iw.$d(e)})),this.Fw.ps(),this.Ow=[],this.Nw=new wt(bt.G)},t.prototype.im=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i,n,r,s,o,c,h,a,f,d,v,m;return l.__generator(this,(function(u){switch(u.label){case 0:e=[],i=[],n=0,r=t,u.label=1;case 1:return n<r.length?(s=r[n],o=void 0,(c=this.Vw[s])&&0!==c.length?[4,this.Nc.tc(s,!0)]:[3,8]):[3,14];case 2:return u.sent(),[4,this.Nc.Yh(c[0].li())];case 3:o=u.sent(),h=0,a=c,u.label=4;case 4:return h<a.length?(f=a[h],E(!!(d=this.kw.get(f)),"No query view found for "+f),[4,this.qw(d)]):[3,7];case 5:(v=u.sent()).snapshot&&i.push(v.snapshot),u.label=6;case 6:return h++,[3,4];case 7:return[3,12];case 8:return E(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.Nc.ac(s)];case 9:return E(!!(m=u.sent()),"Target for id "+s+" not found"),[4,this.Nc.Yh(m)];case 10:return o=u.sent(),[4,this.Mw(this.rm(m),s,!1)];case 11:u.sent(),u.label=12;case 12:e.push(o),u.label=13;case 13:return n++,[3,1];case 14:return this.Cw.Il(i),[2,e]}}))}))},t.prototype.rm=function(t){return new Ee(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,we.Kn,t.startAt,t.endAt)},t.prototype.uc=function(){return this.Nc.uc()},t.prototype.ew=function(t,e,i){return l.__awaiter(this,void 0,void 0,(function(){var n,r;return l.__generator(this,(function(u){switch(u.label){case 0:if(this.isPrimary)return _("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Vw[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.Nc.fc()];case 2:return n=u.sent(),r=mn.ee(t,"current"===e),[4,this.zw(n,r)];case 3:return u.sent(),[3,7];case 4:return[4,this.Nc.tc(t,!0)];case 5:return u.sent(),this.Gw(t,i),[3,7];case 6:k("Unexpected target state: "+e),u.label=7;case 7:return[2]}}))}))},t.prototype.rw=function(t,e){return l.__awaiter(this,void 0,void 0,(function(){var i,n,r,s,o,c,h,a,f,d=this;return l.__generator(this,(function(v){switch(v.label){case 0:if(!this.isPrimary)return[2];i=0,n=t,v.label=1;case 1:return i<n.length?(f=n[i],E(!this.Vw[f],"Trying to add an already active target"),[4,this.Nc.ac(f)]):[3,6];case 2:return E(!!(r=v.sent()),"Query data for active target "+f+" not found"),[4,this.Nc.Yh(r)];case 3:return s=v.sent(),[4,this.Mw(this.rm(r),s.targetId,!1)];case 4:v.sent(),this.Iw.listen(s),v.label=5;case 5:return i++,[3,1];case 6:o=function(t){return l.__generator(this,(function(e){switch(e.label){case 0:return c.Vw[t]?[4,c.Nc.tc(t,!1).then((function(){d.Iw.$d(t),d.Gw(t)})).catch(Ci)]:[2,"continue"];case 1:return e.sent(),[2]}}))},c=this,h=0,a=e,v.label=7;case 7:return h<a.length?(f=a[h],[5,o(f)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nc.oc(!0),this.Iw.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nc.oc(!1),this.Iw.disableNetwork()},t.prototype.Je=function(t){var e=this.Ow[t];if(e&&e.Pw)return li().add(e.key);var i=li(),n=this.Vw[t];if(!n)return i;for(var r=0,u=n;r<u.length;r++){var s=u[r],o=this.kw.get(s);E(!!o,"No query view found for "+s),i=i.qt(o.view.fw)}return i},t}(),$o=function(){this.um=null,this.targetId=0,this.listeners=[]},qo=function(){function t(t){this.tv=t,this.sm=new ii((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.om=new Set,this.tv.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,i=!1,n=this.sm.get(e);return n||(i=!0,n=new $o,this.sm.set(e,n)),n.listeners.push(t),E(!t.gw(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),n.um&&t.hm(n.um)&&this.cm(),i?this.tv.listen(e).then((function(t){return n.targetId=t,t})):Promise.resolve(n.targetId)},t.prototype.$d=function(t){return l.__awaiter(this,void 0,void 0,(function(){var e,i,n,r;return l.__generator(this,(function(u){return e=t.query,i=!1,(n=this.sm.get(e))&&(r=n.listeners.indexOf(t))>=0&&(n.listeners.splice(r,1),i=0===n.listeners.length),i?(this.sm.delete(e),[2,this.tv.$d(e)]):[2]}))}))},t.prototype.Il=function(t){for(var e=!1,i=0,n=t;i<n.length;i++){var r=n[i],u=r.query,s=this.sm.get(u);if(s){for(var o=0,c=s.listeners;o<c.length;o++)c[o].hm(r)&&(e=!0);s.um=r}}e&&this.cm()},t.prototype.$w=function(t,e){var i=this.sm.get(t);if(i)for(var n=0,r=i.listeners;n<r.length;n++)r[n].onError(e);this.sm.delete(t)},t.prototype.Kw=function(t){this.onlineState=t;var e=!1;this.sm.forEach((function(i,n){for(var r=0,u=n.listeners;r<u.length;r++)u[r].gw(t)&&(e=!0)})),e&&this.cm()},t.prototype.am=function(t){this.om.add(t),t.next()},t.prototype.fm=function(t){this.om.delete(t)},t.prototype.cm=function(){this.om.forEach((function(t){t.next()}))},t}(),Ho=function(){function t(t,e,i){this.query=t,this.lm=e,this.dm=!1,this.vm=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.hm=function(t){if(E(t.docChanges.length>0||t.Yi,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],i=0,n=t.docChanges;i<n.length;i++){var r=n[i];r.type!==an.Qi&&e.push(r)}t=new vn(t.query,t.docs,t.Hi,e,t.Ji,t.fromCache,t.Yi,!0)}var u=!1;return this.dm?this.wm(t)&&(this.lm.next(t),u=!0):this.mm(t,this.onlineState)&&(this.pm(t),u=!0),this.vm=t,u},t.prototype.onError=function(t){this.lm.error(t)},t.prototype.gw=function(t){this.onlineState=t;var e=!1;return this.vm&&!this.dm&&this.mm(this.vm,t)&&(this.pm(this.vm),e=!0),e},t.prototype.mm=function(t,e){if(E(!this.dm,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var i="Offline"!==e;return this.options.gm&&i?(E(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.J()||"Offline"===e},t.prototype.wm=function(t){if(t.docChanges.length>0)return!0;var e=this.vm&&this.vm.hasPendingWrites!==t.hasPendingWrites;return!(!t.Yi&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.pm=function(t){E(!this.dm,"Trying to raise initial events for second time"),t=vn.$i(t.query,t.docs,t.Ji,t.fromCache),this.dm=!0,this.lm.next(t)},t}(),zo=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.ja=function(){return Ri.Rc(this.cacheSizeBytes)},t}(),Go=function(){},Wo=function(){function t(t,e,i,n){this.platform=t,this.bm=e,this.credentials=i,this.Pu=n,this.clientId=T.u()}return t.prototype.start=function(t){var e=this;this.ym();var i=new $n,n=new $n,r=!1;return this.credentials.T((function(u){r?e.Pu.xu((function(){return e.vv(u)})):(r=!0,e._m(t,n,u).then((function(t){return e.Im(u,t)})).then(i.resolve,i.reject))})),this.Pu.xu((function(){return i.promise})),n.promise},t.prototype.enableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.enableNetwork()}))},t.prototype._m=function(t,e,i){var n=this;return t instanceof zo?this.Tm(i,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!n.Em(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),n.Rm()})):(e.resolve(),this.Rm())},t.prototype.Em=function(t){return t instanceof M?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.ym=function(){if(this.Pu.Gu)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Tm=function(t,e){var i=this,n=_r.af(this.bm),s=new xn(this.bm.s,{Ze:!0});return Promise.resolve().then((function(){return l.__awaiter(i,void 0,void 0,(function(){var i,r;return l.__generator(this,(function(u){switch(u.label){case 0:if(e.synchronizeTabs&&!xo.Hs(this.platform))throw new M(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return i=e.ja(),this.Sw=e.synchronizeTabs?new xo(this.Pu,this.platform,n,this.clientId,t):new Po,[4,_r.xa({allowTabSynchronization:e.synchronizeTabs,persistenceKey:n,clientId:this.clientId,platform:this.platform,Aa:this.Pu,serializer:s,ja:i,Da:this.Sw})];case 1:return r=u.sent(),this.persistence=r,[2,r.vo.Vc]}}))}))}))},t.prototype.Rm=function(){return this.persistence=xr.Nf(this.clientId),this.Sw=new Po,Promise.resolve(null)},t.prototype.Im=function(t,e){var i=this;return _("FirestoreClient","Initializing. user=",t.uid),this.platform.Am(this.bm).then((function(n){return l.__awaiter(i,void 0,void 0,(function(){var i,s,r,o,c,a,h=this;return l.__generator(this,(function(f){switch(f.label){case 0:return i=new Dr,this.Nc=new Ni(this.persistence,i,t),[4,this.Nc.start()];case 1:return f.sent(),e&&(this.Dm=new Mi(e,this.Pu,this.Nc)),s=this.platform.Pm(),r=this.platform.Sm(this.bm.s),o=new zr(this.Pu,n,this.credentials,r),c=function(t){return h.tv.gw(t,Se.Ri)},a=function(t){return h.tv.gw(t,Se.Ai)},this.Iw=new yo(this.Nc,o,this.Pu,c,s),this.tv=new Uo(this.Nc,this.Iw,this.Sw,t),this.Sw._d=a,this.Iw.tv=this.tv,this.Sw.tv=this.tv,this.Cm=new qo(this.tv),[4,this.Sw.start()];case 2:return f.sent(),[4,this.Iw.start()];case 3:return f.sent(),[4,this.persistence.Wa((function(t){return l.__awaiter(h,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return[4,this.tv.wv(t)];case 1:return e.sent(),this.Dm&&(t&&!this.Dm.mh?this.Dm.start():t||this.Dm.stop()),[2]}}))}))}))];case 4:return f.sent(),[4,this.persistence.za((function(){return l.__awaiter(h,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return f.sent(),[2]}}))}))}))},t.prototype.vv=function(t){return this.Pu.$u(),_("FirestoreClient","Credential Changed. Current user: "+t.uid),this.tv.vv(t)},t.prototype.disableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Pu.Ju((function(){return l.__awaiter(t,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.Dm&&this.Dm.stop(),[4,this.Iw.shutdown()];case 1:return t.sent(),[4,this.Sw.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.R(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.ym();var e=new $n;return this.Pu.xu((function(){return t.tv.Yw(e)})),e.promise},t.prototype.listen=function(t,e,i){var n=this;this.ym();var r=new Ho(t,e,i);return this.Pu.xu((function(){return n.Cm.listen(r)})),r},t.prototype.$d=function(t){var e=this;this.km||this.Pu.xu((function(){return e.Cm.$d(t)}))},t.prototype.Vm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return e.Nc.Jh(t)})).then((function(t){if(t instanceof he)return t;if(t instanceof fe)return null;throw new M(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Nm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return l.__awaiter(e,void 0,void 0,(function(){var e,i,n;return l.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return e=r.sent(),i=new Lo(t,e.ec),n=i.lw(e.documents),[2,i.qs(n,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.ym();var i=new $n;return this.Pu.xu((function(){return e.tv.write(t,i)})),i.promise},t.prototype.s=function(){return this.bm.s},t.prototype.am=function(t){var e=this;this.ym(),this.Pu.xu((function(){return e.Cm.am(t),Promise.resolve()}))},t.prototype.fm=function(t){this.km||this.Cm.fm(t)},Object.defineProperty(t.prototype,"km",{get:function(){return this.Pu.Gu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.ym();var i=new $n;return this.Pu.xu((function(){return e.tv.runTransaction(e.Pu,t,i),Promise.resolve()})),i.promise},t}(),Yo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Om(this.observer.next,t)},t.prototype.error=function(t){this.Om(this.observer.error,t)},t.prototype.Fm=function(){this.muted=!0},t.prototype.Om=function(t,e){var i=this;this.muted||setTimeout((function(){i.muted||t(e)}),0)},t}();function Ko(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var i=t,n=0,r=["next","error","complete"];n<r.length;n++){var u=r[n];if(u in i&&"function"==typeof i[u])return!0}return!1}(t)}var Xo="firestore.googleapis.com",Jo=!0,Qo=!0,Zo=!1,ts=Ri.Pc,es=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new M(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xo,this.ssl=Jo}else rt("settings","non-empty string","host",t.host),this.host=t.host,Z("settings","boolean","ssl",t.ssl),this.ssl=$(t.ssl,Jo);if(dt("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),Z("settings","object","credentials",t.credentials),this.credentials=t.credentials,Z("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?I("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&I("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=$(t.timestampsInSnapshots,Qo),Z("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ri.Cc;else{if(t.cacheSizeBytes!==ts&&t.cacheSizeBytes<Ri.Sc)throw new M(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ri.Sc);this.cacheSizeBytes=t.cacheSizeBytes}Z("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Zo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),ns=function(){function t(e,i){var n=this;if(this.Um=null,this.xm=new Hn,this.INTERNAL={delete:function(){return l.__awaiter(n,void 0,void 0,(function(){return l.__generator(this,(function(t){switch(t.label){case 0:return this.jm(),[4,this.Lm.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.Um=s,this.Bm=t.Mm(s),this.qm=s.name,this.Qm=new j(i)}else{var r=e;if(!r.projectId)throw new M(R.INVALID_ARGUMENT,"Must provide projectId");this.Bm=new x(r.projectId,r.database),this.qm="[DEFAULT]",this.Qm=new q}this.Gm=new es({}),this.Wm=this.zm(this.Bm)}return t.prototype.settings=function(t){if(Y("Firestore.settings",arguments,1),J("Firestore.settings","object",1,t),U(t,"persistence"))throw new M(R.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new es(t);if(this.Lm&&!this.Gm.isEqual(e))throw new M(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Gm=e,void 0!==e.credentials&&(this.Qm=F(e.credentials))},t.prototype.enableNetwork=function(){return this.jm(),this.Lm.enableNetwork()},t.prototype.disableNetwork=function(){return this.jm(),this.Lm.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.Lm)throw new M(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&I("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=$(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.Km(new zo(this.Gm.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=_r.af(this.Hm()),i=new $n;return this.xm.Wu((function(){return l.__awaiter(t,void 0,void 0,(function(){var t;return l.__generator(this,(function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),void 0!==this.Lm&&!this.Lm.km)throw new M(R.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,_r.clearPersistence(e)];case 1:return n.sent(),i.resolve(),[3,3];case 2:return t=n.sent(),i.reject(t),[3,3];case 3:return[2]}}))}))})),i.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Jm",{get:function(){return this.jm(),this.Lm.km},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.jm(),this.Lm.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.jm(),Ko(t))return this.Ym(t);J("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.Ym(e)},t.prototype.Ym=function(t){var e=this,i=new Yo({next:function(){t.next&&t.next()},error:function(t){throw k("Uncaught Error in onSnapshotsInSync")}});return this.Lm.am(i),function(){i.Fm(),e.Lm.fm(i)}},t.prototype.jm=function(){return this.Lm||this.Km(new Go),this.Lm},t.prototype.Hm=function(){return new C(this.Bm,this.qm,this.Gm.host,this.Gm.ssl,this.Gm.forceLongPolling)},t.prototype.Km=function(t){E(!!this.Gm.host,"FirestoreSettings.host is not set"),E(!this.Lm,"configureClient() called multiple times");var e=this.Hm();return this.Lm=new Wo(Pn.t(),e,this.Qm,this.xm),this.Lm.start(t)},t.prototype.zm=function(t){return new ao((function(e){if(e instanceof os){var i=t,n=e.firestore.Bm;if(!n.isEqual(i))throw new M(R.INVALID_ARGUMENT,"Document reference is for database "+n.projectId+"/"+n.database+" but should be for database "+i.projectId+"/"+i.database);return new so(t,e.Xm)}return e}))},t.Mm=function(t){var e=t.options;if(!U(e,"projectId"))throw new M(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var i=e.projectId;if(!i||"string"!=typeof i)throw new M(R.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new x(i)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Um)throw new M(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Um},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return Y("Firestore.collection",arguments,1),J("Firestore.collection","non-empty string",1,t),this.jm(),new hs(mt.it(t),this)},t.prototype.doc=function(t){return Y("Firestore.doc",arguments,1),J("Firestore.doc","non-empty string",1,t),this.jm(),os.$m(mt.it(t),this)},t.prototype.collectionGroup=function(t){if(Y("Firestore.collectionGroup",arguments,1),J("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new M(R.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jm(),new cs(new Ee(mt.et,t),this)},t.prototype.runTransaction=function(t){var e=this;return Y("Firestore.runTransaction",arguments,1),J("Firestore.runTransaction","function",1,t),this.jm().transaction((function(i){return t(new is(e,i))}))},t.prototype.batch=function(){return this.jm(),new rs(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(y()){case o.DEBUG:return"debug";case o.ERROR:return"error";case o.SILENT:return"silent";default:return k("Unknown log level: "+y())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Y("Firestore.setLogLevel",arguments,1),J("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":w(o.DEBUG);break;case"error":w(o.ERROR);break;case"silent":w(o.SILENT);break;default:throw new M(R.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Zm=function(){return this.Gm.timestampsInSnapshots},t}(),is=function(){function t(t,e){this.tp=t,this.np=e}return t.prototype.get=function(t){var e=this;Y("Transaction.get",arguments,1);var i=vs("Transaction.get",t,this.tp);return this.np.lookup([i.Xm]).then((function(t){if(!t||1!==t.length)return k("Mismatch in docs returned from document lookup.");var n=t[0];if(n instanceof fe)return new as(e.tp,i.Xm,null,!1,!1,i.ip);if(n instanceof he)return new as(e.tp,i.Xm,n,!1,!1,i.ip);throw k("BatchGetDocumentsRequest returned unexpected document type: "+n.constructor.name)}))},t.prototype.set=function(t,e,i){X("Transaction.set",arguments,2,3);var n=vs("Transaction.set",t,this.tp);i=fs("Transaction.set",i);var r=ys(n.ip,e,"Transaction.set"),u=r[0],s=r[1],o=i.merge||i.mergeFields?this.tp.Wm.nd(s,u,i.mergeFields):this.tp.Wm.Zl(s,u);return this.np.set(n.Xm,o),this},t.prototype.update=function(t,e,i){for(var n,r,u=[],s=3;s<arguments.length;s++)u[s-3]=arguments[s];return"string"==typeof e||e instanceof Gr?(K("Transaction.update",arguments,3),n=vs("Transaction.update",t,this.tp),r=this.tp.Wm.ud("Transaction.update",e,i,u)):(Y("Transaction.update",arguments,2),n=vs("Transaction.update",t,this.tp),r=this.tp.Wm.ed("Transaction.update",e)),this.np.update(n.Xm,r),this},t.prototype.delete=function(t){Y("Transaction.delete",arguments,1);var e=vs("Transaction.delete",t,this.tp);return this.np.delete(e.Xm),this},t}(),rs=function(){function t(t){this.tp=t,this.ep=[],this.rp=!1}return t.prototype.set=function(t,e,i){X("WriteBatch.set",arguments,2,3),this.up();var n=vs("WriteBatch.set",t,this.tp);i=fs("WriteBatch.set",i);var r=ys(n.ip,e,"WriteBatch.set"),u=r[0],s=r[1],o=i.merge||i.mergeFields?this.tp.Wm.nd(s,u,i.mergeFields):this.tp.Wm.Zl(s,u);return this.ep=this.ep.concat(o.Ll(n.Xm,Ft.NONE)),this},t.prototype.update=function(t,e,i){for(var n,r,u=[],s=3;s<arguments.length;s++)u[s-3]=arguments[s];return this.up(),"string"==typeof e||e instanceof Gr?(K("WriteBatch.update",arguments,3),n=vs("WriteBatch.update",t,this.tp),r=this.tp.Wm.ud("WriteBatch.update",e,i,u)):(Y("WriteBatch.update",arguments,2),n=vs("WriteBatch.update",t,this.tp),r=this.tp.Wm.ed("WriteBatch.update",e)),this.ep=this.ep.concat(r.Ll(n.Xm,Ft.exists(!0))),this},t.prototype.delete=function(t){Y("WriteBatch.delete",arguments,1),this.up();var e=vs("WriteBatch.delete",t,this.tp);return this.ep=this.ep.concat(new zt(e.Xm,Ft.NONE)),this},t.prototype.commit=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return this.up(),this.rp=!0,this.ep.length>0?[2,this.tp.jm().write(this.ep)]:[2]}))}))},t.prototype.up=function(){if(this.rp)throw new M(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),os=function(){function t(t,e,i){this.Xm=t,this.firestore=e,this.ip=i,this.Lm=this.firestore.jm()}return t.$m=function(e,i,n){if(e.length%2!=0)throw new M(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.nt()+" has "+e.length);return new t(new bt(e),i,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hs(this.Xm.path.H(),this.firestore,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Xm.path.nt()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Y("DocumentReference.collection",arguments,1),J("DocumentReference.collection","non-empty string",1,t),!t)throw new M(R.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=mt.it(t);return new hs(this.Xm.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw at("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Xm.isEqual(e.Xm)&&this.ip===e.ip},t.prototype.set=function(t,e){X("DocumentReference.set",arguments,1,2),e=fs("DocumentReference.set",e);var i=ys(this.ip,t,"DocumentReference.set"),n=i[0],r=i[1],u=e.merge||e.mergeFields?this.firestore.Wm.nd(r,n,e.mergeFields):this.firestore.Wm.Zl(r,n);return this.Lm.write(u.Ll(this.Xm,Ft.NONE))},t.prototype.update=function(t,e){for(var i,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return"string"==typeof t||t instanceof Gr?(K("DocumentReference.update",arguments,2),i=this.firestore.Wm.ud("DocumentReference.update",t,e,n)):(Y("DocumentReference.update",arguments,1),i=this.firestore.Wm.ed("DocumentReference.update",t)),this.Lm.write(i.Ll(this.Xm,Ft.exists(!0)))},t.prototype.delete=function(){return Y("DocumentReference.delete",arguments,0),this.Lm.write([new zt(this.Xm,Ft.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];X("DocumentReference.onSnapshot",arguments,1,4);var i,n={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Ko(t[r])||(dt("DocumentReference.onSnapshot",n=t[r],["includeMetadataChanges"]),Z("DocumentReference.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),r++);var u={includeMetadataChanges:n.includeMetadataChanges};return Ko(t[r])?i=t[r]:(J("DocumentReference.onSnapshot","function",r,t[r]),Q("DocumentReference.onSnapshot","function",r+1,t[r+1]),Q("DocumentReference.onSnapshot","function",r+2,t[r+2]),i={next:t[r],error:t[r+1],complete:t[r+2]}),this.sp(u,i)},t.prototype.sp=function(t,e){var i=this,n=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(n=e.error.bind(e));var r=new Yo({next:function(t){if(e.next){E(t.docs.size<=1,"Too many documents returned on a document query");var n=t.docs.get(i.Xm);e.next(new as(i.firestore,i.Xm,n,t.fromCache,t.hasPendingWrites,i.ip))}},error:n}),u=this.Lm.listen(Ee.ti(this.Xm.path),r,t);return function(){r.Fm(),i.Lm.$d(u)}},t.prototype.get=function(t){var e=this;return X("DocumentReference.get",arguments,0,1),ps("DocumentReference.get",t),new Promise((function(i,n){t&&"cache"===t.source?e.firestore.jm().Vm(e.Xm).then((function(t){i(new as(e.firestore,e.Xm,t,!0,t instanceof he&&t.un,e.ip))}),n):e.hp(i,n,t)}))},t.prototype.hp=function(t,e,i){var n=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(r){n(),!r.exists&&r.metadata.fromCache?e(new M(R.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&i&&"server"===i.source?e(new M(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this.Xm,this.firestore,e)},t}(),ss=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),as=function(){function t(t,e,i,n,r,u){this.tp=t,this.Xm=e,this.cp=i,this.ap=n,this.fp=r,this.ip=u}return t.prototype.data=function(t){if(X("DocumentSnapshot.data",arguments,0,1),t=ds("DocumentSnapshot.data",t),this.cp){if(this.ip){var e=new us(this.tp,this.Xm,this.cp,this.ap,this.fp);return this.ip.fromFirestore(e,t)}return this.lp(this.cp.data(),Wt.Cn(t,this.tp.Zm()))}},t.prototype.get=function(t,e){if(X("DocumentSnapshot.get",arguments,1,2),e=ds("DocumentSnapshot.get",e),this.cp){var i=this.cp.data().field(lo("DocumentSnapshot.get",t));if(null!==i)return this.dp(i,Wt.Cn(e,this.tp.Zm()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new os(this.Xm,this.tp,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.cp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ss(this.fp,this.ap)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw at("isEqual","DocumentSnapshot",1,e);return this.tp===e.tp&&this.ap===e.ap&&this.Xm.isEqual(e.Xm)&&(null===this.cp?null===e.cp:this.cp.isEqual(e.cp))&&this.ip===e.ip},t.prototype.lp=function(t,e){var i=this,n={};return t.forEach((function(t,r){n[t]=i.dp(r,e)})),n},t.prototype.dp=function(t,e){if(t instanceof ae)return this.lp(t,e);if(t instanceof ce)return this.vp(t,e);if(t instanceof oe){var i=t.value(e),n=this.tp.jm().s();return t.s.isEqual(n)||I("Document "+this.Xm.path+" contains a document reference within a different database ("+t.s.projectId+"/"+t.s.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new os(i,this.tp,this.ip)}return t.value(e)},t.prototype.vp=function(t,e){var i=this;return t.Ht.map((function(t){return i.dp(t,e)}))},t}(),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.data=function(e){var i=t.prototype.data.call(this,e);return E(void 0!==i,"Document in a QueryDocumentSnapshot should exist"),i},e}(as),cs=function(){function t(t,e,i){this.wp=t,this.firestore=e,this.ip=i}return t.prototype.where=function(e,i,n){Y("Query.where",arguments,3),st("Query.where",3,n);var r,u=["<","<=","==",">=",">","array-contains","in","array-contains-any"];et("Query.where",u,2,i);var s=lo("Query.where",e),o=Te.it(i);if(s.ut()){if(o===Te.ARRAY_CONTAINS||o===Te.ARRAY_CONTAINS_ANY)throw new M(R.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===Te.IN){this.mp(n,o);for(var c=[],l=0,a=n;l<a.length;l++){var h=a[l];c.push(this.pp(h))}r=new ce(c)}else r=this.pp(n)}else o!==Te.IN&&o!==Te.ARRAY_CONTAINS_ANY||this.mp(n,o),r=this.firestore.Wm.sd("Query.where",n,o===Te.IN);var f=Ae.create(s,o,r);return this.gp(f),new t(this.wp.ei(f),this.firestore,this.ip)},t.prototype.orderBy=function(e,i){var n;if(X("Query.orderBy",arguments,1,2),Q("Query.orderBy","non-empty string",2,i),void 0===i||"asc"===i)n=Pe.ASCENDING;else{if("desc"!==i)throw new M(R.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+i+"', expected 'asc' or 'desc'.");n=Pe.DESCENDING}if(null!==this.wp.startAt)throw new M(R.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.wp.endAt)throw new M(R.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=lo("Query.orderBy",e),u=new Me(r,n);return this.bp(u),new t(this.wp.ui(u),this.firestore,this.ip)},t.prototype.limit=function(e){return Y("Query.limit",arguments,1),J("Query.limit","number",1,e),ut("Query.limit",1,e),new t(this.wp.si(e),this.firestore,this.ip)},t.prototype.limitToLast=function(e){return Y("Query.limitToLast",arguments,1),J("Query.limitToLast","number",1,e),ut("Query.limitToLast",1,e),new t(this.wp.oi(e),this.firestore,this.ip)},t.prototype.startAt=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];K("Query.startAt",arguments,1);var r=this.yp("Query.startAt",e,i,!0);return new t(this.wp.hi(r),this.firestore,this.ip)},t.prototype.startAfter=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];K("Query.startAfter",arguments,1);var r=this.yp("Query.startAfter",e,i,!1);return new t(this.wp.hi(r),this.firestore,this.ip)},t.prototype.endBefore=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];K("Query.endBefore",arguments,1);var r=this.yp("Query.endBefore",e,i,!0);return new t(this.wp.ci(r),this.firestore,this.ip)},t.prototype.endAt=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];K("Query.endAt",arguments,1);var r=this.yp("Query.endAt",e,i,!1);return new t(this.wp.ci(r),this.firestore,this.ip)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw at("isEqual","Query",1,e);return this.firestore===e.firestore&&this.wp.isEqual(e.wp)},t.prototype.withConverter=function(e){return new t(this.wp,this.firestore,e)},t.prototype.yp=function(t,e,i,n){if(st(t,1,e),e instanceof as){if(i.length>0)throw new M(R.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new M(R.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this._p(t,r.cp,n)}var u=[e].concat(i);return this.Ip(t,u,n)},t.prototype._p=function(t,e,i){for(var n=[],r=0,u=this.wp.orderBy;r<u.length;r++){var s=u[r];if(s.field.ut())n.push(new oe(this.firestore.Bm,e.key));else{var o=e.field(s.field);if(o instanceof ie)throw new M(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===o){var c=s.field.nt();throw new M(R.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}n.push(o)}}return new Re(n,i)},t.prototype.Ip=function(t,e,i){var n=this.wp.Jn;if(e.length>n.length)throw new M(R.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],u=0;u<e.length;u++){var s=e[u];if(n[u].field.ut()){if("string"!=typeof s)throw new M(R.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.wp._i()&&-1!==s.indexOf("/"))throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var o=this.wp.path.child(mt.it(s));if(!bt.ht(o))throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+o+"' is not because it contains an odd number of segments.");var c=new bt(o);r.push(new oe(this.firestore.Bm,c))}else{var l=this.firestore.Wm.sd(t,s);r.push(l)}}return new Re(r,i)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];X("Query.onSnapshot",arguments,1,4);var i,n={},r=0;return"object"!=typeof t[r]||Ko(t[r])||(dt("Query.onSnapshot",n=t[r],["includeMetadataChanges"]),Z("Query.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),r++),Ko(t[r])?i=t[r]:(J("Query.onSnapshot","function",r,t[r]),Q("Query.onSnapshot","function",r+1,t[r+1]),Q("Query.onSnapshot","function",r+2,t[r+2]),i={next:t[r],error:t[r+1],complete:t[r+2]}),this.Tp(this.wp),this.sp(n,i)},t.prototype.sp=function(t,e){var i=this,n=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(n=e.error.bind(e));var r=new Yo({next:function(t){e.next&&e.next(new ls(i.firestore,i.wp,t,i.ip))},error:n}),u=this.firestore.jm(),s=u.listen(this.wp,r,t);return function(){r.Fm(),u.$d(s)}},t.prototype.Tp=function(t){if(t.bi()&&0===t.Jn.length)throw new M(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return X("Query.get",arguments,0,1),ps("Query.get",t),this.Tp(this.wp),new Promise((function(i,n){t&&"cache"===t.source?e.firestore.jm().Nm(e.wp).then((function(t){i(new ls(e.firestore,e.wp,t,e.ip))}),n):e.hp(i,n,t)}))},t.prototype.hp=function(t,e,i){var n=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(r){n(),r.metadata.fromCache&&i&&"server"===i.source?e(new M(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.pp=function(t){if("string"==typeof t){if(""===t)throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.wp._i()&&-1!==t.indexOf("/"))throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.wp.path.child(mt.it(t));if(!bt.ht(e))throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new oe(this.firestore.Bm,new bt(e))}if(t instanceof os){var i=t;return new oe(this.firestore.Bm,i.Xm)}throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ot(t)+".")},t.prototype.mp=function(t,e){if(!Array.isArray(t)||0===t.length)throw new M(R.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new M(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new M(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new M(R.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.gp=function(t){if(t instanceof Ae){var e=[Te.ARRAY_CONTAINS,Te.ARRAY_CONTAINS_ANY],i=[Te.IN,Te.ARRAY_CONTAINS_ANY],n=e.indexOf(t.op)>=0,r=i.indexOf(t.op)>=0;if(t.ri()){var u=this.wp.ni();if(null!==u&&!u.isEqual(t.field))throw new M(R.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+u.toString()+"' and '"+t.field.toString()+"'");var s=this.wp.ii();null!==s&&this.Ep(t.field,s)}else if(r||n){var o=null;if(r&&(o=this.wp.yi(i)),null===o&&n&&(o=this.wp.yi(e)),null!=o)throw o===t.op?new M(R.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new M(R.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+o.toString()+"' filters.")}}},t.prototype.bp=function(t){if(null===this.wp.ii()){var e=this.wp.ni();null!==e&&this.Ep(e,t.field)}},t.prototype.Ep=function(t,e){if(!e.isEqual(t))throw new M(R.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),ls=function(){function t(t,e,i,n){this.tp=t,this.Rp=e,this.Ap=i,this.ip=n,this.Dp=null,this.Pp=null,this.metadata=new ss(i.hasPendingWrites,i.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Ap.docs.J()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Ap.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var i=this;X("QuerySnapshot.forEach",arguments,1,2),J("QuerySnapshot.forEach","function",1,t),this.Ap.docs.forEach((function(n){t.call(e,i.Sp(n))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new cs(this.Rp,this.tp,this.ip)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(dt("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Z("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Ap.Xi)throw new M(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Dp&&this.Pp===e||(this.Dp=function(t,e,i,n){if(i.Hi.J()){var r,u=0;return i.docChanges.map((function(e){var s=new us(t,e.doc.key,e.doc,i.fromCache,i.Ji.has(e.doc.key),n);return E(e.type===an.Bi,"Invalid event type for first snapshot"),E(!r||i.query.di(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:u++}}))}var s=i.Hi;return i.docChanges.filter((function(t){return e||t.type!==an.Qi})).map((function(e){var r=new us(t,e.doc.key,e.doc,i.fromCache,i.Ji.has(e.doc.key),n),u=-1,o=-1;return e.type!==an.Bi&&(E((u=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),e.type!==an.Mi&&(o=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:ms(e.type),doc:r,oldIndex:u,newIndex:o}}))}(this.tp,e,this.Ap,this.ip),this.Pp=e),this.Dp},t.prototype.isEqual=function(e){if(!(e instanceof t))throw at("isEqual","QuerySnapshot",1,e);return this.tp===e.tp&&this.Rp.isEqual(e.Rp)&&this.Ap.isEqual(e.Ap)&&this.ip===e.ip},t.prototype.Sp=function(t){return new us(this.tp,t.key,t,this.metadata.fromCache,this.Ap.Ji.has(t.key),this.ip)},t}();l.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(ls.prototype.docChanges,t,{get:function(){return function(){throw new M(R.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var hs=function(t){function e(e,i,n){var r=t.call(this,Ee.ti(e),i,n)||this;if(r.Cp=e,e.length%2!=1)throw new M(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.nt()+" has "+e.length);return r}return l.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.wp.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.wp.path.H();return t.J()?null:new os(new bt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.wp.path.nt()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(X("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=T.u()),J("CollectionReference.doc","non-empty string",1,t),""===t)throw new M(R.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=mt.it(t);return os.$m(this.wp.path.child(e),this.firestore,this.ip)},e.prototype.add=function(t){Y("CollectionReference.add",arguments,1);var e=this.ip?this.ip.toFirestore(t):t;J("CollectionReference.add","object",1,e);var i=this.doc();return i.set(t).then((function(){return i}))},e.prototype.withConverter=function(t){return new e(this.Cp,this.firestore,t)},e}(cs);function fs(t,e){if(void 0===e)return{merge:!1};if(dt(t,e,["merge","mergeFields"]),Z(t,"boolean","merge",e.merge),function(t,e,i,n,r){void 0!==n&&function(t,e,i,n,r){if(!(n instanceof Array))throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+ot(n));for(var u=0;u<n.length;++u)if(!r(n[u]))throw new M(R.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+i+", but the value at index "+u+" was: "+ot(n[u]))}(t,e,i,n,r)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof Gr})),void 0!==e.mergeFields&&void 0!==e.merge)throw new M(R.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ds(t,e){return void 0===e?{}:(dt(t,e,["serverTimestamps"]),tt(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ps(t,e){Q(t,"object",1,e),e&&(dt(t,e,["source"]),tt(t,0,"source",e.source,["default","server","cache"]))}function vs(t,e,i){if(e instanceof os){if(e.firestore!==i)throw new M(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw at(t,"DocumentReference",1,e)}function ms(t){switch(t){case an.Bi:return"added";case an.qi:case an.Qi:return"modified";case an.Mi:return"removed";default:return k("Unknown change type: "+t)}}function ys(t,e,i){var n;return t?(n=t.toFirestore(e),i="toFirestore() in "+i):n=e,[n,i]}var gs=Rn(ns,"Use firebase.firestore() instead."),bs=Rn(is,"Use firebase.firestore().runTransaction() instead."),ws=Rn(rs,"Use firebase.firestore().batch() instead."),_s=Rn(os,"Use firebase.firestore().doc() instead."),Is=Rn(as),Ss=Rn(us),ks=Rn(cs),Es=Rn(ls),Ts=Rn(hs,"Use firebase.firestore().collection() instead."),As={Firestore:gs,GeoPoint:ht,Timestamp:ft,Blob:Fn,Transaction:bs,WriteBatch:ws,DocumentReference:_s,DocumentSnapshot:Is,Query:ks,QueryDocumentSnapshot:Ss,QuerySnapshot:Es,CollectionReference:Ts,FieldPath:Gr,FieldValue:to,setLogLevel:ns.setLogLevel,CACHE_SIZE_UNLIMITED:ts};var Ds=function(){function t(){}return t.prototype.Od=function(t){},t.prototype.shutdown=function(){},t}(),Ns=function(){function t(){var t=this;this.kp=function(){return t.Vp()},this.Np=function(){return t.Op()},this.Fp=[],this.Up()}return t.prototype.Od=function(t){this.Fp.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.kp),window.removeEventListener("offline",this.Np)},t.prototype.Up=function(){window.addEventListener("online",this.kp),window.addEventListener("offline",this.Np)},t.prototype.Vp=function(){_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(0)},t.prototype.Op=function(){_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(1)},t.Hs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Cs=function(){function t(t){this.xp=t.xp,this.jp=t.jp}return t.prototype.yl=function(t){E(!this.Lp,"Called onOpen on stream twice!"),this.Lp=t},t.prototype.wl=function(t){E(!this.Bp,"Called onClose on stream twice!"),this.Bp=t},t.prototype.onMessage=function(t){E(!this.Mp,"Called onMessage on stream twice!"),this.Mp=t},t.prototype.close=function(){this.jp()},t.prototype.send=function(t){this.xp(t)},t.prototype.qp=function(){E(void 0!==this.Lp,"Cannot call onOpen because no callback was set"),this.Lp()},t.prototype.Qp=function(t){E(void 0!==this.Bp,"Cannot call onClose because no callback was set"),this.Bp(t)},t.prototype.Gp=function(t){E(void 0!==this.Mp,"Cannot call onMessage because no callback was set"),this.Mp(t)},t}(),Os={BatchGetDocuments:"batchGet",Commit:"commit"},xs="gl-js/ fire/"+v,Ps=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.Wp=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zp=function(t,e){if(e)for(var i in e.g)e.g.hasOwnProperty(i)&&(t[i]=e.g[i]);t["X-Goog-Api-Client"]=xs},t.prototype.Vl=function(t,e,i){var n=this,u=this.Kp(t);return new Promise((function(s,r){var o=new d.XhrIo;o.listenOnce(d.EventType.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case d.ErrorCode.NO_ERROR:var e=o.getResponseJson();_("Connection","XHR received:",JSON.stringify(e)),s(e);break;case d.ErrorCode.TIMEOUT:_("Connection",'RPC "'+t+'" timed out'),r(new M(R.DEADLINE_EXCEEDED,"Request time out"));break;case d.ErrorCode.HTTP_ERROR:var i=o.getStatus();if(_("Connection",'RPC "'+t+'" failed with status:',i,"response text:",o.getResponseText()),i>0){var n=o.getResponseJson().error;if(n&&n.status&&n.message){var c=(l=n.status.toLowerCase().replace("_","-"),Object.values(R).indexOf(l)>=0?l:R.UNKNOWN);r(new M(c,n.message))}else r(new M(R.UNKNOWN,"Server responded with status "+o.getStatus()))}else _("Connection",'RPC "'+t+'" failed'),r(new M(R.UNAVAILABLE,"Connection failed."));break;default:k('RPC "'+t+'" failed with unanticipated webchannel error '+o.getLastErrorCode()+": "+o.getLastError()+", giving up.")}}finally{_("Connection",'RPC "'+t+'" completed.')}var l}));var c=l.__assign({},e);delete c.database;var a=JSON.stringify(c);_("Connection","XHR sending: ",u+" "+a);var h={"Content-Type":"text/plain"};n.zp(h,i),o.send(u,"POST",a,h,15)}))},t.prototype.Nl=function(t,e,i){return this.Vl(t,e,i)},t.prototype._l=function(t,e){var i=[this.Wp,"/","google.firestore.v1.Firestore","/",t,"/channel"],n=d.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zp(r.initMessageHeaders,e),f.isMobileCordova()||f.isReactNative()||f.isElectron()||f.isIE()||f.isUWP()||f.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");_("Connection","Creating WebChannel: "+u+" "+r);var s=n.createWebChannel(u,r),o=!1,c=!1,l=new Cs({xp:function(t){c?_("Connection","Not sending because WebChannel is closed:",t):(o||(_("Connection","Opening WebChannel transport."),s.open(),o=!0),_("Connection","WebChannel sending:",t),s.send(t))},jp:function(){return s.close()}}),h=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(d.WebChannel.EventType.OPEN,(function(){c||_("Connection","WebChannel transport opened.")})),h(d.WebChannel.EventType.CLOSE,(function(){c||(c=!0,_("Connection","WebChannel transport closed"),l.Qp())})),h(d.WebChannel.EventType.ERROR,(function(t){c||(c=!0,_("Connection","WebChannel transport errored:",t),l.Qp(new M(R.UNAVAILABLE,"The operation could not be completed")))})),h(d.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var i=t.data[0];E(!!i,"Got a webchannel message without data.");var n=i,r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){_("Connection","WebChannel received error:",r);var u=r.status,o=function(t){var e=qe[t];if(void 0!==e)return Ye(e)}(u),h=r.message;void 0===o&&(o=R.INTERNAL,h="Unknown error status: "+u+" with message "+r.message),c=!0,l.Qp(new M(o,h)),s.close()}else _("Connection","WebChannel received:",i),l.Gp(i)}})),setTimeout((function(){l.qp()}),0),l},t.prototype.Kp=function(t){var e=Os[t];return E(void 0!==e,"Unknown REST mapping for: "+t),this.Wp+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),Rs=function(){function t(){this.du="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Am=function(t){return Promise.resolve(new Ps(t))},t.prototype.Pm=function(){return Ns.Hs()?new Ns:new Ds},t.prototype.Sm=function(t){return new xn(t,{Ze:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();Pn.lu(new Rs);var Ms="@firebase/firestore",Ls="1.11.2";function js(t){(function(t){var e;t.INTERNAL.registerComponent(new component.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new ns(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((E((e=As)&&"object"==typeof e,"shallowCopy() expects object parameter."),l.__assign({},e))))})(t),t.registerVersion(Ms,Ls)}js(c),e.__PRIVATE_registerFirestore=js}).call(this,n(115))},180:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return f})),n.d(e,"setLogLevel",(function(){return d}));var o,c=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var l=o.INFO,h=function(t,e){for(var n=[],c=2;c<arguments.length;c++)n[c-2]=arguments[c];if(!(e<t.logLevel)){var l=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+l+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+l+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+l+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+l+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},f=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=h,c.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){c.forEach((function(e){e.logLevel=t}))}},181:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),o=n(117),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),l="[DEFAULT]",h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=l);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:l,optional:!1},t),n=e.identifier,o=e.optional,c=this.normalizeInstanceIdentifier(n);try{var h=this.getOrInitializeService(c);if(!h){if(o)return null;throw Error("Service "+this.name+" is not available")}return h}catch(t){if(o)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService(l)}catch(t){}try{for(var n=r.__values(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var c=r.__read(o.value,2),h=c[0],f=c[1],d=this.normalizeInstanceIdentifier(h);try{var v=this.getOrInitializeService(d);f.resolve(v)}catch(t){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=l),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===l?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:l:t},t}();var f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=c,e.ComponentContainer=f,e.Provider=h},182:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",(function(){return di})),n.d(e,"EventType",(function(){return pi})),n.d(e,"WebChannel",(function(){return vi})),n.d(e,"XhrIo",(function(){return mi})),n.d(e,"createWebChannelTransport",(function(){return fi}));var g,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=o||{},c=r;function l(a){return"string"==typeof a}function h(a){return"number"==typeof a}function f(a,b){a=a.split("."),b=b||c;for(var t=0;t<a.length;t++)if(null==(b=b[a[t]]))return null;return b}function d(){}function p(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function q(a){return"array"==p(a)}function v(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length}function m(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function _(a,b,t){return a.call.apply(a.bind,arguments)}function I(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function u(a,b,t){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:I).apply(null,arguments)}function S(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var k=Date.now||function(){return+new Date};function E(a,b){function t(){}t.prototype=b.prototype,a.N=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.yb=function(t,e,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return b.prototype[e].apply(t,r)}}function T(){this.j=this.j,this.i=this.i}T.prototype.j=!1,T.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[y]||(this[y]=++w)},T.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var A=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(l(a))return l(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},D=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n=l(a)?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};function N(a){return Array.prototype.concat.apply([],arguments)}function C(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function O(a){return/^[\s\xa0]*$/.test(a)}var x,P=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function R(a,b){return-1!=a.indexOf(b)}function M(a,b){return a<b?-1:a>b?1:0}t:{var L=c.navigator;if(L){var j=L.userAgent;if(j){x=j;break t}}x=""}function V(a,b,t){for(var e in a)b.call(t,a[e],e,a)}function B(a){var t,b={};for(t in a)b[t]=a[t];return b}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<F.length;r++)t=F[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function $(a){return $[" "](a),a}$[" "]=d;var H,a,z=R(x,"Opera"),G=R(x,"Trident")||R(x,"MSIE"),W=R(x,"Edge"),Y=W||G,K=R(x,"Gecko")&&!(R(x.toLowerCase(),"webkit")&&!R(x,"Edge"))&&!(R(x,"Trident")||R(x,"MSIE"))&&!R(x,"Edge"),X=R(x.toLowerCase(),"webkit")&&!R(x,"Edge");function J(){var a=c.document;return a?a.documentMode:void 0}t:{var Q="",Z=(a=x,K?/rv:([^\);]+)(\)|;)/.exec(a):W?/Edge\/([\d\.]+)/.exec(a):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):X?/WebKit\/(\S+)/.exec(a):z?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Z&&(Q=Z?Z[1]:""),G){var tt=J();if(null!=tt&&tt>parseFloat(Q)){H=String(tt);break t}}H=Q}var et,nt={};function it(a){return function(a,b){var t=nt;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=P(String(H)).split("."),e=P(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var o=t[r]||"",c=e[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;b=M(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||M(0==o[2].length,0==c[2].length)||M(o[2],c[2]),o=o[3],c=c[3]}while(0==b)}return 0<=b}))}var ot=c.document;et=ot&&G?J()||("CSS1Compat"==ot.compatMode?parseInt(H,10):5):void 0;var st=!G||9<=Number(et),at=G&&!it("9"),ut=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{c.addEventListener("test",d,b),c.removeEventListener("test",d,b)}catch(t){}return a}();function ct(a,b){this.type=a,this.a=this.target=b,this.Ia=!0}function lt(a,b){if(ct.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(K){t:{try{$(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=l(a.pointerType)?a.pointerType:ht[a.pointerType]||"",this.c=a,a.defaultPrevented&&this.b()}}ct.prototype.b=function(){this.Ia=!1},E(lt,ct);var ht={2:"touch",3:"pen",4:"mouse"};lt.prototype.b=function(){lt.N.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,at)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}};var ft="closure_listenable_"+(1e6*Math.random()|0),pt=0;function vt(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.da=n,this.key=++pt,this.X=this.Z=!1}function mt(a){a.X=!0,a.listener=null,a.proxy=null,a.src=null,a.da=null}function yt(a){this.src=a,this.a={},this.b=0}function gt(a,b){var t=b.type;if(t in a.a){var e,n=a.a[t],r=A(n,b);(e=0<=r)&&Array.prototype.splice.call(n,r,1),e&&(mt(b),0==a.a[t].length&&(delete a.a[t],a.b--))}}function bt(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.X&&r.listener==b&&r.capture==!!t&&r.da==e)return n}return-1}yt.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var o=bt(a,b,e,n);return-1<o?(b=a[o],t||(b.Z=!1)):((b=new vt(b,this.src,r,!!e,n)).Z=t,a.push(b)),b};var wt="closure_lm_"+(1e6*Math.random()|0),_t={};function It(a,b,t,e,n){if(e&&e.once)return function t(a,b,e,n,r){if(q(b)){for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);return null}return e=Ct(e),a&&a[ft]?a.Aa(b,e,m(n)?!!n.capture:!!n,r):St(a,b,e,!0,n,r)}(a,b,t,e,n);if(q(b)){for(var r=0;r<b.length;r++)It(a,b[r],t,e,n);return null}return t=Ct(t),a&&a[ft]?a.za(b,t,m(e)?!!e.capture:!!e,n):St(a,b,t,!1,e,n)}function St(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var o=m(n)?!!n.capture:!!n;if(o&&!st)return null;var c=Dt(a);if(c||(a[wt]=c=new yt(a)),(t=c.add(b,t,e,o,r)).proxy)return t;if(e=function(){var a=At,b=st?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)ut||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(Et(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}return t}function kt(a){if(!h(a)&&a&&!a.X){var b=a.src;if(b&&b[ft])gt(b.c,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(Et(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=Dt(b))?(gt(t,a),0==t.b&&(t.src=null,b[wt]=null)):mt(a)}}}function Et(a){return a in _t?_t[a]:_t[a]="on"+a}function Tt(a,b){var t=a.listener,e=a.da||a.src;return a.Z&&kt(a),t.call(e,b)}function At(a,b){return!!a.X||(st?Tt(a,new lt(b,this)):Tt(a,b=new lt(b||f("window.event"),this)))}function Dt(a){return(a=a[wt])instanceof yt?a:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(a){return"function"==p(a)?a:(a[Nt]||(a[Nt]=function(b){return a.handleEvent(b)}),a[Nt])}function Ot(){T.call(this),this.c=new yt(this),this.J=this,this.B=null}function xt(a,b,t,e){if(!(b=a.c.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.X&&o.capture==t){var c=o.listener,l=o.da||o.src;o.Z&&gt(a.c,o),n=!1!==c.call(l,e)&&n}}return n&&0!=e.Ia}E(Ot,T),Ot.prototype[ft]=!0,(g=Ot.prototype).addEventListener=function(a,b,t,e){It(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){!function t(a,b,e,n,r){if(q(b))for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);else n=m(n)?!!n.capture:!!n,e=Ct(e),a&&a[ft]?(a=a.c,(b=String(b).toString())in a.a&&(-1<(e=bt(o=a.a[b],e,n,r))&&(mt(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete a.a[b],a.b--)))):a&&(a=Dt(a))&&(b=a.a[b.toString()],a=-1,b&&(a=bt(b,e,n,r)),(e=-1<a?b[a]:null)&&kt(e))}(this,a,b,t,e)},g.dispatchEvent=function(a){var b,t=this.B;if(t)for(b=[];t;t=t.B)b.push(t);t=this.J;var e=a.type||a;if(l(a))a=new ct(a,t);else if(a instanceof ct)a.target=a.target||t;else{var n=a;U(a=new ct(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var o=a.a=b[r];n=xt(o,e,!0,a)&&n}if(n=xt(o=a.a=t,e,!0,a)&&n,n=xt(o,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=xt(o=a.a=b[r],e,!1,a)&&n;return n},g.G=function(){if(Ot.N.G.call(this),this.c){var t,a=this.c;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)mt(e[n]);delete a.a[t],a.b--}}this.B=null},g.za=function(a,b,t,e){return this.c.add(String(a),b,!1,t,e)},g.Aa=function(a,b,t,e){return this.c.add(String(a),b,!0,t,e)};var Pt=c.JSON.stringify;function Rt(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function Mt(){this.b=this.a=null}Rt.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var Lt,jt=new Rt((function(){return new Bt}),(function(a){a.reset()}));function Vt(){var a=qt,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Bt(){this.next=this.b=this.a=null}function Ft(a){c.setTimeout((function(){throw a}),0)}function Ut(a,b){Lt||function(){var a=c.Promise.resolve(void 0);Lt=function(){a.then(Ht)}}(),$t||(Lt(),$t=!0),qt.add(a,b)}Mt.prototype.add=function(a,b){var t=jt.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},Bt.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Bt.prototype.reset=function(){this.next=this.b=this.a=null};var $t=!1,qt=new Mt;function Ht(){for(var a;a=Vt();){try{a.a.call(a.b)}catch(t){Ft(t)}var b=jt;b.f(a),100>b.b&&(b.b++,a.next=b.a,b.a=a)}$t=!1}function zt(a,b){Ot.call(this),this.b=a||1,this.a=b||c,this.f=u(this.gb,this),this.g=k()}function Gt(a){a.ba=!1,a.L&&(a.a.clearTimeout(a.L),a.L=null)}function Wt(a,b,t){if("function"==p(a))t&&(a=u(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=u(a.handleEvent,a)}return 2147483647<Number(b)?-1:c.setTimeout(a,b||0)}function Yt(a,b,t){T.call(this),this.f=null!=t?u(a,t):a,this.c=b,this.b=u(this.$a,this),this.a=[]}function Kt(a){a.U=Wt(a.b,a.c),a.f.apply(null,a.a)}function Xt(a){T.call(this),this.b=a,this.a={}}E(zt,Ot),(g=zt.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var a=k()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Gt(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=k())},g.G=function(){zt.N.G.call(this),Gt(this),delete this.a},E(Yt,T),(g=Yt.prototype).ea=!1,g.U=null,g.Ta=function(a){this.a=arguments,this.U?this.ea=!0:Kt(this)},g.G=function(){Yt.N.G.call(this),this.U&&(c.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.$a=function(){this.U=null,this.ea&&(this.ea=!1,Kt(this))},E(Xt,T);var Jt=[];function Qt(a,b,t,e){q(t)||(t&&(Jt[0]=t.toString()),t=Jt);for(var n=0;n<t.length;n++){var r=It(b,t[n],e||a.handleEvent,!1,a.b||a);if(!r)break;a.a[r.key]=r}}function Zt(a){V(a.a,(function(b,t){this.a.hasOwnProperty(t)&&kt(b)}),a),a.a={}}function te(){}Xt.prototype.G=function(){Xt.N.G.call(this),Zt(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=new Ot;function ne(a){ct.call(this,"serverreachability",a)}function ie(a){ee.dispatchEvent(new ne(ee,a))}function re(a){ct.call(this,"statevent",a)}function oe(a){ee.dispatchEvent(new re(ee,a))}function se(a){ct.call(this,"timingevent",a)}function ae(a,b){if("function"!=p(a))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){a()}),b)}E(ne,ct),E(re,ct),E(se,ct);var ue={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},ce={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function le(){}function he(a){var b;return(b=a.a)||(b=a.a={}),b}function fe(){}le.prototype.a=null;var de,pe={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ve(){ct.call(this,"d")}function me(){ct.call(this,"c")}function ye(){}function ge(a,b,t){this.g=a,this.W=b,this.V=t||1,this.I=new Xt(this),this.O=be,a=Y?125:void 0,this.P=new zt(a),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ve,ct),E(me,ct),E(ye,le),de=new ye;var be=45e3,we={},_e={};function Ie(a,b,t){a.F=1,a.f=We(Fe(b)),a.l=t,a.H=!0,ke(a,null)}function Se(a,b,t,e){a.F=1,a.f=We(Fe(b)),a.l=null,a.H=t,ke(a,e)}function ke(a,b){a.v=k(),Ae(a),a.D=Fe(a.f),Ge(a.D,"t",a.V),a.A=0,a.a=a.g.$(a.g.Y()?b:null),0<a.J&&(a.B=new Yt(u(a.Ja,a,a.a),a.J)),Qt(a.I,a.a,"readystatechange",a.cb),b=a.h?B(a.h):{},a.l?(a.w||(a.w="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.a.ca(a.D,a.w,a.l,b)):(a.w="GET",a.a.ca(a.D,a.w,null,b)),ie(1)}function Ee(a,b,t){for(var e=!0;!a.m&&a.A<t.length;){var n=Te(a,t);if(n==_e){4==b&&(a.c=4,oe(14),e=!1);break}if(n==we){a.c=4,oe(15),e=!1;break}xe(a,n)}4==b&&0==t.length&&(a.c=1,oe(16),e=!1),a.b=a.b&&e,e||(Oe(a),Ce(a))}function Te(a,b){var t=a.A,e=b.indexOf("\n",t);return-1==e?_e:(t=Number(b.substring(t,e)),isNaN(t)?we:(e+=1)+t>b.length?_e:(b=b.substr(e,t),a.A=e+t,b))}function Ae(a){a.R=k()+a.O,De(a,a.O)}function De(a,b){if(null!=a.i)throw Error("WatchDog timer not null");a.i=ae(u(a.ab,a),b)}function Ne(a){a.i&&(c.clearTimeout(a.i),a.i=null)}function Ce(a){a.g.Ca()||a.m||a.g.na(a)}function Oe(a){Ne(a);var b=a.B;b&&"function"==typeof b.la&&b.la(),a.B=null,Gt(a.P),Zt(a.I),a.a&&(b=a.a,a.a=null,b.abort(),b.la())}function xe(a,b){try{a.g.Fa(a,b),ie(4)}catch(t){}}function Pe(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(v(a)||l(a))D(a,b,void 0);else{if(a.K&&"function"==typeof a.K)var t=a.K();else if(a.C&&"function"==typeof a.C)t=void 0;else if(v(a)||l(a)){t=[];for(var e=a.length,n=0;n<e;n++)t.push(n)}else for(n in t=[],e=0,a)t[e++]=n;n=(e=function(a){if(a.C&&"function"==typeof a.C)return a.C();if(l(a))return a.split("");if(v(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}(a)).length;for(var r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}}function Re(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Re)for(t=a.K(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Me(a,b){je(a.b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Le(a))}function Le(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];je(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)je(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function je(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(g=ge.prototype).setTimeout=function(a){this.O=a},g.cb=function(a){a=a.target;var b=this.B;b&&3==Vn(a)?b.Ta():this.Ja(a)},g.Ja=function(a){try{if(a==this.a)t:{var b=Vn(this.a),t=this.a.ya(),e=this.a.T();if(!(3>b||3==b&&!Y&&!this.a.aa())){this.m||4!=b||7==t||ie(8==t||0>=e?3:2),Ne(this);var n=this.a.T();this.o=n;var r=this.a.aa();if(this.b=200==n){if(this.S&&!this.s){e:{if(this.a){var o=Bn(this.a,"X-HTTP-Initial-Response");if(o&&!O(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.c=3,oe(12),Oe(this),Ce(this);break t}this.s=!0,xe(this,c)}this.H?(Ee(this,b,r),Y&&this.b&&3==b&&(Qt(this.I,this.P,"tick",this.bb),this.P.start())):xe(this,r),4==b&&Oe(this),this.b&&!this.m&&(4==b?this.g.na(this):(this.b=!1,Ae(this)))}else 400==n&&0<r.indexOf("Unknown SID")?(this.c=3,oe(12)):(this.c=0,oe(13)),Oe(this),Ce(this)}}}catch(t){}},g.bb=function(){if(this.a){var a=Vn(this.a),b=this.a.aa();this.A<b.length&&(Ne(this),Ee(this,a,b),this.b&&4!=a&&Ae(this))}},g.cancel=function(){this.m=!0,Oe(this)},g.ab=function(){this.i=null;var a=k();0<=a-this.R?(2!=this.F&&(ie(3),oe(17)),Oe(this),this.c=2,Ce(this)):De(this,this.R-a)},(g=Re.prototype).C=function(){Le(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},g.K=function(){return Le(this),this.a.concat()},g.get=function(a,b){return je(this.b,a)?this.b[a]:b},g.set=function(a,b){je(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},g.forEach=function(a,b){for(var t=this.K(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Ve=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Be(a,b){var t;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,a instanceof Be?(this.h=void 0!==b?b:a.h,Ue(this,a.f),this.j=a.j,$e(this,a.b),qe(this,a.i),this.a=a.a,He(this,un(a.c)),this.g=a.g):a&&(t=String(a).match(Ve))?(this.h=!!b,Ue(this,t[1]||"",!0),this.j=Ye(t[2]||""),$e(this,t[3]||"",!0),qe(this,t[4]),this.a=Ye(t[5]||"",!0),He(this,t[6]||"",!0),this.g=Ye(t[7]||"")):(this.h=!!b,this.c=new nn(null,this.h))}function Fe(a){return new Be(a)}function Ue(a,b,t){a.f=t?Ye(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function $e(a,b,t){a.b=t?Ye(b,!0):b}function qe(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function He(a,b,t){b instanceof nn?(a.c=b,function(a,b){b&&!a.f&&(rn(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(on(this,e),an(this,n,t))}),a)),a.f=b}(a.c,a.h)):(t||(b=Ke(b,tn)),a.c=new nn(b,a.h))}function ze(a,b,t){a.c.set(b,t)}function Ge(a,b,t){q(t)||(t=[String(t)]),an(a.c,b,t)}function We(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^k()).toString(36)),a}function Ye(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ke(a,b,t){return l(a)?(a=encodeURI(a).replace(b,Xe),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xe(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Be.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Ke(b,Je,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.j)&&a.push(Ke(b,Je,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.i)&&a.push(":",String(t))),(t=this.a)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(Ke(t,"/"==t.charAt(0)?Ze:Qe,!0))),(t=this.c.toString())&&a.push("?",t),(t=this.g)&&a.push("#",Ke(t,en)),a.join("")},Be.prototype.resolve=function(a){var b=Fe(this),t=!!a.f;t?Ue(b,a.f):t=!!a.j,t?b.j=a.j:t=!!a.b,t?$e(b,a.b):t=null!=a.i;var e=a.a;if(t)qe(b,a.i);else if(t=!!a.a){if("/"!=e.charAt(0))if(this.b&&!this.a)e="/"+e;else{var n=b.a.lastIndexOf("/");-1!=n&&(e=b.a.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(R(n,"./")||R(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],o=0;o<n.length;){var c=n[o++];"."==c?e&&o==n.length&&r.push(""):".."==c?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&o==n.length&&r.push("")):(r.push(c),e=!0)}e=r.join("/")}else e=n}return t?b.a=e:t=""!==a.c.toString(),t?He(b,un(a.c)):t=!!a.g,t&&(b.g=a.g),b};var Je=/[#\/\?@]/g,Qe=/[#\?:]/g,Ze=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function rn(a){a.a||(a.a=new Re,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function on(a,b){rn(a),b=cn(a,b),je(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Me(a.a,b))}function sn(a,b){return rn(a),b=cn(a,b),je(a.a.b,b)}function an(a,b,t){on(a,b),0<t.length&&(a.c=null,a.a.set(cn(a,b),C(t)),a.b+=t.length)}function un(a){var b=new nn;return b.c=a.c,a.a&&(b.a=new Re(a.a),b.b=a.b),b}function cn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function ln(a){this.a=a,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function hn(a){var b=a.a.F.a;if(null!=b)oe(4),b?(oe(10),Jn(a.a,a,!1)):(oe(11),Jn(a.a,a,!0));else{a.b=new ge(a,void 0,void 0),a.b.h=a.h,b=ni(b=a.a,b.Y()?a.f:null,a.i),oe(4),Ge(b,"TYPE","xmlhttp");var t=a.a.j,e=a.a.I;t&&e&&ze(b,t,e),Se(a.b,b,!1,a.f)}}function fn(){this.a=this.b=null}function dn(){this.a=new Re}function pn(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[y]||(a[y]=++w)):b.charAt(0)+a}function vn(a,b){this.b=a,this.a=b}function mn(a){this.g=a||yn,c.PerformanceNavigationTiming?a=0<(a=c.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(c.ka&&c.ka.Da&&c.ka.Da()&&c.ka.Da().zb),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new dn),this.b=null,this.c=[]}(g=nn.prototype).add=function(a,b){rn(this),this.c=null,a=cn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},g.forEach=function(a,b){rn(this),this.a.forEach((function(t,e){D(t,(function(t){a.call(b,t,e,this)}),this)}),this)},g.K=function(){rn(this);for(var a=this.a.C(),b=this.a.K(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},g.C=function(a){rn(this);var b=[];if(l(a))sn(this,a)&&(b=N(b,this.a.get(cn(this,a))));else{a=this.a.C();for(var t=0;t<a.length;t++)b=N(b,a[t])}return b},g.set=function(a,b){return rn(this),this.c=null,sn(this,a=cn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},g.get=function(a,b){return a&&0<(a=this.C(a)).length?String(a[0]):b},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.K(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.C(e);for(var r=0;r<e.length;r++){var o=n;""!==e[r]&&(o+="="+encodeURIComponent(String(e[r]))),a.push(o)}}return this.c=a.join("&")},E((function(){}),(function(){})),(g=ln.prototype).M=null,g.$=function(a){return this.a.$(a)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Ca=function(){return!1},g.Fa=function(a,b){if(this.c=a.o,0==this.M){if(!this.a.o&&(a=a.a)){var t=Bn(a,"X-Client-Wire-Protocol");this.l=t||null,this.a.j&&(a=Bn(a,"X-HTTP-Session-Id"))&&(this.a.I=a)}if(b){try{var e=this.a.ja.a.parse(b)}catch(t){return(b=this.a).m=this.c,void ti(b,2)}this.f=e[0]}else(b=this.a).m=this.c,ti(b,2)}else 1==this.M&&(this.g?oe(6):"11111"==b?(oe(5),this.g=!0,(!G||10<=Number(et))&&(this.c=200,this.b.cancel(),oe(11),Jn(this.a,this,!0))):(oe(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,hn(this)):1==this.M&&(this.g?(oe(11),Jn(this.a,this,!0)):(oe(10),Jn(this.a,this,!1)));else{0==this.M?oe(8):1==this.M&&oe(9);var a=this.a;a.m=this.c,ti(a,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},dn.prototype.add=function(a){this.a.set(pn(a),a)},dn.prototype.C=function(){return this.a.C()};var yn=10;function gn(a,b){!a.a&&(R(b,"spdy")||R(b,"quic")||R(b,"h2"))&&(a.f=a.g,a.a=new dn,a.b&&(dd(a,a.b),a.b=null))}function bn(a){return!!a.b||!!a.a&&a.a.a.c>=a.f}function wn(a){return a.b?1:a.a?a.a.a.c:0}function _n(a,b){return a.b?a=a.b==b:a.a?(b=pn(b),a=je(a.a.a.b,b)):a=!1,a}function dd(a,b){a.a?a.a.add(b):a.b=b}function In(a,b){var t;a.b&&a.b==b?a.b=null:((t=a.a)&&(t=pn(b),t=je(a.a.a.b,t)),t&&Me(a.a.a,pn(b)))}function Sn(a){if(null!=a.b)return a.c.concat(a.b.j);if(null!=a.a&&0!=a.a.a.c){var b=a.c;return D(a.a.C(),(function(t){b=b.concat(t.j)})),b}return C(a.c)}function kn(){}function En(){this.a=new kn}function Tn(a,b,t){var e=t||"";try{Pe(a,(function(t,n){var r=t;m(t)&&(r=Pt(t)),b.push(e+n+"="+encodeURIComponent(r))}))}catch(t){throw b.push(e+"type="+encodeURIComponent("_badmap")),t}}function An(a,b,t,e,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(e)}catch(t){}}mn.prototype.cancel=function(){this.c=Sn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(D(this.a.C(),(function(a){a.cancel()})),function(a){a.b={},a.a.length=0,a.c=0}(this.a.a))},kn.prototype.stringify=function(a){return c.JSON.stringify(a,void 0)},kn.prototype.parse=function(a){return c.JSON.parse(a,void 0)};var Dn=c.JSON.parse;function Nn(a){Ot.call(this),this.headers=new Re,this.H=a||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}E(Nn,Ot);var Cn="",On=/^https?$/i,xn=["POST","PUT"];function Pn(a){return"content-type"==a.toLowerCase()}function Rn(a,b){a.b=!1,a.a&&(a.g=!0,a.a.abort(),a.g=!1),a.f=b,a.h=5,Mn(a),jn(a)}function Mn(a){a.v||(a.v=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Ln(a){if(a.b&&void 0!==o&&(!a.s[1]||4!=Vn(a)||2!=a.T()))if(a.l&&4==Vn(a))Wt(a.Ea,0,a);else if(a.dispatchEvent("readystatechange"),4==Vn(a)){a.b=!1;try{var t,b=a.T();t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.A).match(Ve)[1]||null;if(!r&&c.self&&c.self.location){var l=c.self.location.protocol;r=l.substr(0,l.length-1)}n=!On.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.h=6;try{var h=2<Vn(a)?a.a.statusText:""}catch(t){h=""}a.f=h+" ["+a.T()+"]",Mn(a)}}finally{jn(a)}}}function jn(a,b){if(a.a){td(a);var t=a.a,e=a.s[0]?d:null;a.a=null,a.s=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){}}}function td(a){a.a&&a.D&&(a.a.ontimeout=null),a.m&&(c.clearTimeout(a.m),a.m=null)}function Vn(a){return a.a?a.a.readyState:0}function Bn(a,b){return a.a?a.a.getResponseHeader(b):null}function Fn(a,b,t){t:{for(e in t){var e=!1;break t}e=!0}if(e)return a;if(t=function(a){var b="";return V(a,(function(t,e){b+=e,b+=":",b+=t,b+="\r\n"})),b}(t),l(a)){if(b=encodeURIComponent(String(b)),b+=t=null!=t?"="+encodeURIComponent(String(t)):""){if(0>(t=a.indexOf("#"))&&(t=a.length),0>(e=a.indexOf("?"))||e>t){e=t;var n=""}else n=a.substring(e+1,t);t=(a=[a.substr(0,e),n,a.substr(t)])[1],a[1]=b?t?t+"&"+b:b:t,a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}return ze(a,b,t),a}function Un(a){this.f=[],this.F=new fn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!f("internalChannelParams.failFast",a),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=f("internalChannelParams.baseRetryDelayMs",a)||5e3,this.Ra=f("internalChannelParams.retryDelaySeedMs",a)||1e4,this.Pa=f("internalChannelParams.forwardChannelMaxRetries",a)||2,this.qa=f("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2e4,this.Ka=a&&a.Ab||void 0,this.D=void 0,this.R=a&&a.supportsCrossDomainXhr||!1,this.H="",this.b=new mn(a&&a.concurrentRequestLimit),this.ja=new En,this.o=!a||void 0===a.backgroundChannelTest||a.backgroundChannelTest,(this.W=a&&a.fastHandshake||!1)&&!this.o&&(this.o=!0),a&&a.forceLongPolling&&(this.oa=!1),this.fa=void 0}function $n(a){if(qn(a),3==a.u){var b=a.P++,t=Fe(a.B);ze(t,"SID",a.H),ze(t,"RID",b),ze(t,"TYPE","terminate"),Wn(a,t),(b=new ge(a,b,void 0)).F=2,b.f=We(Fe(t)),t=!1,c.navigator&&c.navigator.sendBeacon&&(t=c.navigator.sendBeacon(b.f.toString(),"")),!t&&c.Image&&((new Image).src=b.f,t=!0),t||(b.a=b.g.$(null),b.a.ca(b.f)),b.v=k(),Ae(b)}ei(a)}function qn(a){a.w&&(a.w.abort(),a.w=null),a.a&&(a.a.cancel(),a.a=null),a.l&&(c.clearTimeout(a.l),a.l=null),Qn(a),a.b.cancel(),a.h&&(h(a.h)&&c.clearTimeout(a.h),a.h=null)}function Hn(a,b){a.f.push(new vn(a.Qa++,b)),3==a.u&&zn(a)}function zn(a){bn(a.b)||a.h||(a.h=!0,Ut(a.Ha,a),a.A=0)}function Gn(a,b){var t;t=b?b.W:a.P++;var e=Fe(a.B);ze(e,"SID",a.H),ze(e,"RID",t),ze(e,"AID",a.O),Wn(a,e),a.g&&a.i&&Fn(e,a.g,a.i),t=new ge(a,t,a.A+1),null===a.g&&(t.h=a.i),b&&(a.f=b.j.concat(a.f)),b=Yn(a,t,1e3),t.setTimeout(Math.round(.5*a.qa)+Math.round(.5*a.qa*Math.random())),dd(a.b,t),Ie(t,e,b)}function Wn(a,b){a.c&&Pe({},(function(t,e){ze(b,e,t)}))}function Yn(a,b,t){t=Math.min(a.f.length,t);var e=a.c?u(a.c.Sa,a.c,a):null;t:for(var n=a.f,r=-1;;){var o=["count="+t];-1==r?0<t?(r=n[0].b,o.push("ofs="+r)):r=0:o.push("ofs="+r);for(var c=!0,l=0;l<t;l++){var h=n[l].b,f=n[l].a;if(0>(h-=r))r=Math.max(0,n[l].b-100),c=!1;else try{Tn(f,o,"req"+h+"_")}catch(t){e&&e(f)}}if(c){e=o.join("&");break t}}return a=a.f.splice(0,t),b.j=a,e}function Kn(a){a.a||a.l||(a.S=1,Ut(a.Ga,a),a.v=0)}function Xn(a){return!(a.a||a.l||3<=a.v)&&(a.S++,a.l=ae(u(a.Ga,a),Zn(a,a.v)),a.v++,!0)}function Jn(a,b,t){var e=b.l;e&&gn(a.b,e),a.ia=a.oa&&t,a.m=b.c,a.B=ni(a,null,a.ha),zn(a)}function Qn(a){null!=a.s&&(c.clearTimeout(a.s),a.s=null)}function Zn(a,b){var t=a.Na+Math.floor(Math.random()*a.Ra);return a.ma()||(t*=2),t*b}function ti(a,b){if(2==b){var t=null;a.c&&(t=null);var e=u(a.eb,a);t||(t=new Be("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Ue(t,"https"),We(t)),function(a,b){var t=new te;if(c.Image){var e=new Image;e.onload=S(An,t,e,"TestLoadImage: loaded",!0,b),e.onerror=S(An,t,e,"TestLoadImage: error",!1,b),e.onabort=S(An,t,e,"TestLoadImage: abort",!1,b),e.ontimeout=S(An,t,e,"TestLoadImage: timeout",!1,b),c.setTimeout((function(){e.ontimeout&&e.ontimeout()}),1e4),e.src=a}else b(!1)}(t.toString(),e)}else oe(2);a.u=0,a.c&&a.c.ta(b),ei(a),qn(a)}function ei(a){a.u=0,a.m=-1,a.c&&(0==Sn(a.b).length&&0==a.f.length||(a.b.c.length=0,C(a.f),a.f.length=0),a.c.sa())}function ni(a,b,t){var e=function(a){return a instanceof Be?Fe(a):new Be(a,void 0)}(t);if(""!=e.b)b&&$e(e,b+"."+e.b),qe(e,e.i);else{var n,r=c.location;n=b?b+"."+r.hostname:r.hostname,e=function(a,b,t,e){var n=new Be(null,void 0);return a&&Ue(n,a),b&&$e(n,b),t&&qe(n,t),e&&(n.a=e),n}(r.protocol,n,+r.port,t)}return a.V&&V(a.V,(function(t,n){ze(e,n,t)})),b=a.j,t=a.I,b&&t&&ze(e,b,t),ze(e,"VER",a.wa),Wn(a,e),e}function ii(){}function ri(){if(G&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function oi(a,b){Ot.call(this),this.a=new Un(b),this.g=a,this.m=b&&b.fb?b.fb:function(a){for(var b=arguments[0],t=1;t<arguments.length;t++){var e,n=arguments[t];if(0==n.lastIndexOf("/",0))b=n;else(e=""==b)||(e=0<=(e=b.length-1)&&b.indexOf("/",e)==e),b+=e?n:"/"+n}return b}(this.g,"test"),this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.i=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.xa&&(a?a["X-WebChannel-Client-Profile"]=b.xa:a={"X-WebChannel-Client-Profile":b.xa}),this.a.J=a,(a=b&&b.httpHeadersOverwriteParam)&&!O(a)&&(this.a.g=a),this.l=b&&b.supportsCrossDomainXhr||!1,this.h=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.a.j=b,null!==(a=this.b)&&b in a&&(b in(a=this.b)&&delete a[b])),this.f=new ui(this)}function si(a){ve.call(this);var b=a.__sm__;if(b){t:{for(var t in b){a=t;break t}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function ai(){me.call(this),this.status=1}function ui(a){this.a=a}(g=Nn.prototype).ca=function(a,b,t,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+a);b=b?b.toUpperCase():"GET",this.A=a,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?he(this.H):he(de),this.a.onreadystatechange=u(this.Ea,this);try{this.w=!0,this.a.open(b,String(a),!0),this.w=!1}catch(t){return void Rn(this,t)}a=t||"";var n=new Re(this.headers);e&&Pe(e,(function(t,e){n.set(e,t)})),e=function(a){t:{for(var b=Pn,t=a.length,e=l(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:l(a)?a.charAt(b):a[b]}(n.K()),t=c.FormData&&a instanceof c.FormData,!(0<=A(xn,b))||e||t||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{td(this),0<this.o&&((this.D=function(a){return G&&it(9)&&h(a.timeout)&&void 0!==a.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=u(this.Ba,this)):this.m=Wt(this.Ba,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(t){Rn(this,t)}},g.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jn(this,!0)),Nn.N.G.call(this)},g.Ea=function(){this.j||(this.w||this.l||this.g?Ln(this):this.Za())},g.Za=function(){Ln(this)},g.T=function(){try{return 2<Vn(this)?this.a.status:-1}catch(t){return-1}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},g.Ua=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),Dn(b)}},g.ya=function(){return this.h},g.Xa=function(){return l(this.f)?this.f:String(this.f)},(g=Un.prototype).wa=8,g.u=1,g.Ca=function(){return 0==this.u},g.Ha=function(a){if(this.h)if(this.h=null,1==this.u){if(!a){this.P=Math.floor(1e5*Math.random());var t,b=new ge(this,a=this.P++,void 0),e=this.i;if(this.J&&(e?U(e=B(e),this.J):e=this.J),null===this.g&&(b.h=e),this.W)t:{for(var n=t=0;n<this.f.length;n++){var r=this.f[n];if(void 0===(r="__data__"in r.a&&l(r=r.a.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break t}if(4096===t||n===this.f.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Yn(this,b,t),ze(n=Fe(this.B),"RID",a),ze(n,"CVER",22),this.o&&this.j&&ze(n,"X-HTTP-Session-Id",this.j),Wn(this,n),this.g&&e&&Fn(n,this.g,e),dd(this.b,b),this.W?(ze(n,"$req",t),ze(n,"SID","null"),b.S=!0,Ie(b,n,null)):Ie(b,n,t),this.u=2}}else 3==this.u&&(a?Gn(this,a):0==this.f.length||bn(this.b)||Gn(this))},g.Ga=function(){this.l=null,this.a=new ge(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var a=Fe(this.pa);ze(a,"RID","rpc"),ze(a,"SID",this.H),ze(a,"CI",this.ia?"0":"1"),ze(a,"AID",this.O),Wn(this,a),ze(a,"TYPE","xmlhttp"),this.g&&this.i&&Fn(a,this.g,this.i),this.D&&this.a.setTimeout(this.D),Se(this.a,a,!0,this.ga)},g.Fa=function(a,b){if(0!=this.u&&(this.a==a||_n(this.b,a)))if(this.m=a.o,!a.s&&_n(this.b,a)&&3==this.u){try{var t=this.ja.a.parse(b)}catch(e){t=null}if(q(t)&&3==t.length){if(0==(b=t)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<a.v))break t;Qn(this),this.a.cancel(),this.a=null}Xn(this),oe(18)}}else this.ra=b[1],0<this.ra-this.O&&37500>b[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ae(u(this.Ya,this),6e3));if(1>=wn(this.b)&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else ti(this,11)}else if((a.s||this.a==a)&&Qn(this),!O(b))for(b=t=this.ja.a.parse(b),t=0;t<b.length;t++){var e=b[t];if(this.O=e[0],e=e[1],2==this.u)if("c"==e[0]){this.H=e[1],this.ga=e[2];var n=e[3];null!=n&&(this.wa=n),null!=(e=e[5])&&h(e)&&0<e&&(this.D=1.5*e),this.o&&(e=a.a)&&((n=Bn(e,"X-Client-Wire-Protocol"))&&gn(this.b,n),this.j&&(e=Bn(e,"X-HTTP-Session-Id")))&&(this.I=e,ze(this.B,this.j,e)),this.u=3,this.c&&this.c.va(),e=a,this.pa=ni(this,this.Y()?this.ga:null,this.ha),e.s?(In(this.b,e),(n=this.D)&&e.setTimeout(n),e.i&&(Ne(e),Ae(e)),this.a=e):Kn(this),0<this.f.length&&zn(this)}else"stop"!=e[0]&&"close"!=e[0]||ti(this,7);else 3==this.u&&("stop"==e[0]||"close"==e[0]?"stop"==e[0]?ti(this,7):$n(this):"noop"!=e[0]&&this.c&&this.c.ua(e),this.v=0)}},g.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Xn(this),oe(19))},g.na=function(a){var b=null;if(this.a==a){Qn(this),this.a=null;var t=2}else{if(!_n(this.b,a))return;b=a.j,In(this.b,a),t=1}if(this.m=a.o,0!=this.u)if(a.b)1==t?(b=k()-a.v,ee.dispatchEvent(new se(ee,a.l?a.l.length:0,b,this.A)),zn(this)):Kn(this);else{var e=a.c;if(3==e||0==e&&0<this.m||!(1==t&&function(a,b){return!(wn(a.b)>=a.b.f-(a.h?1:0))&&(a.h?(a.f=b.j.concat(a.f),!0):!(1==a.u||2==a.u||a.A>=(a.Oa?0:a.Pa))&&(a.h=ae(u(a.Ha,a,b),Zn(a,a.A)),a.A++,!0))}(this,a)||2==t&&Xn(this)))switch(b&&0<b.length&&(a=this.b,a.c=a.c.concat(b)),e){case 1:ti(this,5);break;case 4:ti(this,10);break;case 3:ti(this,6);break;default:ti(this,2)}}},g.eb=function(a){oe(a?2:1)},g.$=function(a){if(a&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new Nn(this.Ka)).F=this.R,a},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=ii.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Sa=function(){},ri.prototype.a=function(a,b){return new oi(a,b)},E(oi,Ot),(g=oi.prototype).addEventListener=function(a,b,t,e){oi.N.addEventListener.call(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){oi.N.removeEventListener.call(this,a,b,t,e)},g.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var a=this.a,b=this.m,t=this.g,e=this.b||void 0;oe(0),a.ha=t,a.V=e||{},a.o&&(a.F.b=[],a.F.a=!1),a.w=new ln(a),null===a.g&&(a.w.h=a.i),t=b,a.g&&a.i&&(t=Fn(b,a.g,a.i)),(a=a.w).i=t,b=ni(a.a,null,a.i),oe(3),null!=(t=a.a.F.b)?(a.f=t[0],a.M=1,hn(a)):(Ge(b,"MODE","init"),!a.a.o&&a.a.j&&Ge(b,"X-HTTP-Session-Id",a.a.j),a.b=new ge(a,void 0,void 0),a.b.h=a.h,Se(a.b,b,!1,null),a.M=0)},g.close=function(){$n(this.a)},g.Wa=function(a){if(l(a)){var b={};b.__data__=a,Hn(this.a,b)}else this.h?((b={}).__data__=Pt(a),Hn(this.a,b)):Hn(this.a,a)},g.G=function(){this.a.c=null,delete this.f,$n(this.a),delete this.a,oi.N.G.call(this)},E(si,ve),E(ai,me),E(ui,ii),ui.prototype.va=function(){this.a.dispatchEvent("a")},ui.prototype.ua=function(a){this.a.dispatchEvent(new si(a))},ui.prototype.ta=function(a){this.a.dispatchEvent(new ai(a))},ui.prototype.sa=function(){this.a.dispatchEvent("b")};var ci=S((function(a,b){function t(){}t.prototype=a.prototype;var e=new t;return a.apply(e,Array.prototype.slice.call(arguments,1)),e}),ri);ri.prototype.createWebChannel=ri.prototype.a,oi.prototype.send=oi.prototype.Wa,oi.prototype.open=oi.prototype.Va,oi.prototype.close=oi.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,ce.COMPLETE="complete",fe.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Ot.prototype.listen=Ot.prototype.za,Nn.prototype.listenOnce=Nn.prototype.Aa,Nn.prototype.getLastError=Nn.prototype.Xa,Nn.prototype.getLastErrorCode=Nn.prototype.ya,Nn.prototype.getStatus=Nn.prototype.T,Nn.prototype.getResponseJson=Nn.prototype.Ua,Nn.prototype.getResponseText=Nn.prototype.aa,Nn.prototype.send=Nn.prototype.ca;var hi={createWebChannelTransport:ci,ErrorCode:ue,EventType:ce,WebChannel:fe,XhrIo:Nn},fi=hi.createWebChannelTransport,di=hi.ErrorCode,pi=hi.EventType,vi=hi.WebChannel,mi=hi.XhrIo;e.default=hi}.call(this,n(19))},183:function(t,e,n){"use strict";n.r(e);var r=n(10),o=n(26),c=v("computed",o.e),l=v("computed",o.c),h=v("methods",o.b),f=v("methods",o.d);function d(t,e){function n(e){return function(a,b){if("string"==typeof b){var n=b,r=a;return e(n,{namespace:t})(r,n)}var o=a,c=function(a,b){var t={};return[a,b].forEach((function(e){Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}(b||{},{namespace:t});return e(o,c)}}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(e)):{State:n(c),Getter:n(l),Mutation:n(f),Action:n(h)}}function v(t,e){function n(map,n){return Object(r.createDecorator)((function(r,o){r[t]||(r[t]={});var c,l=((c={})[o]=map,c);r[t][o]=void 0!==n?e(n,l)[o]:e(l)[o]}))}return function(a,b){if("string"==typeof b){var t=b,e=a;return n(t,void 0)(e,t)}return n(a,function(t){var e=t&&t.namespace;if("string"!=typeof e)return;if("/"!==e[e.length-1])return e+"/";return e}(b))}}n.d(e,"State",(function(){return c})),n.d(e,"Getter",(function(){return l})),n.d(e,"Action",(function(){return h})),n.d(e,"Mutation",(function(){return f})),n.d(e,"namespace",(function(){return d}))},2:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){o(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function h(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return h}))},3:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return o}));var r=n(2);var o=Math.sign||function(t){return t<0?-1:t>0?1:0};function c(t,path){return path.split(".").reduce((function(t,i){return t?t[i]:null}),t)}function l(t,e,n){if(!t)return-1;if(!n||"function"!=typeof n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(t[i],e))return i;return-1}var h=function(t){return"object"===Object(r.c)(t)&&!Array.isArray(t)},f=function t(e,source){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n||!Object.assign){var o=function(t){return h(source[t])&&null!==e&&e.hasOwnProperty(t)&&h(e[t])},c=Object.getOwnPropertyNames(source).map((function(c){return Object(r.a)({},c,o(c)?t(e[c],source[c],n):source[c])})).reduce((function(a,b){return Object(r.b)({},a,{},b)}),{});return Object(r.b)({},e,{},c)}return Object.assign(e,source)},d={Android:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/Android/i)},BlackBerry:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/IEMobile/i)},any:function(){return d.Android()||d.BlackBerry()||d.iOS()||d.Opera()||d.Windows()}};function v(t){void 0!==t.remove?t.remove():void 0!==t.parentNode&&null!==t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){var n;return JSON.parse(JSON.stringify(t)).sort((n=e,function(a,b){return n.map((function(t){var e=1;return"-"===t[0]&&(e=-1,t=t.substring(1)),a[t]>b[t]?e:a[t]<b[t]?-e:0})).reduce((function(p,t){return p||t}),0)}))}},30:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(3),o=n(1),c={props:{type:{type:String,default:"is-dark"},message:String,duration:Number,queue:{type:Boolean,default:void 0},position:{type:String,default:"is-top",validator:function(t){return["is-top-right","is-top","is-top-left","is-bottom-right","is-bottom","is-bottom-left"].indexOf(t)>-1}},container:String},data:function(){return{isActive:!1,parentTop:null,parentBottom:null,newContainer:this.container||o.c.defaultContainerElement}},computed:{correctParent:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return this.parentTop;case"is-bottom-right":case"is-bottom":case"is-bottom-left":return this.parentBottom}},transition:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return{enter:"fadeInDown",leave:"fadeOut"};case"is-bottom-right":case"is-bottom":case"is-bottom-left":return{enter:"fadeInUp",leave:"fadeOut"}}}},methods:{shouldQueue:function(){return!!(void 0!==this.queue?this.queue:o.c.defaultNoticeQueue)&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},close:function(){var t=this;clearTimeout(this.timer),this.isActive=!1,this.$emit("close"),setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150)},showNotice:function(){var t=this;this.shouldQueue()?setTimeout((function(){return t.showNotice()}),250):(this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.indefinite||(this.timer=setTimeout((function(){return t.close()}),this.newDuration)))},setupContainer:function(){if(this.parentTop=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-top"),this.parentBottom=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-bottom"),!this.parentTop||!this.parentBottom){this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="notices is-top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="notices is-bottom");var t=document.querySelector(this.newContainer)||document.body;t.appendChild(this.parentTop),t.appendChild(this.parentBottom),this.newContainer&&(this.parentTop.classList.add("has-custom-container"),this.parentBottom.classList.add("has-custom-container"))}}},beforeMount:function(){this.setupContainer()},mounted:function(){this.showNotice()}}},38:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return h})),n.d(e,"__param",(function(){return f})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return m})),n.d(e,"__exportStar",(function(){return y})),n.d(e,"__values",(function(){return w})),n.d(e,"__read",(function(){return _})),n.d(e,"__spread",(function(){return I})),n.d(e,"__spreadArrays",(function(){return S})),n.d(e,"__await",(function(){return k})),n.d(e,"__asyncGenerator",(function(){return E})),n.d(e,"__asyncDelegator",(function(){return T})),n.d(e,"__asyncValues",(function(){return A})),n.d(e,"__makeTemplateObject",(function(){return D})),n.d(e,"__importStar",(function(){return N})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function l(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function f(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function m(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function y(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function I(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function S(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function k(t){return this instanceof k?(this.v=t,this):new k(t)}function E(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof k?Promise.resolve(n.value.v).then(c,l):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function c(t){o("next",t)}function l(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function T(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:k(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=w(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function D(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function N(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},41:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(3),o=n(1),c=n(0);const l={name:"BToast",mixins:[n(30).a],data:function(){return{newDuration:this.duration||o.c.defaultToastDuration}}};const h=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"toast",class:[t.type,t.position],attrs:{"aria-hidden":!t.isActive,role:"alert"}},[n("div",{domProps:{innerHTML:t._s(t.message)}})])])},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);var f,d={open:function(t){var e;"string"==typeof t&&(t={message:t});var n={position:o.c.defaultToastPosition||"is-top"};t.parent&&(e=t.parent,delete t.parent);var c=Object(r.d)(n,t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:f||o.a).extend(h))({parent:e,el:document.createElement("div"),propsData:c})}},v={install:function(t){f=t,Object(c.b)(t,"toast",d)}};Object(c.d)(v),e.b=v},6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,c=n(38),l=n(116),component=n(176),h=n(177),f=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),d=new l.ErrorFactory("app","Firebase",f),v="@firebase/app",m="0.5.5",y="[DEFAULT]",w=((o={})[v]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),_=new h.Logger("@firebase/app"),I=function(){function t(t,e,n){var r,o,h=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=l.deepCopy(t),this.container=new component.ComponentContainer(e.name),this._addComponent(new component.Component("app",(function(){return h}),"PUBLIC"));try{for(var f=c.__values(this.firebase_.INTERNAL.components.values()),d=f.next();!d.done;d=f.next()){var v=d.value;this._addComponent(v)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=y),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=y),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(component){try{this.container.addComponent(component)}catch(t){_.debug("Component "+component.name+" failed to register with FirebaseApp "+this.name,t)}},t.prototype._addOrOverwriteComponent=function(component){this.container.addOrOverwriteComponent(component)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw d.create("app-deleted",{appName:this.name_})},t}();I.prototype.name&&I.prototype.options||I.prototype.delete||console.log("dc");var S="7.9.2";var k=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!=typeof o||null===o){o={name:o}}var c=o;void 0===c.name&&(c.name=y);var h=c.name;if("string"!=typeof h||!h)throw d.create("bad-app-name",{appName:String(h)});if(l.contains(e,h))throw d.create("duplicate-app",{appName:h});var f=new t(n,c,r);return e[h]=f,f},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=w[t])&&void 0!==r?r:t;n&&(o+="-"+n);var c=o.match(/\s|\//),l=e.match(/\s|\//);if(c||l){var f=['Unable to register library "'+o+'" with version "'+e+'":'];return c&&f.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),c&&l&&f.push("and"),l&&f.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void _.warn(f.join(" "))}h(new component.Component(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},apps:null,SDK_VERSION:S,INTERNAL:{registerComponent:h,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||y,!l.contains(e,t))throw d.create("no-app",{appName:t});return e[t]}function h(component){var h,f,v=component.name;if(n.has(v))return _.debug("There were multiple attempts to register component "+v+"."),"PUBLIC"===component.type?r[v]:null;if(n.set(v,component),"PUBLIC"===component.type){var m=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[v])throw d.create("invalid-app-argument",{appName:v});return t[v]()};void 0!==component.serviceProps&&l.deepExtend(m,component.serviceProps),r[v]=m,t.prototype[v]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,v);return n.apply(this,component.multipleInstances?t:[])}}try{for(var y=c.__values(Object.keys(e)),w=y.next();!w.done;w=y.next()){var I=w.value;e[I]._addComponent(component)}}catch(t){h={error:t}}finally{try{w&&!w.done&&(f=y.return)&&f.call(y)}finally{if(h)throw h.error}}return"PUBLIC"===component.type?r[v]:null}return(r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,r)}(I);return e.INTERNAL=c.__assign(c.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){l.deepExtend(e,t)},createSubscribe:l.createSubscribe,ErrorFactory:l.ErrorFactory,deepExtend:l.deepExtend}),e}(),E=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var component=t.getComponent();return"VERSION"===(null==component?void 0:component.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(l.isBrowser()&&void 0!==self.firebase){_.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var T=self.firebase.SDK_VERSION;T&&T.indexOf("LITE")>=0&&_.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var A=k.initializeApp;k.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.isNode()&&_.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),A.apply(void 0,t)};var D=k;!function(t,e){t.INTERNAL.registerComponent(new component.Component("platform-logger",(function(t){return new E(t)}),"PRIVATE")),t.registerVersion(v,m,e),t.registerVersion("fire-js","")}(D),e.default=D,e.firebase=D},71:function(t,e,n){"use strict";var r,o=(r=n(6))&&"object"==typeof r&&"default"in r?r.default:r;o.registerVersion("firebase","7.9.3","app"),t.exports=o},73:function(t,e,n){!function(t,e,n,r,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var c="default"in r?r.default:r;c.registerHooks(["beforeRouteEnter","beforeRouteUpdate","beforeRouteLeave","asyncData","fetch","head","key","layout","loading","middleware","scrollToTop","transition","validate","watchQuery","meta"]);var l=/\B([A-Z])/g,h=function(t){return t.replace(l,"-$1").toLowerCase()};t.Vue=e,Object.defineProperty(t,"Emit",{enumerable:!0,get:function(){return n.Emit}}),Object.defineProperty(t,"Inject",{enumerable:!0,get:function(){return n.Inject}}),Object.defineProperty(t,"InjectReactive",{enumerable:!0,get:function(){return n.InjectReactive}}),Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return n.Model}}),Object.defineProperty(t,"Prop",{enumerable:!0,get:function(){return n.Prop}}),Object.defineProperty(t,"PropSync",{enumerable:!0,get:function(){return n.PropSync}}),Object.defineProperty(t,"Provide",{enumerable:!0,get:function(){return n.Provide}}),Object.defineProperty(t,"ProvideReactive",{enumerable:!0,get:function(){return n.ProvideReactive}}),Object.defineProperty(t,"Ref",{enumerable:!0,get:function(){return n.Ref}}),Object.defineProperty(t,"Watch",{enumerable:!0,get:function(){return n.Watch}}),t.Component=c,Object.defineProperty(t,"mixins",{enumerable:!0,get:function(){return r.mixins}}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return o.Action}}),Object.defineProperty(t,"Getter",{enumerable:!0,get:function(){return o.Getter}}),Object.defineProperty(t,"Mutation",{enumerable:!0,get:function(){return o.Mutation}}),Object.defineProperty(t,"State",{enumerable:!0,get:function(){return o.State}}),Object.defineProperty(t,"namespace",{enumerable:!0,get:function(){return o.namespace}}),t.NextTick=function(t){return function(e,n,r){var o=r.value;r.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!1!==o.apply(this,e)){if("function"!=typeof this[t])throw new TypeError("must be a method name");this.$nextTick(this[t])}}}},t.Off=function(t,e){return function(n,r,o){r=h(r);var c=o.value;o.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!1!==c.apply(this,n))if(e){if("function"!=typeof this[e])throw new TypeError("must be a method name");this.$off(t||r,this[e])}else t?this.$off(t||r):this.$off()}}},t.On=function(t){return r.createDecorator((function(e,n){var r=h(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$on(t||r,e.methods[n])}}))},t.Once=function(t){return r.createDecorator((function(e,n){var r=h(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$once(t||r,e.methods[n])}}))},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(4),n(125),n(10),n(183))},88:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(c=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot).concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var c,l,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i=0;i<t.length;i++){var r=[].concat(t[i]);n&&(r[2]?r[2]="".concat(n," and ").concat(r[2]):r[2]=n),e.push(r)}},e}},89:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],c=o[0],l={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}n.r(e),n.d(e,"default",(function(){return w}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,h=0,f=!1,d=function(){},v=null,m="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(t,e,n,o){f=n,v=o||{};var l=r(t,e);return _(l),function(e){for(var n=[],i=0;i<l.length;i++){var o=l[i];(h=c[o.id]).refs--,n.push(h)}e?_(l=r(t,e)):l=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var f=0;f<h.parts.length;f++)h.parts[f]();delete c[h.id]}}}}function _(t){for(var i=0;i<t.length;i++){var e=t[i],n=c[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(S(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(S(e.parts[r]));c[e.id]={id:e.id,refs:1,parts:o}}}}function I(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function S(t){var e,n,r=document.querySelector("style["+m+'~="'+t.id+'"]');if(r){if(f)return d;r.parentNode.removeChild(r)}if(y){var o=h++;r=l||(l=I()),e=T.bind(null,r,o,!1),n=T.bind(null,r,o,!0)}else r=I(),e=A.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var k,E=(k=[],function(t,e){return k[t]=e,k.filter(Boolean).join("\n")});function T(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=E(e,o);else{var c=document.createTextNode(o),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(c,l[e]):t.appendChild(c)}}function A(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),v.ssrId&&t.setAttribute(m,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},92:function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r}}]);