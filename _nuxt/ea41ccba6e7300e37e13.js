/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{0:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return use}));var r=function(template,style,script,t,e,n,r,o,c,l){"boolean"!=typeof r&&(c=o,o=r,r=!1);var h,f="function"==typeof script?script.options:script;if(template&&template.render&&(f.render=template.render,f.staticRenderFns=template.staticRenderFns,f._compiled=!0,e&&(f.functional=!0)),t&&(f._scopeId=t),n?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),style&&style.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},f._ssrRegister=h):style&&(h=r?function(){style.call(this,l(this.$root.$options.shadowRoot))}:function(t){style.call(this,o(t))}),h)if(f.functional){var d=f.render;f.render=function(t,e){return h.call(e),d(t,e)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,h):[h]}return script},use=function(t){"undefined"!=typeof window&&window.Vue&&window.Vue.use(t)},o=function(t,component){t.component(component.name,component)},c=function(t,e,component){t.prototype.$buefy||(t.prototype.$buefy={}),t.prototype.$buefy[e]=component}},1:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return l}));var r,o={defaultContainerElement:null,defaultIconPack:"mdi",defaultIconComponent:null,defaultIconPrev:"chevron-left",defaultIconNext:"chevron-right",defaultDialogConfirmText:null,defaultDialogCancelText:null,defaultSnackbarDuration:3500,defaultSnackbarPosition:null,defaultToastDuration:2e3,defaultToastPosition:null,defaultNotificationDuration:2e3,defaultNotificationPosition:null,defaultTooltipType:"is-primary",defaultTooltipAnimated:!1,defaultTooltipDelay:0,defaultInputAutocomplete:"on",defaultDateFormatter:null,defaultDateParser:null,defaultDateCreator:null,defaultTimeCreator:null,defaultDayNames:null,defaultMonthNames:null,defaultFirstDayOfWeek:null,defaultUnselectableDaysOfWeek:null,defaultTimeFormatter:null,defaultTimeParser:null,defaultModalCanCancel:["escape","x","outside","button"],defaultModalScroll:null,defaultDatepickerMobileNative:!0,defaultTimepickerMobileNative:!0,defaultNoticeQueue:!0,defaultInputHasCounter:!0,defaultTaginputHasCounter:!0,defaultUseHtml5Validation:!0,defaultDropdownMobileModal:!0,defaultFieldLabelPosition:null,defaultDatepickerYearsRange:[-100,3],defaultDatepickerNearbyMonthDays:!0,defaultDatepickerNearbySelectableMonthDays:!1,defaultDatepickerShowWeekNumber:!1,defaultDatepickerMobileModal:!0,defaultTrapFocus:!1,defaultButtonRounded:!1,defaultCarouselInterval:3500,defaultLinkTags:["a","button","input","router-link","nuxt-link","n-link","RouterLink","NuxtLink","NLink"],customIconPacks:null},c=function(t){o=t},l=function(t){r=t}},11:function(t,e,n){"use strict";n.r(e),n.d(e,"createDecorator",(function(){return m})),n.d(e,"mixins",(function(){return y}));var r=n(4);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function f(t,e){d(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){d(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){d(t,e,n)}))}function d(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}var v={__proto__:[]}instanceof Array;function m(t){return function(e,n,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.default.extend({mixins:e})}function w(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var data=new e;e.prototype._init=n;var r={};return Object.keys(data).forEach((function(t){void 0!==data[t]&&(r[t]=data[t])})),r}var _=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(_.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return c({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return w(this,t)}});var o=t.__decorators__;o&&(o.forEach((function(t){return t(e)})),delete t.__decorators__);var l=Object.getPrototypeOf(t.prototype),d=l instanceof r.default?l.constructor:r.default,v=d.extend(e);return k(v,t,d),h()&&f(v,t),v}var I={prototype:!0,arguments:!0,callee:!0,caller:!0};function k(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!I[r]){var c=Object.getOwnPropertyDescriptor(t,r);if(!c||c.configurable){var l,h,f=Object.getOwnPropertyDescriptor(e,r);if(!v){if("cid"===r)return;var d=Object.getOwnPropertyDescriptor(n,r);if(l=f.value,h=o(l),null!=l&&("object"===h||"function"===h)&&d&&d.value===f.value)return}0,Object.defineProperty(t,r,f)}}}))}function E(t){return"function"==typeof t?S(t):function(e){return S(e,t)}}E.registerHooks=function(t){_.push.apply(_,l(t))},e.default=E},12:function(t,e,n){"use strict";function r(t,source){for(var e=function(e){Object.defineProperty(t,e,{get:function(){return source[e]}})},n=0,r=Object.keys(source||{});n<r.length;n++){e(r[n])}}function o(t){if(!t._vmdModuleName)throw new Error("ERR_GET_MODULE_NAME : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");return"vuexModuleDecorators/"+t._vmdModuleName}n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l}));var c=function(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules};function l(t,e){var n=o(t);if(e&&e.getters[n])return e.getters[n];if(t._statics)return t._statics;var r=t._genStatic;if(!r)throw new Error("ERR_GET_MODULE_NO_STATICS : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");var c=r(e);return e?e.getters[n]=c:t._statics=c,c}var h=["actions","getters","mutations","modules","state","namespaced","commit"];function f(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function d(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function v(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function m(t){return function(e){var n=e,o=function(){return function(t){var e=new t.prototype.constructor({}),s={};return Object.keys(e).forEach((function(t){if(-1===h.indexOf(t))e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(s[t]=e[t]);else if(void 0!==e[t])throw new Error("ERR_RESERVED_STATE_KEY_USED: You cannot use the following\n        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']\n        as fields in your module. These are reserved as they have special purpose in Vuex")})),s}(n)};n.state||(n.state=t&&t.stateFactory?o:o()),n.getters||(n.getters={}),n.namespaced||(n.namespaced=t&&t.namespaced),Object.getOwnPropertyNames(n.prototype).forEach((function(t){var e=Object.getOwnPropertyDescriptor(n.prototype,t);e.get&&n.getters&&(n.getters[t]=function(t,n,o,c){var l={context:{state:t,getters:n,rootState:o,rootGetters:c}};return r(l,t),r(l,n),e.get.call(l)})}));var c=t;return c.name&&(Object.defineProperty(e,"_genStatic",{value:function(t){var e={store:t||c.store};if(!e.store)throw new Error("ERR_STORE_NOT_PROVIDED: To use getModule(), either the module\n            should be decorated with store in decorator, i.e. @Module({store: store}) or\n            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)");return function(t,e,n){var r=e.stateFactory?t.state():t.state;Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&-1===["undefined","function"].indexOf(typeof r[t])&&Object.defineProperty(n,t,{get:function(){return n.store.state[e.name][t]}})}))}(n,c,e),n.getters&&function(t,e,n){Object.keys(t.getters).forEach((function(r){t.namespaced?Object.defineProperty(n,r,{get:function(){return n.store.getters[e.name+"/"+r]}}):Object.defineProperty(n,r,{get:function(){return n.store.getters[r]}})}))}(n,c,e),n.mutations&&function(t,e,n){Object.keys(t.mutations).forEach((function(r){t.namespaced?n[r]=function(){for(var t,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];(t=n.store).commit.apply(t,v([e.name+"/"+r],o))}:n[r]=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=n.store).commit.apply(t,v([r],e))}}))}(n,c,e),n.actions&&function(t,e,n){Object.keys(t.actions).forEach((function(r){t.namespaced?n[r]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return f(this,void 0,void 0,(function(){var o;return d(this,(function(c){return[2,(o=n.store).dispatch.apply(o,v([e.name+"/"+r],t))]}))}))}:n[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f(this,void 0,void 0,(function(){var e;return d(this,(function(o){return[2,(e=n.store).dispatch.apply(e,v([r],t))]}))}))}}))}(n,c,e),e}}),Object.defineProperty(e,"_vmdModuleName",{value:c.name})),c.dynamic&&function(t,e){if(!e.name)throw new Error("Name of module not provided in decorator options");if(!e.store)throw new Error("Store not provided in decorator options when using dynamic option");e.store.registerModule(e.name,t,{preserveState:e.preserveState||!1})}(n,c),e}}function y(t){if("function"!=typeof t)return m(t);m({})(t)}function w(t){var e=t||{},n=e.commit,c=void 0===n?void 0:n,h=e.rawError,v=void 0!==h&&h,m=e.root,y=void 0!==m&&m;return function(t,e,n){var h=t.constructor;h.hasOwnProperty("actions")||(h.actions=Object.assign({},h.actions));var m=n.value,w=function(t,n){return f(this,void 0,void 0,(function(){var f,y,w,_,S;return d(this,(function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),f=null,h._genStatic?(y=o(h),(w=t.rootGetters[y]?t.rootGetters[y]:l(h)).context=t,[4,m.call(w,n)]):[3,2];case 1:return f=d.sent(),[3,4];case 2:return r(_={context:t},t.state),r(_,t.getters),[4,m.call(_,n)];case 3:f=d.sent(),d.label=4;case 4:return c&&t.commit(c,f),[2,f];case 5:throw S=d.sent(),v?S:new Error('ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]\n'+new Error("Could not perform action "+e.toString()).stack+"\n"+S.stack);case 6:return[2]}}))}))};h.actions[e]=y?{root:y,handler:w}:w}}function _(t,e,n){if(!e&&!n)return w(t);w()(t,e,n)}function S(t,e,n){var r=t.constructor;r.hasOwnProperty("mutations")||(r.mutations=Object.assign({},r.mutations));var o=n.value;r.mutations[e]=function(t,e){o.call(t,e)}}},127:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(94),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},h=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,l=c?input[i+2]:0,h=n>>2,f=(3&n)<<4|o>>4,d=(15&o)<<2|l>>6,v=63&l;c||(v=64,r||(d=64)),output.push(e[h],e[f],e[d],e[v])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(h(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{c=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,c=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var l=n<<2|r>>4;if(output.push(l),64!==o){var h=r<<4&240|o>>2;if(output.push(h),64!==c){var f=o<<6&192|c;output.push(f)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},d=function(t){try{return f.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=v(t[e],source[e]));return t}var m=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var w=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,_.prototype.create),r}return r.__extends(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];for(var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?S(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new w(n,o),l=0,h=Object.keys(e);l<h.length;l++){var f=h[l];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=e[f])}return c},t}();function S(template,data){return template.replace(I,(function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"}))}var I=/\{\$([^}]+)}/g;function k(t){return JSON.parse(t)}var E=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=k(d(r[0])||""),e=k(d(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}};var T=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],l=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(l^h),c=1518500249):(o=b^l^h,c=1859775393):i<60?(o=b&l|h&(b|l),c=2400959708):(o=b^l^h,c=3395469782);r=(a<<5|a>>>27)+o+f+c+n[i]&4294967295;f=h,h=l,l=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=m,e.ErrorFactory=_,e.FirebaseError=w,e.Sha1=T,e.assert=c,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=f,e.base64Decode=d,e.base64Encode=function(t){var e=h(t);return f.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new D(t,e);return n.subscribe.bind(n)},e.decode=E,e.deepCopy=function(t){return v(void 0,t)},e.deepExtend=v,e.errorPrefix=C,e.getUA=y,e.isAdmin=function(t){var e=E(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return y().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return y().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=E(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=E(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},e.issuedAtTime=function(t){var e=E(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=k,e.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var c=o[r];n(c[0],c[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,c(i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(21))},128:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(95),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},c=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},h=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,c=i+2<input.length,l=c?input[i+2]:0,h=n>>2,f=(3&n)<<4|o>>4,d=(15&o)<<2|l>>6,v=63&l;c||(v=64,r||(d=64)),output.push(e[h],e[f],e[d],e[v])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(h(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var c=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(c=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{c=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,c=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==c)throw Error();var l=n<<2|r>>4;if(output.push(l),64!==o){var h=r<<4&240|o>>2;if(output.push(h),64!==c){var f=o<<6&192|c;output.push(f)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},d=function(t){try{return f.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=v(t[e],source[e]));return t}var m=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var w=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,_.prototype.create),r}return r.__extends(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];for(var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?S(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new w(n,o),l=0,h=Object.keys(e);l<h.length;l++){var f=h[l];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=e[f])}return c},t}();function S(template,data){return template.replace(I,(function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"}))}var I=/\{\$([^}]+)}/g;function k(t){return JSON.parse(t)}var E=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=k(d(r[0])||""),e=k(d(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}};var T=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],l=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(l^h),c=1518500249):(o=b^l^h,c=1859775393):i<60?(o=b&l|h&(b|l),c=2400959708):(o=b^l^h,c=3395469782);r=(a<<5|a>>>27)+o+f+c+n[i]&4294967295;f=h,h=l,l=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=m,e.ErrorFactory=_,e.FirebaseError=w,e.Sha1=T,e.assert=c,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=f,e.base64Decode=d,e.base64Encode=function(t){var e=h(t);return f.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new D(t,e);return n.subscribe.bind(n)},e.decode=E,e.deepCopy=function(t){return v(void 0,t)},e.deepExtend=v,e.errorPrefix=C,e.getUA=y,e.isAdmin=function(t){var e=E(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return y().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return y().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=E(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=E(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},e.issuedAtTime=function(t){var e=E(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=k,e.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var c=o[r];n(c[0],c[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;i++,c(i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(21))},130:function(t,e,n){"use strict";var r=n(3),o=n(1),c=n(0),l=n(2),h={props:{size:String,expanded:Boolean,loading:Boolean,rounded:Boolean,icon:String,iconPack:String,autocomplete:String,maxlength:[Number,String],useHtml5Validation:{type:Boolean,default:function(){return o.c.defaultUseHtml5Validation}},validationMessage:String},data:function(){return{isValid:!0,isFocused:!1,newIconPack:this.iconPack||o.c.defaultIconPack}},computed:{parentField:function(){for(var t=this.$parent,i=0;i<3;i++)t&&!t.$data._isField&&(t=t.$parent);return t},statusType:function(){if(this.parentField&&this.parentField.newType){if("string"==typeof this.parentField.newType)return this.parentField.newType;for(var t in this.parentField.newType)if(this.parentField.newType[t])return t}},statusMessage:function(){if(this.parentField)return this.parentField.newMessage},iconSize:function(){switch(this.size){case"is-small":return this.size;case"is-medium":return;case"is-large":return"mdi"===this.newIconPack?"is-medium":""}}},methods:{focus:function(){var t=this;void 0!==this.$data._elementRef&&this.$nextTick((function(){var e=t.$el.querySelector(t.$data._elementRef);e&&e.focus()}))},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t),this.checkHtml5Validity()},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},getElement:function(){return this.$el.querySelector(this.$data._elementRef)},setInvalid:function(){var t=this.validationMessage||this.getElement().validationMessage;this.setValidity("is-danger",t)},setValidity:function(t,e){var n=this;this.$nextTick((function(){n.parentField&&(n.parentField.type||(n.parentField.newType=t),n.parentField.message||(n.parentField.newMessage=e))}))},checkHtml5Validity:function(){if(this.useHtml5Validation&&void 0!==this.$refs[this.$data._elementRef])return this.getElement().checkValidity()?(this.setValidity(null,null),this.isValid=!0):(this.setInvalid(),this.isValid=!1),this.isValid}}},f={sizes:{default:"mdi-24px","is-small":null,"is-medium":"mdi-36px","is-large":"mdi-48px"},iconPrefix:"mdi-"},d=function(){var t=o.c&&o.c.defaultIconComponent?"":"fa-";return{sizes:{default:t+"lg","is-small":null,"is-medium":t+"2x","is-large":t+"3x"},iconPrefix:t,internalIcons:{information:"info-circle",alert:"exclamation-triangle","alert-circle":"exclamation-circle","chevron-right":"angle-right","chevron-left":"angle-left","chevron-down":"angle-down","eye-off":"eye-slash","menu-down":"caret-down","menu-up":"caret-up","close-circle":"times-circle"}}};const v={name:"BIcon",props:{type:[String,Object],component:String,pack:String,icon:String,size:String,customSize:String,customClass:String,both:Boolean},computed:{iconConfig:function(){var t;return(t={mdi:f,fa:d(),fas:d(),far:d(),fad:d(),fab:d(),fal:d()},o.c&&o.c.customIconPacks&&(t=Object(r.d)(t,o.c.customIconPacks,!0)),t)[this.newPack]},iconPrefix:function(){return this.iconConfig&&this.iconConfig.iconPrefix?this.iconConfig.iconPrefix:""},newIcon:function(){return"".concat(this.iconPrefix).concat(this.getEquivalentIconOf(this.icon))},newPack:function(){return this.pack||o.c.defaultIconPack},newType:function(){if(this.type){var t=[];if("string"==typeof this.type)t=this.type.split("-");else for(var e in this.type)if(this.type[e]){t=e.split("-");break}if(!(t.length<=1))return"has-text-".concat(t[1])}},newCustomSize:function(){return this.customSize||this.customSizeByPack},customSizeByPack:function(){if(this.iconConfig&&this.iconConfig.sizes){if(this.size&&void 0!==this.iconConfig.sizes[this.size])return this.iconConfig.sizes[this.size];if(this.iconConfig.sizes.default)return this.iconConfig.sizes.default}return null},useIconComponent:function(){return this.component||o.c.defaultIconComponent}},methods:{getEquivalentIconOf:function(t){return this.both&&this.iconConfig&&this.iconConfig.internalIcons&&this.iconConfig.internalIcons[t]?this.iconConfig.internalIcons[t]:t}}};var m=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon",class:[t.newType,t.size]},[t.useIconComponent?n(t.useIconComponent,{tag:"component",class:[t.customClass],attrs:{icon:[t.newPack,t.newIcon],size:t.newCustomSize}}):n("i",{class:[t.newPack,t.newIcon,t.newCustomSize,t.customClass]})],1)},staticRenderFns:[]},void 0,v,void 0,!1,void 0,void 0,void 0);const y={name:"BInput",components:Object(l.a)({},m.name,m),mixins:[h],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},passwordReveal:Boolean,iconClickable:Boolean,hasCounter:{type:Boolean,default:function(){return o.c.defaultInputHasCounter}},customClass:{type:String,default:""},iconRight:String,iconRightClickable:Boolean},data:function(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||o.c.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},rootClasses:function(){return[this.iconPosition,this.size,{"is-expanded":this.expanded,"is-loading":this.loading,"is-clearfix":!this.hasMessage}]},inputClasses:function(){return[this.statusType,this.size,{"is-rounded":this.rounded}]},hasIconRight:function(){return this.passwordReveal||this.loading||this.statusTypeIcon||this.iconRight},rightIcon:function(){return this.passwordReveal?this.passwordVisibleIcon:this.statusTypeIcon?this.statusTypeIcon:this.iconRight},rightIconType:function(){return this.passwordReveal?"is-primary":this.statusTypeIcon?this.statusType:null},iconPosition:function(){return this.icon&&this.hasIconRight?"has-icons-left has-icons-right":!this.icon&&this.hasIconRight?"has-icons-right":this.icon?"has-icons-left":void 0},statusTypeIcon:function(){switch(this.statusType){case"is-success":return"check";case"is-danger":return"alert-circle";case"is-info":return"information";case"is-warning":return"alert"}},hasMessage:function(){return!!this.statusMessage},passwordVisibleIcon:function(){return this.isPasswordVisible?"eye-off":"eye"},valueLength:function(){return"string"==typeof this.computedValue?this.computedValue.length:"number"==typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value:function(t){this.newValue=t}},methods:{togglePasswordVisibility:function(){var t=this;this.isPasswordVisible=!this.isPasswordVisible,this.newType=this.isPasswordVisible?"text":"password",this.$nextTick((function(){t.$refs[t.$data._elementRef].focus()}))},onInput:function(t){var e=this;this.$nextTick((function(){t.target&&(e.computedValue=t.target.value)}))},iconClick:function(t,e){var n=this;this.$emit(t,e),this.$nextTick((function(){n.$refs[n.$data._elementRef].focus()}))},rightIconClick:function(t){this.passwordReveal?this.togglePasswordVisibility():this.iconRightClickable&&this.iconClick("icon-right-click",t)}}};var w=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:t.rootClasses},["textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"input",class:[t.inputClasses,t.customClass],attrs:{type:t.newType,autocomplete:t.newAutocomplete,maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"input",t.$attrs,!1)):n("textarea",t._b({ref:"textarea",staticClass:"textarea",class:[t.inputClasses,t.customClass],attrs:{maxlength:t.maxlength},domProps:{value:t.computedValue},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus}},"textarea",t.$attrs,!1)),t._v(" "),t.icon?n("b-icon",{staticClass:"is-left",class:{"is-clickable":t.iconClickable},attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize},nativeOn:{click:function(e){t.iconClick("icon-click",e)}}}):t._e(),t._v(" "),!t.loading&&t.hasIconRight?n("b-icon",{staticClass:"is-right",class:{"is-clickable":t.passwordReveal||t.iconRightClickable},attrs:{icon:t.rightIcon,pack:t.iconPack,size:t.iconSize,type:t.rightIconType,both:""},nativeOn:{click:function(e){return t.rightIconClick(e)}}}):t._e(),t._v(" "),t.maxlength&&t.hasCounter&&"number"!==t.type?n("small",{staticClass:"help counter",class:{"is-invisible":!t.isFocused}},[t._v("\r\n            "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\r\n        ")]):t._e()],1)},staticRenderFns:[]},void 0,y,void 0,!1,void 0,void 0,void 0);const _={name:"BAutocomplete",components:Object(l.a)({},w.name,w),mixins:[h],inheritAttrs:!1,props:{value:[Number,String],data:{type:Array,default:function(){return[]}},field:{type:String,default:"value"},keepFirst:Boolean,clearOnSelect:Boolean,openOnFocus:Boolean,customFormatter:Function,checkInfiniteScroll:Boolean,keepOpen:Boolean,clearable:Boolean,maxHeight:[String,Number]},data:function(){return{selected:null,hovered:null,isActive:!1,newValue:this.value,newAutocomplete:this.autocomplete||"off",isListInViewportVertically:!0,hasFocus:!1,_isAutocomplete:!0,_elementRef:"input"}},computed:{whiteList:function(){var t=[];if(t.push(this.$refs.input.$el.querySelector("input")),t.push(this.$refs.dropdown),void 0!==this.$refs.dropdown){var e=this.$refs.dropdown.querySelectorAll("*"),n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var h=c.value;t.push(h)}}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}if(this.$parent.$data._isTaginput){t.push(this.$parent.$el);var f=this.$parent.$el.querySelectorAll("*"),d=!0,v=!1,m=void 0;try{for(var y,w=f[Symbol.iterator]();!(d=(y=w.next()).done);d=!0){var _=y.value;t.push(_)}}catch(t){v=!0,m=t}finally{try{d||null==w.return||w.return()}finally{if(v)throw m}}}return t},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},clearButton:function(){return this.clearable&&this.newValue?"close-circle":""},contentStyle:function(){return{maxHeight:void 0===this.maxHeight?null:isNaN(this.maxHeight)?this.maxHeight:this.maxHeight+"px"}}},watch:{isActive:function(t){var e=this;t?this.calcDropdownInViewportVertical():(this.$nextTick((function(){return e.setHovered(null)})),setTimeout((function(){e.calcDropdownInViewportVertical()}),100))},newValue:function(t){this.$emit("input",t);var e=this.getValue(this.selected);e&&e!==t&&this.setSelected(null,!1),!this.hasFocus||this.openOnFocus&&!t||(this.isActive=!!t)},value:function(t){this.newValue=t,!this.isValid&&this.$refs.input.checkHtml5Validity()},data:function(t){this.keepFirst&&this.selectFirstOption(t)}},methods:{setHovered:function(option){void 0!==option&&(this.hovered=option)},setSelected:function(option){var t=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0!==option&&(this.selected=option,this.$emit("select",this.selected),null!==this.selected&&(this.newValue=this.clearOnSelect?"":this.getValue(this.selected)),e&&this.$nextTick((function(){t.isActive=!1})))},selectFirstOption:function(t){var e=this;this.$nextTick((function(){t.length?(e.openOnFocus||""!==e.newValue&&e.hovered!==t[0])&&e.setHovered(t[0]):e.setHovered(null)}))},enterPressed:function(){null!==this.hovered&&this.setSelected(this.hovered,!this.keepOpen)},tabPressed:function(){null!==this.hovered?this.setSelected(this.hovered,!this.keepOpen):this.isActive=!1},clickedOutside:function(t){this.whiteList.indexOf(t.target)<0&&(this.isActive=!1)},getValue:function(option){if(null!==option)return void 0!==this.customFormatter?this.customFormatter(option):"object"===Object(l.c)(option)?Object(r.a)(option,this.field):option},checkIfReachedTheEndOfScroll:function(t){t.clientHeight!==t.scrollHeight&&t.scrollTop+t.clientHeight>=t.scrollHeight&&this.$emit("infinite-scroll")},calcDropdownInViewportVertical:function(){var t=this;this.$nextTick((function(){if(void 0!==t.$refs.dropdown){var rect=t.$refs.dropdown.getBoundingClientRect();t.isListInViewportVertically=rect.top>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)}}))},keyArrows:function(t){var e="down"===t?1:-1;if(this.isActive){var n=this.data.indexOf(this.hovered)+e;n=(n=n>this.data.length-1?this.data.length:n)<0?0:n,this.setHovered(this.data[n]);var r=this.$refs.dropdown.querySelector(".dropdown-content"),element=r.querySelectorAll("a.dropdown-item:not(.is-disabled)")[n];if(!element)return;var o=r.scrollTop,c=r.scrollTop+r.clientHeight-element.clientHeight;element.offsetTop<o?r.scrollTop=element.offsetTop:element.offsetTop>=c&&(r.scrollTop=element.offsetTop-r.clientHeight+element.clientHeight)}else this.isActive=!0},focused:function(t){this.getValue(this.selected)===this.newValue&&this.$el.querySelector("input").select(),this.openOnFocus&&(this.isActive=!0,this.keepFirst&&this.selectFirstOption(this.data)),this.hasFocus=!0,this.$emit("focus",t)},onBlur:function(t){this.hasFocus=!1,this.$emit("blur",t)},onInput:function(t){var e=this.getValue(this.selected);e&&e===this.newValue||this.$emit("typing",this.newValue)},clearInputText:function(){this.newValue=""}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),window.addEventListener("resize",this.calcDropdownInViewportVertical))},mounted:function(){var t=this;if(this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content")){var e=this.$refs.dropdown.querySelector(".dropdown-content");e.addEventListener("scroll",(function(){return t.checkIfReachedTheEndOfScroll(e)}))}},beforeDestroy:function(){("undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),window.removeEventListener("resize",this.calcDropdownInViewportVertical)),this.checkInfiniteScroll&&this.$refs.dropdown&&this.$refs.dropdown.querySelector(".dropdown-content"))&&this.$refs.dropdown.querySelector(".dropdown-content").removeEventListener("scroll",this.checkIfReachedTheEndOfScroll)}};var S=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete control",class:{"is-expanded":t.expanded}},[n("b-input",t._b({ref:"input",attrs:{type:"text",size:t.size,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-right":t.clearButton,"icon-right-clickable":"","icon-pack":t.iconPack,maxlength:t.maxlength,autocomplete:t.newAutocomplete,"use-html5-validation":t.useHtml5Validation},on:{input:t.onInput,focus:t.focused,blur:t.onBlur,"icon-right-click":t.clearInputText},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault(),t.isActive=!1},keydown:[function(e){return!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.tabPressed(e)},function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.enterPressed(e))},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.keyArrows("up")},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.keyArrows("down")}]},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},"b-input",t.$attrs,!1)),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive&&(t.data.length>0||t.hasEmptySlot||t.hasHeaderSlot),expression:"isActive && (data.length > 0 || hasEmptySlot || hasHeaderSlot)"}],ref:"dropdown",staticClass:"dropdown-menu",class:{"is-opened-top":!t.isListInViewportVertically}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"dropdown-content",style:t.contentStyle},[t.hasHeaderSlot?n("div",{staticClass:"dropdown-item"},[t._t("header")],2):t._e(),t._v(" "),t._l(t.data,(function(option,e){return n("a",{key:e,staticClass:"dropdown-item",class:{"is-hovered":option===t.hovered},on:{click:function(e){t.setSelected(option)}}},[t.hasDefaultSlot?t._t("default",null,{option:option,index:e}):n("span",[t._v("\r\n                            "+t._s(t.getValue(option,!0))+"\r\n                        ")])],2)})),t._v(" "),0===t.data.length&&t.hasEmptySlot?n("div",{staticClass:"dropdown-item is-disabled"},[t._t("empty")],2):t._e(),t._v(" "),t.hasFooterSlot?n("div",{staticClass:"dropdown-item"},[t._t("footer")],2):t._e()],2)])])],1)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,void 0,void 0),I={install:function(t){Object(c.c)(t,S)}};Object(c.d)(I);var k=I;const E={name:"BButton",components:Object(l.a)({},m.name,m),inheritAttrs:!1,props:{type:[String,Object],size:String,label:String,iconPack:String,iconLeft:String,iconRight:String,rounded:{type:Boolean,default:function(){return o.c.defaultButtonRounded}},loading:Boolean,outlined:Boolean,expanded:Boolean,inverted:Boolean,focused:Boolean,active:Boolean,hovered:Boolean,selected:Boolean,nativeType:{type:String,default:"button",validator:function(t){return["button","submit","reset"].indexOf(t)>=0}},tag:{type:String,default:"button",validator:function(t){return o.c.defaultLinkTags.indexOf(t)>=0}}},computed:{computedTag:function(){return void 0!==this.$attrs.disabled&&!1!==this.$attrs.disabled?"button":this.tag},iconSize:function(){return this.size&&"is-medium"!==this.size?"is-large"===this.size?"is-medium":this.size:"is-small"}}};var T=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.computedTag,t._g(t._b({tag:"component",staticClass:"button",class:[t.size,t.type,{"is-rounded":t.rounded,"is-loading":t.loading,"is-outlined":t.outlined,"is-fullwidth":t.expanded,"is-inverted":t.inverted,"is-focused":t.focused,"is-active":t.active,"is-hovered":t.hovered,"is-selected":t.selected}],attrs:{type:t.nativeType}},"component",t.$attrs,!1),t.$listeners),[t.iconLeft?n("b-icon",{attrs:{pack:t.iconPack,icon:t.iconLeft,size:t.iconSize}}):t._e(),t._v(" "),t.label?n("span",[t._v(t._s(t.label))]):t.$slots.default?n("span",[t._t("default")],2):t._e(),t._v(" "),t.iconRight?n("b-icon",{attrs:{pack:t.iconPack,icon:t.iconRight,size:t.iconSize}}):t._e()],1)},staticRenderFns:[]},void 0,E,void 0,!1,void 0,void 0,void 0),D={install:function(t){Object(c.c)(t,T)}};Object(c.d)(D);var A=D;const C={name:"BCarousel",components:Object(l.a)({},m.name,m),props:{value:{type:Number,default:0},animated:{type:String,default:"slide"},interval:Number,hasDrag:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!0},pauseHover:{type:Boolean,default:!0},pauseInfo:{type:Boolean,default:!0},pauseInfoType:{type:String,default:"is-white"},pauseText:{type:String,default:"Pause"},arrow:{type:Boolean,default:!0},arrowBoth:{type:Boolean,default:!0},arrowHover:{type:Boolean,default:!0},repeat:{type:Boolean,default:!0},iconPack:String,iconSize:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},indicator:{type:Boolean,default:!0},indicatorBackground:Boolean,indicatorCustom:Boolean,indicatorCustomSize:{type:String,default:"is-small"},indicatorInside:{type:Boolean,default:!0},indicatorMode:{type:String,default:"click"},indicatorPosition:{type:String,default:"is-bottom"},indicatorStyle:{type:String,default:"is-dots"},overlay:Boolean,progress:Boolean,progressType:{type:String,default:"is-primary"},withCarouselList:Boolean},data:function(){return{_isCarousel:!0,activeItem:this.value,carouselItems:[],isPause:!1,dragX:0,timer:null}},computed:{indicatorClasses:function(){return[{"has-background":this.indicatorBackground,"has-custom":this.indicatorCustom,"is-inside":this.indicatorInside},this.indicatorCustom&&this.indicatorCustomSize,this.indicatorInside&&this.indicatorPosition]}},watch:{value:function(t){t<this.activeItem?this.changeItem(t):this.changeItem(t,!1)},carouselItems:function(){this.activeItem<this.carouselItems.length&&(this.carouselItems[this.activeItem].isActive=!0)},autoplay:function(t){t?this.startTimer():this.pauseTimer()}},methods:{startTimer:function(){var t=this;this.autoplay&&!this.timer&&(this.isPause=!1,this.timer=setInterval((function(){t.repeat||t.activeItem!==t.carouselItems.length-1?t.next():t.pauseTimer()}),this.interval||o.c.defaultCarouselInterval))},pauseTimer:function(){this.isPause=!0,this.timer&&(clearInterval(this.timer),this.timer=null)},checkPause:function(){if(this.pauseHover&&this.autoplay)return this.pauseTimer()},changeItem:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.activeItem!==t&&(this.activeItem<this.carouselItems.length&&this.carouselItems[this.activeItem].status(!1,e),this.carouselItems[t].status(!0,e),this.activeItem=t,this.$emit("change",t))},modeChange:function(t,e){if(this.indicatorMode===t)return this.$emit("input",e),e<this.activeItem?this.changeItem(e):this.changeItem(e,!1)},prev:function(){0===this.activeItem?this.repeat&&this.changeItem(this.carouselItems.length-1):this.changeItem(this.activeItem-1)},next:function(){this.activeItem===this.carouselItems.length-1?this.repeat&&this.changeItem(0,!1):this.changeItem(this.activeItem+1,!1)},checkArrow:function(t){return!!this.arrowBoth||(this.activeItem!==t||void 0)},dragStart:function(t){this.hasDrag&&(this.dragx=t.touches?t.changedTouches[0].pageX:t.pageX,t.touches?this.pauseTimer():t.preventDefault())},dragEnd:function(t){if(this.hasDrag){var e=(t.touches?t.changedTouches[0].pageX:t.pageX)-this.dragx;Math.abs(e)>50&&(e<0?this.next():this.prev()),t.touches&&this.startTimer()}}},mounted:function(){this.activeItem<this.carouselItems.length&&(this.carouselItems[this.activeItem].isActive=!0),this.startTimer()},beforeDestroy:function(){this.pauseTimer()}};var N=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel",class:{"is-overlay":t.overlay},on:{mouseenter:t.pauseTimer,mouseleave:t.startTimer}},[t.progress?n("progress",{staticClass:"progress",class:t.progressType,attrs:{max:t.carouselItems.length-1},domProps:{value:t.activeItem}},[t._v("\r\n            "+t._s(t.carouselItems.length-1)+"\r\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"carousel-items",on:{mousedown:t.dragStart,mouseup:t.dragEnd,touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchend:function(e){return e.stopPropagation(),t.dragEnd(e)}}},[t._t("default"),t._v(" "),t.arrow?n("div",{staticClass:"carousel-arrow",class:{"is-hovered":t.arrowHover}},[t.checkArrow(0)?n("b-icon",{staticClass:"has-icons-left",attrs:{pack:t.iconPack,icon:t.iconPrev,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.prev(e)}}}):t._e(),t._v(" "),t.checkArrow(t.carouselItems.length-1)?n("b-icon",{staticClass:"has-icons-right",attrs:{pack:t.iconPack,icon:t.iconNext,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.next(e)}}}):t._e()],1):t._e()],2),t._v(" "),t.autoplay&&t.pauseHover&&t.pauseInfo&&t.isPause?n("div",{staticClass:"carousel-pause"},[n("span",{staticClass:"tag",class:t.pauseInfoType},[t._v("\r\n                "+t._s(t.pauseText)+"\r\n            ")])]):t._e(),t._v(" "),t.withCarouselList&&!t.indicator?[t._t("list",null,{active:t.activeItem,switch:t.changeItem})]:t._e(),t._v(" "),t.indicator?n("div",{staticClass:"carousel-indicator",class:t.indicatorClasses},t._l(t.carouselItems,(function(e,r){return n("a",{key:r,staticClass:"indicator-item",class:{"is-active":r===t.activeItem},on:{mouseover:function(e){t.modeChange("hover",r)},click:function(e){t.modeChange("click",r)}}},[t._t("indicators",[n("span",{staticClass:"indicator-style",class:t.indicatorStyle})],{i:r})],2)}))):t._e(),t._v(" "),t.overlay?[t._t("overlay")]:t._e()],2)},staticRenderFns:[]},void 0,C,void 0,!1,void 0,void 0,void 0);const O={name:"BCarouselItem",data:function(){return{isActive:!1,transitionName:null}},computed:{transition:function(){return"fade"===this.$parent.animated?"fade":this.transitionName}},methods:{status:function(t,e){this.transitionName=e?"slide-next":"slide-prev",this.isActive=t}},created:function(){if(!this.$parent.$data._isCarousel)throw this.$destroy(),new Error("You should wrap bCarouselItem on a bCarousel");this.$parent.carouselItems.push(this)},beforeDestroy:function(){var t=this.$parent.carouselItems.indexOf(this);t>=0&&this.$parent.carouselItems.splice(t,1)}};var x=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:this.transition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isActive,expression:"isActive"}],staticClass:"carousel-item"},[this._t("default")],2)])},staticRenderFns:[]},void 0,O,void 0,!1,void 0,void 0,void 0);const P={name:"BCarouselList",components:Object(l.a)({},m.name,m),props:{config:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}},value:{type:Number,default:0},hasDrag:{type:Boolean,default:!0},hasGrayscale:Boolean,hasOpacity:Boolean,repeat:Boolean,itemsToShow:{type:Number,default:4},itemsToList:{type:Number,default:1},asIndicator:Boolean,arrow:{type:Boolean,default:!0},arrowHover:{type:Boolean,default:!0},iconPack:String,iconSize:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},refresh:Boolean},data:function(){return{activeItem:this.value,breakpoints:{},delta:0,dragging:!1,hold:0,itemWidth:0,total:0,settings:{}}},computed:{listClass:function(){return[{"has-grayscale":this.settings.hasGrayscale||this.hasGrayscale,"has-opacity":this.settings.hasOpacity||this.hasOpacity,"is-dragging":this.dragging}]},itemStyle:function(){return"width: ".concat(this.itemWidth,"px;")},transformStyle:function(){var t=this.delta+this.activeItem*this.itemWidth*1,e=this.dragging?-t:-Math.abs(t);return"transform: translateX(".concat(e,"px);")}},watch:{value:function(t){this.switchTo(t)},refresh:function(t){t&&this.asIndicator&&this.getWidth()}},methods:{initConfig:function(){this.breakpoints=this.config.breakpoints,this.settings=Object(r.d)(this.$props,this.config,!0)},getWidth:function(){var rect=this.$el.getBoundingClientRect();this.itemWidth=rect.width/this.settings.itemsToShow},update:function(){this.breakpoints&&this.updateConfig(),this.getWidth()},updateConfig:function(){var t,e=this;Object.keys(this.breakpoints).sort((function(a,b){return b-a})).some((function(n){if(t=window.matchMedia("(min-width: ".concat(n,"px)")).matches)return e.settings=e.config.breakpoints[n],!0})),t||(this.settings=this.config)},switchTo:function(t){if(!(t<0||this.activeItem===t||!this.repeat&&t>this.total)){var e=this.repeat&&t>this.total?0:t;this.activeItem=e,this.$emit("switch",e)}},next:function(){this.switchTo(this.activeItem+this.itemsToList)},prev:function(){this.switchTo(this.activeItem-this.itemsToList)},checkArrow:function(t){if(this.repeat||this.activeItem!==t)return!0},checkAsIndicator:function(t,e){if(this.asIndicator){var n=(new Date).getTime();!e.touches&&n-this.hold>200||this.switchTo(t)}},dragStart:function(t){!this.hasDrag||0!==t.button&&"touchstart"!==t.type||(this.hold=(new Date).getTime(),this.dragging=!0,this.dragStartX=t.touches?t.touches[0].clientX:t.clientX,window.addEventListener(t.touches?"touchmove":"mousemove",this.dragMove),window.addEventListener(t.touches?"touchend":"mouseup",this.dragEnd))},dragMove:function(t){this.dragEndX=t.touches?t.touches[0].clientX:t.clientX;var e=this.dragEndX-this.dragStartX;this.delta=e<0?Math.abs(e):-Math.abs(e),t.touches||t.preventDefault()},dragEnd:function(t){var e=1*Object(r.g)(this.delta),n=Math.round(Math.abs(this.delta/this.itemWidth)+.15);this.switchTo(this.activeItem+e*n),this.dragging=!1,this.delta=0,window.removeEventListener(t.touches?"touchmove":"mousemove",this.dragMove),window.removeEventListener(t.touches?"touchend":"mouseup",this.dragEnd)}},created:function(){this.initConfig(),"undefined"!=typeof window&&window.addEventListener("resize",this.update)},mounted:function(){var t=this;this.total=this.data.length-1,this.$nextTick((function(){t.update()}))},beforeDestroy:function(){window.removeEventListener("resize",this.update)}};var R=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-list",class:{"has-shadow":t.activeItem>0},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.dragStart(e)},touchstart:t.dragStart}},[n("div",{staticClass:"carousel-slides",class:t.listClass,style:t.transformStyle},t._l(t.data,(function(e,r){return n("div",{key:r,staticClass:"carousel-slide",class:{"is-active":t.activeItem===r},style:t.itemStyle,on:{click:function(e){e.preventDefault(),t.checkAsIndicator(r,e)}}},[t._t("item",[n("figure",{staticClass:"image"},[n("img",{attrs:{src:e.image,title:e.title}})])],{list:e,index:r,active:t.activeItem})],2)}))),t._v(" "),t.arrow?n("div",{staticClass:"carousel-arrow",class:{"is-hovered":t.arrowHover}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.activeItem>0,expression:"activeItem > 0"}],staticClass:"has-icons-left",attrs:{pack:t.iconPack,icon:t.iconPrev,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.prev(e)}}}),t._v(" "),n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.checkArrow(t.total),expression:"checkArrow(total)"}],staticClass:"has-icons-right",attrs:{pack:t.iconPack,icon:t.iconNext,size:t.iconSize,both:""},nativeOn:{click:function(e){return e.preventDefault(),t.next(e)}}})],1):t._e()])},staticRenderFns:[]},void 0,P,void 0,!1,void 0,void 0,void 0),M={install:function(t){Object(c.c)(t,N),Object(c.c)(t,x),Object(c.c)(t,R)}};Object(c.d)(M);var L=M,j={props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],type:String,disabled:Boolean,required:Boolean,name:String,size:String},data:function(){return{newValue:this.value}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}};const V={name:"BCheckbox",mixins:[j],props:{indeterminate:Boolean,trueValue:{type:[String,Number,Boolean,Function,Object,Array],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array],default:!1}}};var F=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"b-checkbox checkbox",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,required:t.required,name:t.name,"true-value":t.trueValue,"false-value":t.falseValue},domProps:{indeterminate:t.indeterminate,value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,o=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var c=t.nativeValue,l=t._i(n,c);r.checked?l<0&&(t.computedValue=n.concat([c])):l>-1&&(t.computedValue=n.slice(0,l).concat(n.slice(l+1)))}else t.computedValue=o}}}),t._v(" "),n("span",{staticClass:"check",class:t.type}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,V,void 0,!1,void 0,void 0,void 0);const B={name:"BCheckboxButton",mixins:[j],props:{type:{type:String,default:"is-primary"},expanded:Boolean},data:function(){return{isFocused:!1}},computed:{checked:function(){return Array.isArray(this.newValue)?this.newValue.indexOf(this.nativeValue)>=0:this.newValue===this.nativeValue}}};var U=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[n("label",{ref:"label",staticClass:"b-checkbox checkbox button",class:[t.checked?t.type:null,t.size,{"is-disabled":t.disabled,"is-focused":t.isFocused}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[t._t("default"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t.computedValue},on:{click:function(t){t.stopPropagation()},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},change:function(e){var n=t.computedValue,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t.nativeValue,l=t._i(n,c);r.checked?l<0&&(t.computedValue=n.concat([c])):l>-1&&(t.computedValue=n.slice(0,l).concat(n.slice(l+1)))}else t.computedValue=o}}})],2)])},staticRenderFns:[]},void 0,B,void 0,!1,void 0,void 0,void 0),$={install:function(t){Object(c.c)(t,F),Object(c.c)(t,U)}};Object(c.d)($);var z=$;const H={name:"BCollapse",props:{open:{type:Boolean,default:!0},animation:{type:String,default:"fade"},ariaId:{type:String,default:""},position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom"].indexOf(t)>-1}}},data:function(){return{isOpen:this.open}},watch:{open:function(t){this.isOpen=t}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit("update:open",this.isOpen),this.$emit(this.isOpen?"open":"close")}},render:function(t){var e=t("div",{staticClass:"collapse-trigger",on:{click:this.toggle}},this.$scopedSlots.trigger?[this.$scopedSlots.trigger({open:this.isOpen})]:[this.$slots.trigger]),content=t("transition",{props:{name:this.animation}},[t("div",{staticClass:"collapse-content",attrs:{id:this.ariaId,"aria-expanded":this.isOpen},directives:[{name:"show",value:this.isOpen}]},this.$slots.default)]);return t("div",{staticClass:"collapse"},"is-top"===this.position?[e,content]:[content,e])}};var G=Object(c.a)({},void 0,H,void 0,void 0,void 0,void 0,void 0),W={install:function(t){Object(c.c)(t,G)}};Object(c.d)(W);var K,Y=W,J="AM",X="PM",Q={mixins:[h],inheritAttrs:!1,props:{value:Date,inline:Boolean,minTime:Date,maxTime:Date,placeholder:String,editable:Boolean,disabled:Boolean,hourFormat:{type:String,default:"24",validator:function(t){return"24"===t||"12"===t}},incrementHours:{type:Number,default:1},incrementMinutes:{type:Number,default:1},incrementSeconds:{type:Number,default:1},timeFormatter:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultTimeFormatter?o.c.defaultTimeFormatter(t):function(t,e){var n=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),c="";return"12"===e.hourFormat&&(c=" "+(n<12?J:X),n>12?n-=12:0===n&&(n=12)),e.pad(n)+":"+e.pad(r)+(e.enableSeconds?":"+e.pad(o):"")+c}(t,e)}},timeParser:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultTimeParser?o.c.defaultTimeParser(t):function(t,e){if(t){var n=!1;if("12"===e.hourFormat){var r=t.split(" ");t=r[0],n=r[1]===J}var time=t.split(":"),o=parseInt(time[0],10),c=parseInt(time[1],10),l=e.enableSeconds?parseInt(time[2],10):0;if(isNaN(o)||o<0||o>23||"12"===e.hourFormat&&(o<1||o>12)||isNaN(c)||c<0||c>59)return null;var h=null;return e.computedValue&&!isNaN(e.computedValue)?h=new Date(e.computedValue):(h=e.timeCreator()).setMilliseconds(0),h.setSeconds(l),h.setMinutes(c),"12"===e.hourFormat&&(n&&12===o?o=0:n||12===o||(o+=12)),h.setHours(o),new Date(h.getTime())}return null}(t,e)}},mobileNative:{type:Boolean,default:function(){return o.c.defaultTimepickerMobileNative}},timeCreator:{type:Function,default:function(){return"function"==typeof o.c.defaultTimeCreator?o.c.defaultTimeCreator():new Date}},position:String,unselectableTimes:Array,openOnFocus:Boolean,enableSeconds:Boolean,defaultMinutes:Number,defaultSeconds:Number,focusable:{type:Boolean,default:!0},tzOffset:{type:Number,default:0}},data:function(){return{dateSelected:this.value,hoursSelected:null,minutesSelected:null,secondsSelected:null,meridienSelected:null,_elementRef:"input",AM:J,PM:X,HOUR_FORMAT_24:"24",HOUR_FORMAT_12:"12"}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(t){this.dateSelected=t,this.$emit("input",this.dateSelected)}},hours:function(){if(!this.incrementHours||this.incrementHours<1)throw new Error("Hour increment cannot be null or less than 1.");for(var t=[],e=this.isHourFormat24?24:12,i=0;i<e;i+=this.incrementHours){var n=i,label=n;this.isHourFormat24||(label=n=i+1,this.meridienSelected===this.AM?12===n&&(n=0):this.meridienSelected===this.PM&&12!==n&&(n+=12)),t.push({label:this.formatNumber(label),value:n})}return t},minutes:function(){if(!this.incrementMinutes||this.incrementMinutes<1)throw new Error("Minute increment cannot be null or less than 1.");for(var t=[],i=0;i<60;i+=this.incrementMinutes)t.push({label:this.formatNumber(i,!0),value:i});return t},seconds:function(){if(!this.incrementSeconds||this.incrementSeconds<1)throw new Error("Second increment cannot be null or less than 1.");for(var t=[],i=0;i<60;i+=this.incrementSeconds)t.push({label:this.formatNumber(i,!0),value:i});return t},meridiens:function(){return[J,X]},isMobile:function(){return this.mobileNative&&r.c.any()},isHourFormat24:function(){return"24"===this.hourFormat}},watch:{hourFormat:function(){null!==this.hoursSelected&&(this.meridienSelected=this.hoursSelected>=12?X:J)},value:{handler:function(t){this.updateInternalState(t),!this.isValid&&this.$refs.input.checkHtml5Validity()},immediate:!0}},methods:{onMeridienChange:function(t){null!==this.hoursSelected&&(t===X?this.hoursSelected+=12:t===J&&(this.hoursSelected-=12)),this.updateDateSelected(this.hoursSelected,this.minutesSelected,this.enableSeconds?this.secondsSelected:0,t)},onHoursChange:function(t){this.minutesSelected||void 0===this.defaultMinutes||(this.minutesSelected=this.defaultMinutes),this.secondsSelected||void 0===this.defaultSeconds||(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(parseInt(t,10),this.minutesSelected,this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onMinutesChange:function(t){!this.secondsSelected&&this.defaultSeconds&&(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(this.hoursSelected,parseInt(t,10),this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onSecondsChange:function(t){this.updateDateSelected(this.hoursSelected,this.minutesSelected,parseInt(t,10),this.meridienSelected)},updateDateSelected:function(t,e,n,r){if(null!=t&&null!=e&&(!this.isHourFormat24&&null!==r||this.isHourFormat24)){var time=null;this.computedValue&&!isNaN(this.computedValue)?time=new Date(this.computedValue):(time=this.timeCreator()).setMilliseconds(0),time.setHours(t),time.setMinutes(e),time.setSeconds(n),this.computedValue=new Date(time.getTime())}},updateInternalState:function(t){t?(this.hoursSelected=t.getHours(),this.minutesSelected=t.getMinutes(),this.secondsSelected=t.getSeconds(),this.meridienSelected=t.getHours()>=12?X:J):(this.hoursSelected=null,this.minutesSelected=null,this.secondsSelected=null,this.meridienSelected=J),this.dateSelected=t},isHourDisabled:function(t){var e=this,n=!1;if(this.minTime){var r=this.minTime.getHours(),o=this.minutes.every((function(n){return e.isMinuteDisabledForHour(t,n.value)}));n=t<r||o}if(this.maxTime&&!n){var c=this.maxTime.getHours();n=t>c}this.unselectableTimes&&(n||(n=this.unselectableTimes.filter((function(time){return e.enableSeconds&&null!==e.secondsSelected?time.getHours()===t&&time.getMinutes()===e.minutesSelected&&time.getSeconds()===e.secondsSelected:null!==e.minutesSelected?time.getHours()===t&&time.getMinutes()===e.minutesSelected:time.getHours()===t})).length>0));return n},isMinuteDisabledForHour:function(t,e){var n=!1;if(this.minTime){var r=this.minTime.getHours(),o=this.minTime.getMinutes();n=t===r&&e<o}if(this.maxTime&&!n){var c=this.maxTime.getHours(),l=this.maxTime.getMinutes();n=t===c&&e>l}return n},isMinuteDisabled:function(t){var e=this,n=!1;null!==this.hoursSelected&&(n=!!this.isHourDisabled(this.hoursSelected)||this.isMinuteDisabledForHour(this.hoursSelected,t),this.unselectableTimes&&(n||(n=this.unselectableTimes.filter((function(time){return e.enableSeconds&&null!==e.secondsSelected?time.getHours()===e.hoursSelected&&time.getMinutes()===t&&time.getSeconds()===e.secondsSelected:time.getHours()===e.hoursSelected&&time.getMinutes()===t})).length>0)));return n},isSecondDisabled:function(t){var e=this,n=!1;if(null!==this.minutesSelected){if(this.isMinuteDisabled(this.minutesSelected))n=!0;else{if(this.minTime){var r=this.minTime.getHours(),o=this.minTime.getMinutes(),c=this.minTime.getSeconds();n=this.hoursSelected===r&&this.minutesSelected===o&&t<c}if(this.maxTime&&!n){var l=this.maxTime.getHours(),h=this.maxTime.getMinutes(),f=this.maxTime.getSeconds();n=this.hoursSelected===l&&this.minutesSelected===h&&t>f}}if(this.unselectableTimes)if(!n)n=this.unselectableTimes.filter((function(time){return time.getHours()===e.hoursSelected&&time.getMinutes()===e.minutesSelected&&time.getSeconds()===t})).length>0}return n},onChange:function(t){var e=this.timeParser(t,this);this.updateInternalState(e),e&&!isNaN(e)?this.computedValue=e:(this.computedValue=null,this.$refs.input.newValue=this.computedValue)},toggle:function(t){this.$refs.dropdown&&(this.$refs.dropdown.isActive="boolean"==typeof t?t:!this.$refs.dropdown.isActive)},close:function(){this.toggle(!1)},handleOnFocus:function(){this.onFocus(),this.openOnFocus&&this.toggle(!0)},formatHHMMSS:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return this.formatNumber(n,!0)+":"+this.formatNumber(r,!0)+":"+this.formatNumber(o,!0)}return""},onChangeNativePicker:function(t){var e=t.target.value;if(e){var time=null;this.computedValue&&!isNaN(this.computedValue)?time=new Date(this.computedValue):(time=new Date).setMilliseconds(0);var n=e.split(":");time.setHours(parseInt(n[0],10)),time.setMinutes(parseInt(n[1],10)),time.setSeconds(n[2]?parseInt(n[2],10):0),this.computedValue=new Date(time.getTime())}else this.computedValue=null},formatNumber:function(t,e){return this.isHourFormat24||e?this.pad(t):t},pad:function(t){return(t<10?"0":"")+t},formatValue:function(t){return t&&!isNaN(t)?this.timeFormatter(t,this):null},keyPress:function(t){this.$refs.dropdown&&this.$refs.dropdown.isActive&&27===t.keyCode&&this.toggle(!1)},onActiveChange:function(t){t||this.onBlur()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}},Z=function(element){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return element?t?element.querySelectorAll('*[tabindex="-1"]'):element.querySelectorAll('a[href]:not([tabindex="-1"]),\n                                     area[href],\n                                     input:not([disabled]),\n                                     select:not([disabled]),\n                                     textarea:not([disabled]),\n                                     button:not([disabled]),\n                                     iframe,\n                                     object,\n                                     embed,\n                                     *[tabindex]:not([tabindex="-1"]),\n                                     *[contenteditable]'):null},tt={bind:function(t,e){var n=e.value;if(void 0===n||n){var r=Z(t),o=Z(t,!0);r&&r.length>0&&(K=function(e){r=Z(t),o=Z(t,!0);var n=r[0],c=r[r.length-1];e.target===n&&e.shiftKey&&"Tab"===e.key?(e.preventDefault(),c.focus()):(e.target===c||Array.from(o).indexOf(e.target)>=0)&&!e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),n.focus())},t.addEventListener("keydown",K))}},unbind:function(t){t.removeEventListener("keydown",K)}},et=["escape","outside"];const nt={name:"BDropdown",directives:{trapFocus:tt},props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,hoverable:Boolean,inline:Boolean,position:{type:String,validator:function(t){return["is-top-right","is-top-left","is-bottom-left","is-bottom-right"].indexOf(t)>-1}},mobileModal:{type:Boolean,default:function(){return o.c.defaultDropdownMobileModal}},ariaRole:{type:String,validator:function(t){return["menu","list","dialog"].indexOf(t)>-1},default:null},animation:{type:String,default:"fade"},multiple:Boolean,trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},closeOnClick:{type:Boolean,default:!0},canClose:{type:[Array,Boolean],default:!0},expanded:Boolean},data:function(){return{selected:this.value,isActive:!1,isHoverable:this.hoverable,_isDropdown:!0}},computed:{rootClasses:function(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal,"is-expanded":this.expanded}]},isMobileModal:function(){return this.mobileModal&&!this.inline&&!this.hoverable},cancelOptions:function(){return"boolean"==typeof this.canClose?this.canClose?et:[]:this.canClose}},watch:{value:function(t){this.selected=t},isActive:function(t){this.$emit("active-change",t)}},methods:{selectItem:function(t){if(this.multiple){if(this.selected){var e=this.selected.indexOf(t);-1===e?this.selected.push(t):this.selected.splice(e,1)}else this.selected=[t];this.$emit("change",this.selected)}else this.selected!==t&&(this.selected=t,this.$emit("change",this.selected));this.$emit("input",this.selected),this.multiple||(this.isActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1))},isInWhiteList:function(t){if(t===this.$refs.dropdownMenu)return!0;if(t===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu){var e=this.$refs.dropdownMenu.querySelectorAll("*"),n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){if(t===c.value)return!0}}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}if(void 0!==this.$refs.trigger){var h=this.$refs.trigger.querySelectorAll("*"),f=!0,d=!1,v=void 0;try{for(var m,y=h[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){if(t===m.value)return!0}}catch(t){d=!0,v=t}finally{try{f||null==y.return||y.return()}finally{if(d)throw v}}}return!1},clickedOutside:function(t){this.cancelOptions.indexOf("outside")<0||this.inline||this.isInWhiteList(t.target)||(this.isActive=!1)},keyPress:function(t){if(this.isActive&&27===t.keyCode){if(this.cancelOptions.indexOf("escape")<0)return;this.isActive=!1}},toggle:function(){var t=this;this.disabled||(this.isActive?this.isActive=!this.isActive:this.$nextTick((function(){var e=!t.isActive;t.isActive=e,setTimeout((function(){return t.isActive=e}))})))},checkHoverable:function(){this.hoverable&&(this.isHoverable=!0)}},created:function(){"undefined"!=typeof window&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress))}};var it=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown",class:t.rootClasses},[t.inline?t._e():n("div",{ref:"trigger",staticClass:"dropdown-trigger",attrs:{role:"button","aria-haspopup":"true"},on:{click:t.toggle,mouseenter:t.checkHoverable}},[t._t("trigger",null,{active:t.isActive})],2),t._v(" "),n("transition",{attrs:{name:t.animation}},[t.isMobileModal?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"background",attrs:{"aria-hidden":!t.isActive}}):t._e()]),t._v(" "),n("transition",{attrs:{name:t.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&(t.isActive||t.isHoverable)||t.inline,expression:"(!disabled && (isActive || isHoverable)) || inline"},{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{"aria-hidden":!t.isActive}},[n("div",{staticClass:"dropdown-content",attrs:{role:t.ariaRole}},[t._t("default")],2)])])],1)},staticRenderFns:[]},void 0,nt,void 0,!1,void 0,void 0,void 0);const ot={name:"BDropdownItem",props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,focusable:{type:Boolean,default:!0},paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses:function(){return{"is-disabled":this.$parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive}},itemClasses:function(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":this.isActive,"has-link":this.hasLink}},ariaRoleItem:function(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable:function(){return!(this.$parent.disabled||this.separator||this.disabled||this.custom)},isActive:function(){return null!==this.$parent.selected&&(this.$parent.multiple?this.$parent.selected.indexOf(this.value)>=0:this.value===this.$parent.selected)}},methods:{selectItem:function(){this.isClickable&&(this.$parent.selectItem(this.value),this.$emit("click"))}},created:function(){if(!this.$parent.$data._isDropdown)throw this.$destroy(),new Error("You should wrap bDropdownItem on a bDropdown")}};var st=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.separator?n("hr",{staticClass:"dropdown-divider"}):t.custom||t.hasLink?n("div",{class:t.itemClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2):n("a",{staticClass:"dropdown-item",class:t.anchorClasses,attrs:{role:t.ariaRoleItem,tabindex:t.focusable?0:null},on:{click:t.selectItem}},[t._t("default")],2)},staticRenderFns:[]},void 0,ot,void 0,!1,void 0,void 0,void 0);const at={name:"BFieldBody",props:{message:{type:String},type:{type:[String,Object]}},render:function(t){var e=this;return t("div",{attrs:{class:"field-body"}},this.$slots.default.map((function(element){return element.tag?e.message?t("b-field",{attrs:{message:e.message,type:e.type}},[element]):t("b-field",{attrs:{type:e.type}},[element]):element})))}};var ut=Object(c.a)({},void 0,at,void 0,void 0,void 0,void 0,void 0);const ct={name:"BField",components:Object(l.a)({},ut.name,ut),props:{type:[String,Object],label:String,labelFor:String,message:[String,Array,Object],grouped:Boolean,groupMultiline:Boolean,position:String,expanded:Boolean,horizontal:Boolean,addons:{type:Boolean,default:!0},customClass:String,labelPosition:{type:String,default:function(){return o.c.defaultFieldLabelPosition}}},data:function(){return{newType:this.type,newMessage:this.message,fieldLabelSize:null,_isField:!0}},computed:{rootClasses:function(){return[this.newPosition,{"is-expanded":this.expanded,"is-grouped-multiline":this.groupMultiline,"is-horizontal":this.horizontal,"is-floating-in-label":this.hasLabel&&!this.horizontal&&"inside"===this.labelPosition,"is-floating-label":this.hasLabel&&!this.horizontal&&"on-border"===this.labelPosition},this.numberInputClasses]},newPosition:function(){if(void 0!==this.position){var t=this.position.split("-");if(!(t.length<1)){var e=this.grouped?"is-grouped-":"has-addons-";return this.position?e+t[1]:void 0}}},formattedMessage:function(){if("string"==typeof this.newMessage)return this.newMessage;var t=[];if(Array.isArray(this.newMessage))this.newMessage.forEach((function(e){if("string"==typeof e)t.push(e);else for(var n in e)e[n]&&t.push(n)}));else for(var e in this.newMessage)this.newMessage[e]&&t.push(e);return t.filter((function(t){if(t)return t})).join(" <br> ")},hasLabel:function(){return this.label||this.$slots.label},numberInputClasses:function(){if(this.$slots.default){var t=this.$slots.default.filter((function(t){return t.tag&&t.tag.toLowerCase().indexOf("numberinput")>=0}))[0];if(t){var e=["has-numberinput"],n=t.componentOptions.propsData.controlsPosition,r=t.componentOptions.propsData.size;return n&&e.push("has-numberinput-".concat(n)),r&&e.push("has-numberinput-".concat(r)),e}}return null}},watch:{type:function(t){this.newType=t},message:function(t){this.newMessage=t}},methods:{fieldType:function(){if(this.grouped)return"is-grouped";var t=0;return this.$slots.default&&(t=this.$slots.default.reduce((function(i,t){return t.tag?i+1:i}),0)),t>1&&this.addons&&!this.horizontal?"has-addons":void 0}},mounted:function(){this.horizontal&&(this.$el.querySelectorAll(".input, .select, .button, .textarea, .b-slider").length>0&&(this.fieldLabelSize="is-normal"))}};var lt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field",class:[t.rootClasses,t.fieldType()]},[t.horizontal?n("div",{staticClass:"field-label",class:[t.customClass,t.fieldLabelSize]},[t.hasLabel?n("label",{staticClass:"label",class:t.customClass,attrs:{for:t.labelFor}},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2):t._e()]):[t.hasLabel?n("label",{staticClass:"label",class:t.customClass,attrs:{for:t.labelFor}},[t.$slots.label?t._t("label"):[t._v(t._s(t.label))]],2):t._e()],t._v(" "),t.horizontal?n("b-field-body",{attrs:{message:t.newMessage?t.formattedMessage:"",type:t.newType}},[t._t("default")],2):[t._t("default")],t._v(" "),t.newMessage&&!t.horizontal?n("p",{staticClass:"help",class:t.newType,domProps:{innerHTML:t._s(t.formattedMessage)}}):t._e()],2)},staticRenderFns:[]},void 0,ct,void 0,!1,void 0,void 0,void 0);const ht={name:"BClockpickerFace",props:{pickerSize:Number,min:Number,max:Number,double:Boolean,value:Number,faceNumbers:Array,disabledValues:Function},data:function(){return{isDragging:!1,inputValue:this.value,prevAngle:720}},computed:{count:function(){return this.max-this.min+1},countPerRing:function(){return this.double?this.count/2:this.count},radius:function(){return this.pickerSize/2},outerRadius:function(){return this.radius-5-20},innerRadius:function(){return Math.max(.6*this.outerRadius,this.outerRadius-5-40)},degreesPerUnit:function(){return 360/this.countPerRing},degrees:function(){return this.degreesPerUnit*Math.PI/180},handRotateAngle:function(){for(var t=this.prevAngle;t<0;)t+=360;var e=this.calcHandAngle(this.displayedValue),n=this.shortestDistanceDegrees(t,e);return this.prevAngle+n},handScale:function(){return this.calcHandScale(this.displayedValue)},handStyle:function(){return{transform:"rotate(".concat(this.handRotateAngle,"deg) scaleY(").concat(this.handScale,")"),transition:".3s cubic-bezier(.25,.8,.50,1)"}},displayedValue:function(){return null==this.inputValue?this.min:this.inputValue}},watch:{value:function(t){t!==this.inputValue&&(this.prevAngle=this.handRotateAngle),this.inputValue=t}},methods:{isDisabled:function(t){return this.disabledValues&&this.disabledValues(t)},euclidean:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},shortestDistanceDegrees:function(t,e){var n=(e-t)%360,r=180-Math.abs(Math.abs(n)-180);return(n+360)%360<180?1*r:-1*r},coordToAngle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)},getNumberTranslate:function(t){var e=this.getNumberCoords(t),n=e.x,r=e.y;return"translate(".concat(n,"px, ").concat(r,"px)")},getNumberCoords:function(t){var e=this.isInnerRing(t)?this.innerRadius:this.outerRadius;return{x:Math.round(e*Math.sin((t-this.min)*this.degrees)),y:Math.round(-e*Math.cos((t-this.min)*this.degrees))}},getFaceNumberClasses:function(t){return{active:t.value===this.displayedValue,disabled:this.isDisabled(t.value)}},isInnerRing:function(t){return this.double&&t-this.min>=this.countPerRing},calcHandAngle:function(t){var e=this.degreesPerUnit*(t-this.min);return this.isInnerRing(t)&&(e-=360),e},calcHandScale:function(t){return this.isInnerRing(t)?this.innerRadius/this.outerRadius:1},onMouseDown:function(t){t.preventDefault(),this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(){this.isDragging=!1,this.isDisabled(this.inputValue)||this.$emit("change",this.inputValue)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e=this.$refs.clock.getBoundingClientRect(),n=e.width,r=e.top,o=e.left,c="touches"in t?t.touches[0]:t,l={x:n/2,y:-n/2},h={x:c.clientX-o,y:r-c.clientY},f=Math.round(this.coordToAngle(l,h)+360)%360,d=this.double&&this.euclidean(l,h)<(this.outerRadius+this.innerRadius)/2-16,v=Math.round(f/this.degreesPerUnit)+this.min+(d?this.countPerRing:0);f>=360-this.degreesPerUnit/2&&(v=d?this.max:this.min),this.update(v)}},update:function(t){this.inputValue===t||this.isDisabled(t)||(this.prevAngle=this.handRotateAngle,this.inputValue=t,this.$emit("input",t))}}};var ft,pt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-clockpicker-face",on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onDragMove,touchstart:t.onMouseDown,touchend:t.onMouseUp,touchmove:t.onDragMove}},[n("div",{ref:"clock",staticClass:"b-clockpicker-face-outer-ring"},[n("div",{staticClass:"b-clockpicker-face-hand",style:t.handStyle}),t._v(" "),t._l(t.faceNumbers,(function(e,r){return n("span",{key:r,staticClass:"b-clockpicker-face-number",class:t.getFaceNumberClasses(e),style:{transform:t.getNumberTranslate(e.value)}},[n("span",[t._v(t._s(e.label))])])}))],2)])},staticRenderFns:[]},void 0,ht,void 0,!1,void 0,void 0,void 0);const vt={name:"BClockpicker",components:(ft={},Object(l.a)(ft,pt.name,pt),Object(l.a)(ft,w.name,w),Object(l.a)(ft,lt.name,lt),Object(l.a)(ft,m.name,m),Object(l.a)(ft,it.name,it),Object(l.a)(ft,st.name,st),ft),mixins:[Q],props:{pickerSize:{type:Number,default:290},hourFormat:{type:String,default:"12",validator:function(t){return"24"===t||"12"===t}},incrementMinutes:{type:Number,default:5},autoSwitch:{type:Boolean,default:!0},type:{type:String,default:"is-primary"},hoursLabel:{type:String,default:function(){return o.c.defaultClockpickerHoursLabel||"Hours"}},minutesLabel:{type:String,default:function(){return o.c.defaultClockpickerMinutesLabel||"Min"}}},data:function(){return{isSelectingHour:!0,isDragging:!1,_isClockpicker:!0}},computed:{hoursDisplay:function(){if(null==this.hoursSelected)return"--";if(this.isHourFormat24)return this.pad(this.hoursSelected);var t=this.hoursSelected;return this.meridienSelected===this.PM&&(t-=12),0===t&&(t=12),t},minutesDisplay:function(){return null==this.minutesSelected?"--":this.pad(this.minutesSelected)},minFaceValue:function(){return this.isSelectingHour&&!this.isHourFormat24&&this.meridienSelected===this.PM?12:0},maxFaceValue:function(){return this.isSelectingHour?this.isHourFormat24||this.meridienSelected!==this.AM?23:11:59},faceSize:function(){return this.pickerSize-24},faceDisabledValues:function(){return this.isSelectingHour?this.isHourDisabled:this.isMinuteDisabled}},methods:{onClockInput:function(t){this.isSelectingHour?(this.hoursSelected=t,this.onHoursChange(t)):(this.minutesSelected=t,this.onMinutesChange(t))},onClockChange:function(t){this.autoSwitch&&this.isSelectingHour&&(this.isSelectingHour=!this.isSelectingHour)},onMeridienClick:function(t){this.meridienSelected!==t&&(this.meridienSelected=t,this.onMeridienChange(t))}}};var mt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-clockpicker control",class:[t.size,t.type,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline},on:{"active-change":t.onActiveChange}},[t.inline?t._e():n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){e.stopPropagation(),t.toggle(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toggle(!0)},change:function(e){return t.onChangeNativePicker(e)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),n("div",{staticClass:"card",attrs:{disabled:t.disabled,custom:""}},[t.inline?n("header",{staticClass:"card-header"},[n("div",{staticClass:"b-clockpicker-header card-header-title"},[n("div",{staticClass:"b-clockpicker-time"},[n("span",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursDisplay))]),t._v(" "),n("span",[t._v(":")]),t._v(" "),n("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesDisplay))])]),t._v(" "),t.isHourFormat24?t._e():n("div",{staticClass:"b-clockpicker-period"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.AM},on:{click:function(e){t.onMeridienClick(t.AM)}}},[t._v("am")]),t._v(" "),n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.PM},on:{click:function(e){t.onMeridienClick(t.PM)}}},[t._v("pm")])])])]):t._e(),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"b-clockpicker-body",style:{width:t.faceSize+"px",height:t.faceSize+"px"}},[t.inline?t._e():n("div",{staticClass:"b-clockpicker-time"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!0}}},[t._v(t._s(t.hoursLabel))]),t._v(" "),n("span",{staticClass:"b-clockpicker-btn",class:{active:!t.isSelectingHour},on:{click:function(e){t.isSelectingHour=!1}}},[t._v(t._s(t.minutesLabel))])]),t._v(" "),t.isHourFormat24||t.inline?t._e():n("div",{staticClass:"b-clockpicker-period"},[n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.AM},on:{click:function(e){t.onMeridienClick(t.AM)}}},[t._v(t._s(t.AM))]),t._v(" "),n("div",{staticClass:"b-clockpicker-btn",class:{active:t.meridienSelected==t.PM},on:{click:function(e){t.onMeridienClick(t.PM)}}},[t._v(t._s(t.PM))])]),t._v(" "),n("b-clockpicker-face",{attrs:{"picker-size":t.faceSize,min:t.minFaceValue,max:t.maxFaceValue,"face-numbers":t.isSelectingHour?t.hours:t.minutes,"disabled-values":t.faceDisabledValues,double:t.isSelectingHour&&t.isHourFormat24,value:t.isSelectingHour?t.hoursSelected:t.minutesSelected},on:{input:t.onClockInput,change:t.onClockChange}})],1)]),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"b-clockpicker-footer card-footer"},[t._t("default")],2):t._e()])],1):n("b-input",t._b({ref:"input",attrs:{type:"time",autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{click:function(e){e.stopPropagation(),t.toggle(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toggle(!0)},change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,vt,void 0,!1,void 0,void 0,void 0),gt={install:function(t){Object(c.c)(t,mt)}};Object(c.d)(gt);var yt=gt;const bt={name:"BSelect",components:Object(l.a)({},m.name,m),mixins:[h],inheritAttrs:!1,props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},placeholder:String,multiple:Boolean,nativeSize:[String,Number]},data:function(){return{selected:this.value,_elementRef:"select"}},computed:{computedValue:{get:function(){return this.selected},set:function(t){this.selected=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()}},spanClasses:function(){return[this.size,this.statusType,{"is-fullwidth":this.expanded,"is-loading":this.loading,"is-multiple":this.multiple,"is-rounded":this.rounded,"is-empty":null===this.selected}]}},watch:{value:function(t){this.selected=t,!this.isValid&&this.checkHtml5Validity()}}};var wt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded,"has-icons-left":t.icon}},[n("span",{staticClass:"select",class:t.spanClasses},[n("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"select",attrs:{multiple:t.multiple,size:t.nativeSize},on:{blur:function(e){t.$emit("blur",e)&&t.checkHtml5Validity()},focus:function(e){t.$emit("focus",e)},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.computedValue=e.target.multiple?n:n[0]}}},"select",t.$attrs,!1),[t.placeholder?[null==t.computedValue?n("option",{attrs:{disabled:"",hidden:""},domProps:{value:null}},[t._v("\r\n                        "+t._s(t.placeholder)+"\r\n                    ")]):t._e()]:t._e(),t._v(" "),t._t("default")],2)]),t._v(" "),t.icon?n("b-icon",{staticClass:"is-left",attrs:{icon:t.icon,pack:t.iconPack,size:t.iconSize}}):t._e()],1)},staticRenderFns:[]},void 0,bt,void 0,!1,void 0,void 0,void 0);const _t={name:"BDatepickerTableRow",props:{selectedDate:{type:[Date,Array]},hoveredDateRange:Array,day:{type:Number},week:{type:Array,required:!0},month:{type:Number,required:!0},minDate:Date,maxDate:Date,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,events:Array,indicators:String,dateCreator:Function,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:{type:Boolean,default:function(){return!1}},range:Boolean,multiple:Boolean,rulesForFirstWeek:{type:Number,default:function(){return 4}},firstDayOfWeek:Number},watch:{day:{handler:function(t){var e=this,n="day-".concat(t);this.$refs[n]&&this.$refs[n].length>0&&this.$nextTick((function(){e.$refs[n][0]&&e.$refs[n][0].focus()}))},immediate:!0}},methods:{firstWeekOffset:function(t,e,n){var r=7+e-n;return-((7+new Date(t,0,r).getDay()-e)%7)+r-1},daysInYear:function(t){return this.isLeapYear(t)?366:365},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getSetDayOfYear:function(input){return Math.round((input-new Date(input.getFullYear(),0,1))/864e5)+1},weeksInYear:function(t,e,n){var r=this.firstWeekOffset(t,e,n),o=this.firstWeekOffset(t+1,e,n);return(this.daysInYear(t)-r+o)/7},getWeekNumber:function(t){var e,n,r=this.firstDayOfWeek,o=this.rulesForFirstWeek,c=this.firstWeekOffset(t.getFullYear(),r,o),l=Math.floor((this.getSetDayOfYear(t)-c-1)/7)+1;return l<1?(n=t.getFullYear()-1,e=l+this.weeksInYear(n,r,o)):l>this.weeksInYear(t.getFullYear(),r,o)?(e=l-this.weeksInYear(t.getFullYear(),r,o),n=t.getFullYear()+1):(n=t.getFullYear(),e=l),e},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),this.nearbyMonthDays&&!this.nearbySelectableMonthDays&&e.push(t.getMonth()===this.month),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(t.getDate()===n.getDate()&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())return!0;e.push(!1)}if(this.unselectableDates)for(var r=0;r<this.unselectableDates.length;r++){var o=this.unselectableDates[r];e.push(t.getDate()!==o.getDate()||t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var c=0;c<this.unselectableDaysOfWeek.length;c++){var l=this.unselectableDaysOfWeek[c];e.push(t.getDay()!==l)}return e.indexOf(!1)<0},emitChosenDate:function(t){this.disabled||this.selectableDate(t)&&this.$emit("select",t)},eventsDateMatch:function(t){if(!this.events||!this.events.length)return!1;for(var e=[],i=0;i<this.events.length;i++)this.events[i].date.getDay()===t.getDay()&&e.push(this.events[i]);return!!e.length&&e},classObject:function(t){function e(t,e,n){return!(!t||!e||n)&&(Array.isArray(e)?e.some((function(e){return t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()})):t.getDate()===e.getDate()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}function n(t,e,n){return!(!Array.isArray(e)||n)&&(t>e[0]&&t<e[1])}return{"is-selected":e(t,this.selectedDate)||n(t,this.selectedDate,this.multiple),"is-first-selected":e(t,Array.isArray(this.selectedDate)&&this.selectedDate[0],this.multiple),"is-within-selected":n(t,this.selectedDate,this.multiple),"is-last-selected":e(t,Array.isArray(this.selectedDate)&&this.selectedDate[1],this.multiple),"is-within-hovered-range":this.hoveredDateRange&&2===this.hoveredDateRange.length&&(e(t,this.hoveredDateRange)||n(t,this.hoveredDateRange)),"is-first-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[0]),"is-within-hovered":n(t,this.hoveredDateRange),"is-last-hovered":e(t,Array.isArray(this.hoveredDateRange)&&this.hoveredDateRange[1]),"is-today":e(t,this.dateCreator()),"is-selectable":this.selectableDate(t)&&!this.disabled,"is-unselectable":!this.selectableDate(t)||this.disabled,"is-invisible":!this.nearbyMonthDays&&t.getMonth()!==this.month,"is-nearby":this.nearbySelectableMonthDays&&t.getMonth()!==this.month}},setRangeHoverEndDate:function(t){this.range&&this.$emit("rangeHoverEndDate",t)},changeFocus:function(t,e){var n=t;n.setDate(t.getDate()+e),this.$emit("change-focus",n)}}};var St=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datepicker-row"},[t.showWeekNumber?n("a",{staticClass:"datepicker-cell is-week-number"},[n("span",[t._v(t._s(t.getWeekNumber(t.week[6])))])]):t._e(),t._v(" "),t._l(t.week,(function(e,r){return[t.selectableDate(e)&&!t.disabled?n("a",{key:r,ref:"day-"+e.getDate(),refInFor:!0,staticClass:"datepicker-cell",class:[t.classObject(e),{"has-event":t.eventsDateMatch(e)},t.indicators],attrs:{role:"button",href:"#",disabled:t.disabled,tabindex:t.day===e.getDate()?null:-1},on:{click:function(n){n.preventDefault(),t.emitChosenDate(e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.preventDefault(),t.emitChosenDate(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"]))return null;n.preventDefault(),t.emitChosenDate(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-left",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,-1)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-right",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,1)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-up",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,-7)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-down",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,7)}],mouseenter:function(n){t.setRangeHoverEndDate(e)}}},[n("span",[t._v(t._s(e.getDate()))]),t._v(" "),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})}))):t._e()]):n("div",{key:r,staticClass:"datepicker-cell",class:t.classObject(e)},[n("span",[t._v(t._s(e.getDate()))])])]}))],2)},staticRenderFns:[]},void 0,_t,void 0,!1,void 0,void 0,void 0),It=function(t){return void 0!==t};const kt={name:"BDatepickerTable",components:Object(l.a)({},St.name,St),props:{value:{type:[Date,Array]},dayNames:Array,monthNames:Array,firstDayOfWeek:Number,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,nearbyMonthDays:Boolean,nearbySelectableMonthDays:Boolean,showWeekNumber:{type:Boolean,default:function(){return!1}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:Boolean,multiple:Boolean},data:function(){return{selectedBeginDate:void 0,selectedEndDate:void 0,hoveredEndDate:void 0,multipleSelectedDates:this.multiple&&this.value?this.value:[]}},computed:{visibleDayNames:function(){for(var t=[],e=this.firstDayOfWeek;t.length<this.dayNames.length;){var n=this.dayNames[e%this.dayNames.length];t.push(n),e++}return this.showWeekNumber&&t.unshift(""),t},hasEvents:function(){return this.events&&this.events.length},eventsInThisMonth:function(){if(!this.events)return[];for(var t=[],i=0;i<this.events.length;i++){var e=this.events[i];e.hasOwnProperty("date")||(e={date:e}),e.hasOwnProperty("type")||(e.type="is-primary"),e.date.getMonth()===this.focused.month&&e.date.getFullYear()===this.focused.year&&t.push(e)}return t},weeksInThisMonth:function(){this.validateFocusedDay();for(var t=this.focused.month,e=this.focused.year,n=[],r=1;n.length<6;){var o=this.weekBuilder(r,t,e);n.push(o),r+=7}return n},hoveredDateRange:function(){return this.range&&isNaN(this.selectedEndDate)?this.hoveredEndDate<this.selectedBeginDate?[this.hoveredEndDate,this.selectedBeginDate].filter(It):[this.selectedBeginDate,this.hoveredEndDate].filter(It):[]}},methods:{updateSelectedDate:function(t){this.range||this.multiple?this.range?this.handleSelectRangeDate(t):this.multiple&&this.handleSelectMultipleDates(t):this.$emit("input",t)},handleSelectRangeDate:function(t){this.selectedBeginDate&&this.selectedEndDate?(this.selectedBeginDate=t,this.selectedEndDate=void 0,this.$emit("range-start",t)):this.selectedBeginDate&&!this.selectedEndDate?(this.selectedBeginDate>t?(this.selectedEndDate=this.selectedBeginDate,this.selectedBeginDate=t):this.selectedEndDate=t,this.$emit("range-end",t),this.$emit("input",[this.selectedBeginDate,this.selectedEndDate])):(this.selectedBeginDate=t,this.$emit("range-start",t))},handleSelectMultipleDates:function(t){this.multipleSelectedDates.filter((function(e){return e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()})).length?this.multipleSelectedDates=this.multipleSelectedDates.filter((function(e){return e.getDate()!==t.getDate()||e.getFullYear()!==t.getFullYear()||e.getMonth()!==t.getMonth()})):this.multipleSelectedDates.push(t),this.$emit("input",this.multipleSelectedDates)},weekBuilder:function(t,e,n){for(var r=new Date(n,e),o=[],c=new Date(n,e,t).getDay(),l=c>=this.firstDayOfWeek?c-this.firstDayOfWeek:7-this.firstDayOfWeek+c,h=1,i=0;i<l;i++)o.unshift(new Date(r.getFullYear(),r.getMonth(),t-h)),h++;o.push(new Date(n,e,t));for(var f=1;o.length<7;)o.push(new Date(n,e,t+f)),f++;return o},validateFocusedDay:function(){var t=new Date(this.focused.year,this.focused.month,this.focused.day);if(!this.selectableDate(t))for(var e=0,n=new Date(this.focused.year,this.focused.month+1,0).getDate(),r=null;!r&&++e<n;){var o=new Date(this.focused.year,this.focused.month,e);if(this.selectableDate(o)){r=t;var c={day:o.getDate(),month:o.getMonth(),year:o.getFullYear()};this.$emit("update:focused",c)}}},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),this.nearbyMonthDays&&!this.nearbySelectableMonthDays&&e.push(t.getMonth()===this.focused.month),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(t.getDate()===n.getDate()&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())return!0;e.push(!1)}if(this.unselectableDates)for(var r=0;r<this.unselectableDates.length;r++){var o=this.unselectableDates[r];e.push(t.getDate()!==o.getDate()||t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var c=0;c<this.unselectableDaysOfWeek.length;c++){var l=this.unselectableDaysOfWeek[c];e.push(t.getDay()!==l)}return e.indexOf(!1)<0},eventsInThisWeek:function(t){return this.eventsInThisMonth.filter((function(e){var n=new Date(Date.parse(e.date));n.setHours(0,0,0,0);var r=n.getTime();return t.some((function(t){return t.getTime()===r}))}))},setRangeHoverEndDate:function(t){this.hoveredEndDate=t},changeFocus:function(t){var e={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()};this.$emit("update:focused",e)}}};var Et=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("header",{staticClass:"datepicker-header"},t._l(t.visibleDayNames,(function(e,r){return n("div",{key:r,staticClass:"datepicker-cell"},[n("span",[t._v(t._s(e))])])}))),t._v(" "),n("div",{staticClass:"datepicker-body",class:{"has-events":t.hasEvents}},t._l(t.weeksInThisMonth,(function(e,r){return n("b-datepicker-table-row",{key:r,attrs:{"selected-date":t.value,day:t.focused.day,week:e,month:t.focused.month,"min-date":t.minDate,"max-date":t.maxDate,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.eventsInThisWeek(e),indicators:t.indicators,"date-creator":t.dateCreator,"nearby-month-days":t.nearbyMonthDays,"nearby-selectable-month-days":t.nearbySelectableMonthDays,"show-week-number":t.showWeekNumber,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,range:t.range,"hovered-date-range":t.hoveredDateRange,multiple:t.multiple},on:{select:t.updateSelectedDate,rangeHoverEndDate:t.setRangeHoverEndDate,"change-focus":t.changeFocus}})})),1)])},staticRenderFns:[]},void 0,kt,void 0,!1,void 0,void 0,void 0);const Tt={name:"BDatepickerMonth",props:{value:{type:[Date,Array]},monthNames:Array,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,multiple:Boolean},data:function(){return{multipleSelectedDates:this.multiple&&this.value?this.value:[]}},computed:{hasEvents:function(){return this.events&&this.events.length},eventsInThisYear:function(){if(!this.events)return[];for(var t=[],i=0;i<this.events.length;i++){var e=this.events[i];e.hasOwnProperty("date")||(e={date:e}),e.hasOwnProperty("type")||(e.type="is-primary"),e.date.getFullYear()===this.focused.year&&t.push(e)}return t},monthDates:function(){for(var t=this.focused.year,e=[],i=0;i<12;i++){var n=new Date(t,i,1);n.setHours(0,0,0,0),e.push(n)}return e},focusedMonth:function(){return this.focused.month}},watch:{focusedMonth:{handler:function(t){var e=this,n="month-".concat(t);this.$refs[n]&&this.$refs[n].length>0&&this.$nextTick((function(){e.$refs[n][0]&&e.$refs[n][0].focus()}))},deep:!0,immediate:!0}},methods:{selectMultipleDates:function(t){this.multipleSelectedDates.filter((function(e){return e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()})).length?this.multipleSelectedDates=this.multipleSelectedDates.filter((function(e){return e.getDate()!==t.getDate()||e.getFullYear()!==t.getFullYear()||e.getMonth()!==t.getMonth()})):this.multipleSelectedDates.push(t),this.$emit("input",this.multipleSelectedDates)},selectableDate:function(t){var e=[];if(this.minDate&&e.push(t>=this.minDate),this.maxDate&&e.push(t<=this.maxDate),e.push(t.getFullYear()===this.focused.year),this.selectableDates)for(var i=0;i<this.selectableDates.length;i++){var n=this.selectableDates[i];if(t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())return!0;e.push(!1)}if(this.unselectableDates)for(var r=0;r<this.unselectableDates.length;r++){var o=this.unselectableDates[r];e.push(t.getFullYear()!==o.getFullYear()||t.getMonth()!==o.getMonth())}if(this.unselectableDaysOfWeek)for(var c=0;c<this.unselectableDaysOfWeek.length;c++){var l=this.unselectableDaysOfWeek[c];e.push(t.getDay()!==l)}return e.indexOf(!1)<0},eventsDateMatch:function(t){if(!this.eventsInThisYear.length)return!1;for(var e=[],i=0;i<this.eventsInThisYear.length;i++)this.eventsInThisYear[i].date.getMonth()===t.getMonth()&&e.push(this.events[i]);return!!e.length&&e},classObject:function(t){function e(t,e,n){return!(!t||!e||n)&&(t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())}return{"is-selected":e(t,this.value,this.multiple)||(n=t,r=this.multipleSelectedDates,o=this.multiple,!(!Array.isArray(r)||!o)&&r.some((function(t){return n.getDate()===t.getDate()&&n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()}))),"is-today":e(t,this.dateCreator()),"is-selectable":this.selectableDate(t)&&!this.disabled,"is-unselectable":!this.selectableDate(t)||this.disabled};var n,r,o},emitChosenDate:function(t){this.disabled||(this.multiple?this.selectMultipleDates(t):this.selectableDate(t)&&this.$emit("input",t))},changeFocus:function(t,e){var n=t;n.setMonth(t.getMonth()+e),this.$emit("change-focus",n)}}};var Dt,At=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"datepicker-table"},[n("div",{staticClass:"datepicker-body",class:{"has-events":t.hasEvents}},[n("div",{staticClass:"datepicker-months"},[t._l(t.monthDates,(function(e,r){return[t.selectableDate(e)&&!t.disabled?n("a",{key:r,ref:"month-"+e.getMonth(),refInFor:!0,staticClass:"datepicker-cell",class:[t.classObject(e),{"has-event":t.eventsDateMatch(e)},t.indicators],attrs:{role:"button",href:"#",disabled:t.disabled,tabindex:t.focused.month===e.getMonth()?null:-1},on:{click:function(n){n.preventDefault(),t.emitChosenDate(e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.preventDefault(),t.emitChosenDate(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"]))return null;n.preventDefault(),t.emitChosenDate(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-left",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,-1)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-right",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,1)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-up",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,-3)},function(n){if(!("button"in n)&&t._k(n.keyCode,"arrow-down",void 0,n.key,void 0))return null;n.preventDefault(),t.changeFocus(e,3)}]}},[t._v("\r\n                        "+t._s(t.monthNames[e.getMonth()])+"\r\n                        "),t.eventsDateMatch(e)?n("div",{staticClass:"events"},t._l(t.eventsDateMatch(e),(function(t,e){return n("div",{key:e,staticClass:"event",class:t.type})}))):t._e()]):n("div",{key:r,staticClass:"datepicker-cell",class:t.classObject(e)},[t._v("\r\n                        "+t._s(t.monthNames[e.getMonth()])+"\r\n                    ")])]}))],2)])])},staticRenderFns:[]},void 0,Tt,void 0,!1,void 0,void 0,void 0);const Ct={name:"BDatepicker",components:(Dt={},Object(l.a)(Dt,Et.name,Et),Object(l.a)(Dt,At.name,At),Object(l.a)(Dt,w.name,w),Object(l.a)(Dt,lt.name,lt),Object(l.a)(Dt,wt.name,wt),Object(l.a)(Dt,m.name,m),Object(l.a)(Dt,it.name,it),Object(l.a)(Dt,st.name,st),Dt),mixins:[h],inheritAttrs:!1,props:{value:{type:[Date,Array]},dayNames:{type:Array,default:function(){return Array.isArray(o.c.defaultDayNames)?o.c.defaultDayNames:["Su","M","Tu","W","Th","F","S"]}},monthNames:{type:Array,default:function(){return Array.isArray(o.c.defaultMonthNames)?o.c.defaultMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}},firstDayOfWeek:{type:Number,default:function(){return"number"==typeof o.c.defaultFirstDayOfWeek?o.c.defaultFirstDayOfWeek:0}},inline:Boolean,minDate:Date,maxDate:Date,focusedDate:Date,placeholder:String,editable:Boolean,disabled:Boolean,horizontalTimePicker:Boolean,unselectableDates:Array,unselectableDaysOfWeek:{type:Array,default:function(){return o.c.defaultUnselectableDaysOfWeek}},selectableDates:Array,dateFormatter:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultDateFormatter?o.c.defaultDateFormatter(t):function(t,e){var n=(Array.isArray(t)?t:[t]).map((function(t){var n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate(),r=new Date(n);return e.isTypeMonth?r.toLocaleDateString(void 0,{year:"numeric",month:"2-digit"}):r.toLocaleDateString()}));return e.multiple?n.join(", "):n.join(" - ")}(t,e)}},dateParser:{type:Function,default:function(t,e){return"function"==typeof o.c.defaultDateParser?o.c.defaultDateParser(t):function(t,e){if(!e.isTypeMonth)return new Date(Date.parse(t));if(t){var s=t.split("/"),n=4===s[0].length?s[0]:s[1],r=2===s[0].length?s[0]:s[1];if(n&&r)return new Date(parseInt(n,10),parseInt(r-1,10),1,0,0,0,0)}return null}(t,e)}},dateCreator:{type:Function,default:function(){return"function"==typeof o.c.defaultDateCreator?o.c.defaultDateCreator():new Date}},mobileNative:{type:Boolean,default:function(){return o.c.defaultDatepickerMobileNative}},position:String,events:Array,indicators:{type:String,default:"dots"},openOnFocus:Boolean,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},yearsRange:{type:Array,default:function(){return o.c.defaultDatepickerYearsRange}},type:{type:String,validator:function(t){return["month"].indexOf(t)>=0}},nearbyMonthDays:{type:Boolean,default:function(){return o.c.defaultDatepickerNearbyMonthDays}},nearbySelectableMonthDays:{type:Boolean,default:function(){return o.c.defaultDatepickerNearbySelectableMonthDays}},showWeekNumber:{type:Boolean,default:function(){return o.c.defaultDatepickerShowWeekNumber}},rulesForFirstWeek:{type:Number,default:function(){return 4}},range:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},mobileModal:{type:Boolean,default:function(){return o.c.defaultDatepickerMobileModal}},focusable:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},ariaNextLabel:String,ariaPreviousLabel:String},data:function(){var t=(Array.isArray(this.value)?this.value[0]:this.value)||this.focusedDate||this.dateCreator();return{dateSelected:this.value,focusedDateData:{day:t.getDate(),month:t.getMonth(),year:t.getFullYear()},_elementRef:"input",_isDatepicker:!0}},computed:{computedValue:{get:function(){return this.dateSelected},set:function(t){this.updateInternalState(t),this.multiple||this.togglePicker(!1),this.$emit("input",t)}},listOfMonths:function(){var t=0,e=12;return this.minDate&&this.focusedDateData.year===this.minDate.getFullYear()&&(t=this.minDate.getMonth()),this.maxDate&&this.focusedDateData.year===this.maxDate.getFullYear()&&(e=this.maxDate.getMonth()),this.monthNames.map((function(n,r){return{name:n,index:r,disabled:r<t||r>e}}))},listOfYears:function(){var t=this.focusedDateData.year+this.yearsRange[1];this.maxDate&&this.maxDate.getFullYear()<t&&(t=Math.max(this.maxDate.getFullYear(),this.focusedDateData.year));var e=this.focusedDateData.year+this.yearsRange[0];this.minDate&&this.minDate.getFullYear()>e&&(e=Math.min(this.minDate.getFullYear(),this.focusedDateData.year));for(var n=[],i=e;i<=t;i++)n.push(i);return n.reverse()},showPrev:function(){return!!this.minDate&&(this.isTypeMonth?this.focusedDateData.year<=this.minDate.getFullYear():new Date(this.focusedDateData.year,this.focusedDateData.month)<=new Date(this.minDate.getFullYear(),this.minDate.getMonth()))},showNext:function(){return!!this.maxDate&&(this.isTypeMonth?this.focusedDateData.year>=this.maxDate.getFullYear():new Date(this.focusedDateData.year,this.focusedDateData.month)>=new Date(this.maxDate.getFullYear(),this.maxDate.getMonth()))},isMobile:function(){return this.mobileNative&&r.c.any()},isTypeMonth:function(){return"month"===this.type},ariaRole:function(){if(!this.inline)return"dialog"}},watch:{value:function(t){this.updateInternalState(t),this.multiple||this.togglePicker(!1),!this.isValid&&this.$refs.input.checkHtml5Validity()},focusedDate:function(t){t&&(this.focusedDateData={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()})},"focusedDateData.month":function(t){this.$emit("change-month",t)},"focusedDateData.year":function(t){this.$emit("change-year",t)}},methods:{onChange:function(t){var e=this.dateParser(t,this);!e||isNaN(e)&&(!Array.isArray(e)||2!==e.length||isNaN(e[0])||isNaN(e[1]))?(this.computedValue=null,this.$refs.input.newValue=this.computedValue):this.computedValue=e},formatValue:function(t){return Array.isArray(t)?Array.isArray(t)&&t.every((function(t){return!isNaN(t)}))?this.dateFormatter(t,this):null:t&&!isNaN(t)?this.dateFormatter(t,this):null},prev:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year-=1:this.focusedDateData.month>0?this.focusedDateData.month-=1:(this.focusedDateData.month=11,this.focusedDateData.year-=1))},next:function(){this.disabled||(this.isTypeMonth?this.focusedDateData.year+=1:this.focusedDateData.month<11?this.focusedDateData.month+=1:(this.focusedDateData.month=0,this.focusedDateData.year+=1))},formatNative:function(t){return this.isTypeMonth?this.formatYYYYMM(t):this.formatYYYYMMDD(t)},formatYYYYMMDD:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate();return n+"-"+(r<10?"0":"")+r+"-"+(o<10?"0":"")+o}return""},formatYYYYMM:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1;return n+"-"+(r<10?"0":"")+r}return""},onChangeNativePicker:function(t){var e=t.target.value;this.computedValue=e?new Date(e+"T00:00:00"):null},updateInternalState:function(t){var e=Array.isArray(t)?t.length?t[0]:this.dateCreator():t||this.dateCreator();this.focusedDateData={day:e.getDay(),month:e.getMonth(),year:e.getFullYear()},this.dateSelected=t},togglePicker:function(t){this.$refs.dropdown&&this.closeOnClick&&(this.$refs.dropdown.isActive="boolean"==typeof t?t:!this.$refs.dropdown.isActive)},handleOnFocus:function(t){this.onFocus(t),this.openOnFocus&&this.togglePicker(!0)},toggle:function(){if(this.mobileNative&&this.isMobile){var input=this.$refs.input.$refs.input;return input.focus(),void input.click()}this.$refs.dropdown.toggle()},onInputClick:function(t){this.$refs.dropdown.isActive&&t.stopPropagation()},keyPress:function(t){this.$refs.dropdown&&this.$refs.dropdown.isActive&&27===t.keyCode&&this.togglePicker(!1)},onActiveChange:function(t){t||this.onBlur()},changeFocus:function(t){this.focusedDateData={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}};var Nt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline,"mobile-modal":t.mobileModal,"trap-focus":t.trapFocus,"aria-role":t.ariaRole,"aria-modal":!t.inline},on:{"active-change":t.onActiveChange}},[t.inline?t._e():n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,rounded:t.rounded,loading:t.loading,disabled:t.disabled,readonly:!t.editable,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus},nativeOn:{click:function(e){return t.onInputClick(e)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.togglePicker(!0)},change:function(e){t.onChange(e.target.value)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),n("b-dropdown-item",{class:{"dropdown-horizonal-timepicker":t.horizontalTimePicker},attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("div",[n("header",{staticClass:"datepicker-header"},[void 0!==t.$slots.header&&t.$slots.header.length?[t._t("header")]:n("div",{staticClass:"pagination field is-centered",class:t.size},[n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showPrev&&!t.disabled,expression:"!showPrev && !disabled"}],staticClass:"pagination-previous",attrs:{role:"button",href:"#",disabled:t.disabled,"aria-label":t.ariaPreviousLabel},on:{click:function(e){return e.preventDefault(),t.prev(e)},keydown:[function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.prev(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.prev(e))}]}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"",type:"is-primary is-clickable"}})],1),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:!t.showNext&&!t.disabled,expression:"!showNext && !disabled"}],staticClass:"pagination-next",attrs:{role:"button",href:"#",disabled:t.disabled,"aria-label":t.ariaNextLabel},on:{click:function(e){return e.preventDefault(),t.next(e)},keydown:[function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.next(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.next(e))}]}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"",type:"is-primary is-clickable"}})],1),t._v(" "),n("div",{staticClass:"pagination-list"},[n("b-field",[t.isTypeMonth?t._e():n("b-select",{attrs:{disabled:t.disabled,size:t.size},model:{value:t.focusedDateData.month,callback:function(e){t.$set(t.focusedDateData,"month",e)},expression:"focusedDateData.month"}},t._l(t.listOfMonths,(function(e){return n("option",{key:e.name,attrs:{disabled:e.disabled},domProps:{value:e.index}},[t._v("\r\n                                            "+t._s(e.name)+"\r\n                                        ")])}))),t._v(" "),n("b-select",{attrs:{disabled:t.disabled,size:t.size},model:{value:t.focusedDateData.year,callback:function(e){t.$set(t.focusedDateData,"year",e)},expression:"focusedDateData.year"}},t._l(t.listOfYears,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v("\r\n                                            "+t._s(e)+"\r\n                                        ")])})))],1)],1)])],2),t._v(" "),t.isTypeMonth?n("div",[n("b-datepicker-month",{attrs:{"month-names":t.monthNames,"min-date":t.minDate,"max-date":t.maxDate,focused:t.focusedDateData,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.events,indicators:t.indicators,"date-creator":t.dateCreator,multiple:t.multiple},on:{"update:focused":function(e){t.focusedDateData=e},close:function(e){t.togglePicker(!1)},"change-focus":t.changeFocus},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],1):n("div",{staticClass:"datepicker-content",class:{"content-horizonal-timepicker":t.horizontalTimePicker}},[n("b-datepicker-table",{attrs:{"day-names":t.dayNames,"month-names":t.monthNames,"first-day-of-week":t.firstDayOfWeek,"rules-for-first-week":t.rulesForFirstWeek,"min-date":t.minDate,"max-date":t.maxDate,focused:t.focusedDateData,disabled:t.disabled,"unselectable-dates":t.unselectableDates,"unselectable-days-of-week":t.unselectableDaysOfWeek,"selectable-dates":t.selectableDates,events:t.events,indicators:t.indicators,"date-creator":t.dateCreator,"type-month":t.isTypeMonth,"nearby-month-days":t.nearbyMonthDays,"nearby-selectable-month-days":t.nearbySelectableMonthDays,"show-week-number":t.showWeekNumber,range:t.range,multiple:t.multiple},on:{"update:focused":function(e){t.focusedDateData=e},"range-start":function(e){return t.$emit("range-start",e)},"range-end":function(e){return t.$emit("range-end",e)},close:function(e){t.togglePicker(!1)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],1)]),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"datepicker-footer",class:{"footer-horizontal-timepicker":t.horizontalTimePicker}},[t._t("default")],2):t._e()])],1):n("b-input",t._b({ref:"input",attrs:{type:t.isTypeMonth?"month":"date",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,Ct,void 0,!1,void 0,void 0,void 0),Ot={install:function(t){Object(c.c)(t,Nt)}};Object(c.d)(Ot);var xt,Pt=Ot;const Rt={name:"BTimepicker",components:(xt={},Object(l.a)(xt,w.name,w),Object(l.a)(xt,lt.name,lt),Object(l.a)(xt,wt.name,wt),Object(l.a)(xt,m.name,m),Object(l.a)(xt,it.name,it),Object(l.a)(xt,st.name,st),xt),mixins:[Q],inheritAttrs:!1,data:function(){return{_isTimepicker:!0}},computed:{nativeStep:function(){if(this.enableSeconds)return"1"}}};var Mt,Lt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timepicker control",class:[t.size,{"is-expanded":t.expanded}]},[!t.isMobile||t.inline?n("b-dropdown",{ref:"dropdown",attrs:{position:t.position,disabled:t.disabled,inline:t.inline},on:{"active-change":t.onActiveChange}},[t.inline?t._e():n("b-input",t._b({ref:"input",attrs:{slot:"trigger",autocomplete:"off",value:t.formatValue(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,disabled:t.disabled,readonly:!t.editable,rounded:t.rounded,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toggle(!0)},change:function(e){t.onChange(e.target.value)}},slot:"trigger"},"b-input",t.$attrs,!1)),t._v(" "),n("b-dropdown-item",{attrs:{disabled:t.disabled,focusable:t.focusable,custom:""}},[n("b-field",{attrs:{grouped:"",position:"is-centered"}},[n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onHoursChange(e.target.value)}},model:{value:t.hoursSelected,callback:function(e){t.hoursSelected=e},expression:"hoursSelected"}},t._l(t.hours,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isHourDisabled(e.value)},domProps:{value:e.value}},[t._v("\r\n                            "+t._s(e.label)+"\r\n                        ")])}))),t._v(" "),n("span",{staticClass:"control is-colon"},[t._v(":")]),t._v(" "),n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onMinutesChange(e.target.value)}},model:{value:t.minutesSelected,callback:function(e){t.minutesSelected=e},expression:"minutesSelected"}},t._l(t.minutes,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isMinuteDisabled(e.value)},domProps:{value:e.value}},[t._v("\r\n                            "+t._s(e.label)+"\r\n                        ")])}))),t._v(" "),t.enableSeconds?[n("span",{staticClass:"control is-colon"},[t._v(":")]),t._v(" "),n("b-select",{attrs:{disabled:t.disabled,placeholder:"00"},nativeOn:{change:function(e){t.onSecondsChange(e.target.value)}},model:{value:t.secondsSelected,callback:function(e){t.secondsSelected=e},expression:"secondsSelected"}},t._l(t.seconds,(function(e){return n("option",{key:e.value,attrs:{disabled:t.isSecondDisabled(e.value)},domProps:{value:e.value}},[t._v("\r\n                                "+t._s(e.label)+"\r\n                            ")])})))]:t._e(),t._v(" "),t.isHourFormat24?t._e():n("b-select",{attrs:{disabled:t.disabled},nativeOn:{change:function(e){t.onMeridienChange(e.target.value)}},model:{value:t.meridienSelected,callback:function(e){t.meridienSelected=e},expression:"meridienSelected"}},t._l(t.meridiens,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v("\r\n                            "+t._s(e)+"\r\n                        ")])})))],2),t._v(" "),void 0!==t.$slots.default&&t.$slots.default.length?n("footer",{staticClass:"timepicker-footer"},[t._t("default")],2):t._e()],1)],1):n("b-input",t._b({ref:"input",attrs:{type:"time",step:t.nativeStep,autocomplete:"off",value:t.formatHHMMSS(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatHHMMSS(t.maxTime),min:t.formatHHMMSS(t.minTime),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.handleOnFocus,blur:function(e){t.onBlur()&&t.checkHtml5Validity()}},nativeOn:{change:function(e){t.onChange(e.target.value)}}},"b-input",t.$attrs,!1))],1)},staticRenderFns:[]},void 0,Rt,void 0,!1,void 0,void 0,void 0);const jt={name:"BDatetimepicker",components:(Mt={},Object(l.a)(Mt,Nt.name,Nt),Object(l.a)(Mt,Lt.name,Lt),Mt),mixins:[h],inheritAttrs:!1,props:{value:{type:Date},editable:{type:Boolean,default:!1},placeholder:String,horizontalTimePicker:Boolean,disabled:Boolean,icon:String,iconPack:String,inline:Boolean,openOnFocus:Boolean,position:String,mobileNative:{type:Boolean,default:!0},minDatetime:Date,maxDatetime:Date,datetimeFormatter:{type:Function},datetimeParser:{type:Function},datetimeCreator:{type:Function,default:function(t){return"function"==typeof o.c.defaultDatetimeCreator?o.c.defaultDatetimeCreator(t):t}},datepicker:Object,timepicker:Object,tzOffset:{type:Number,default:0},focusable:{type:Boolean,default:!0}},data:function(){return{newValue:this.adjustValue(this.value)}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){if(t){var e=new Date(t.getTime());this.newValue?t.getDate()===this.newValue.getDate()&&t.getMonth()===this.newValue.getMonth()&&t.getFullYear()===this.newValue.getFullYear()||0!==t.getHours()||0!==t.getMinutes()||0!==t.getSeconds()||e.setHours(this.newValue.getHours(),this.newValue.getMinutes(),this.newValue.getSeconds(),0):e=this.datetimeCreator(t),this.minDatetime&&e<this.adjustValue(this.minDatetime)?e=this.adjustValue(this.minDatetime):this.maxDatetime&&e>this.adjustValue(this.maxDatetime)&&(e=this.adjustValue(this.maxDatetime)),this.newValue=new Date(e.getTime())}else this.newValue=this.adjustValue(this.value);var n=this.adjustValue(this.newValue,!0);this.$emit("input",n)}},isMobileNative:function(){return this.mobileNative&&0===this.tzOffset},isMobile:function(){return this.isMobileNative&&r.c.any()},minDate:function(){if(!this.minDatetime)return this.datepicker?this.adjustValue(this.datepicker.minDate):null;var t=this.adjustValue(this.minDatetime);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},maxDate:function(){if(!this.maxDatetime)return this.datepicker?this.adjustValue(this.datepicker.maxDate):null;var t=this.adjustValue(this.maxDatetime);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},minTime:function(){if(!this.minDatetime||null===this.newValue||void 0===this.newValue)return this.timepicker?this.adjustValue(this.timepicker.minTime):null;var t=this.adjustValue(this.minDatetime);return t.getFullYear()===this.newValue.getFullYear()&&t.getMonth()===this.newValue.getMonth()&&t.getDate()===this.newValue.getDate()?t:void 0},maxTime:function(){if(!this.maxDatetime||null===this.newValue||void 0===this.newValue)return this.timepicker?this.adjustValue(this.timepicker.maxTime):null;var t=this.adjustValue(this.maxDatetime);return t.getFullYear()===this.newValue.getFullYear()&&t.getMonth()===this.newValue.getMonth()&&t.getDate()===this.newValue.getDate()?t:void 0},datepickerSize:function(){return this.datepicker&&this.datepicker.size?this.datepicker.size:this.size},timepickerSize:function(){return this.timepicker&&this.timepicker.size?this.timepicker.size:this.size},timepickerDisabled:function(){return this.timepicker&&this.timepicker.disabled?this.timepicker.disabled:this.disabled}},watch:{value:function(t){this.newValue=this.adjustValue(this.value)},tzOffset:function(t){this.newValue=this.adjustValue(this.value)}},methods:{adjustValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?new Date(t.getTime()-6e4*this.tzOffset):new Date(t.getTime()+6e4*this.tzOffset):t},defaultDatetimeParser:function(t){return"function"==typeof this.datetimeParser?this.datetimeParser(t):"function"==typeof o.c.defaultDatetimeParser?o.c.defaultDatetimeParser(t):new Date(Date.parse(t))},defaultDatetimeFormatter:function(t){if("function"==typeof this.datetimeFormatter)return this.datetimeFormatter(t);if("function"==typeof o.c.defaultDatetimeParser)return o.c.defaultDatetimeParser(t);if(this.$refs.timepicker){var e=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate();return new Date(e).toLocaleDateString()+" "+this.$refs.timepicker.timeFormatter(t,this.$refs.timepicker)}return null},onChangeNativePicker:function(t){var e=t.target.value;this.computedValue=e?new Date(e):null},formatNative:function(t){var e=new Date(t);if(t&&!isNaN(e)){var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),c=e.getHours(),l=e.getMinutes(),h=e.getSeconds();return n+"-"+(r<10?"0":"")+r+"-"+(o<10?"0":"")+o+"T"+(c<10?"0":"")+c+":"+(l<10?"0":"")+l+":"+(h<10?"0":"")+h}return""},toggle:function(){this.$refs.datepicker.toggle()}},mounted:function(){this.isMobile&&!this.inline||this.newValue&&this.$refs.datepicker.$forceUpdate()}};var Vt=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.isMobile||t.inline?n("b-datepicker",t._b({ref:"datepicker",attrs:{"open-on-focus":t.openOnFocus,position:t.position,loading:t.loading,inline:t.inline,editable:t.editable,expanded:t.expanded,"close-on-click":!1,"date-formatter":t.defaultDatetimeFormatter,"date-parser":t.defaultDatetimeParser,"min-date":t.minDate,"max-date":t.maxDate,icon:t.icon,"icon-pack":t.iconPack,size:t.datepickerSize,placeholder:t.placeholder,"horizontal-time-picker":t.horizontalTimePicker,range:!1,disabled:t.disabled,"mobile-native":t.isMobileNative,focusable:t.focusable},on:{focus:t.onFocus,blur:t.onBlur,"change-month":function(e){t.$emit("change-month",e)},"change-year":function(e){t.$emit("change-year",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-datepicker",t.datepicker,!1),[n("nav",{staticClass:"level is-mobile"},[void 0!==t.$slots.left?n("div",{staticClass:"level-item has-text-centered"},[t._t("left")],2):t._e(),t._v(" "),n("div",{staticClass:"level-item has-text-centered"},[n("b-timepicker",t._b({ref:"timepicker",attrs:{inline:"",editable:t.editable,"min-time":t.minTime,"max-time":t.maxTime,size:t.timepickerSize,disabled:t.timepickerDisabled,focusable:t.focusable,"mobile-native":t.isMobileNative},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},"b-timepicker",t.timepicker,!1))],1),t._v(" "),void 0!==t.$slots.right?n("div",{staticClass:"level-item has-text-centered"},[t._t("right")],2):t._e()])]):n("b-input",t._b({ref:"input",attrs:{type:"datetime-local",autocomplete:"off",value:t.formatNative(t.computedValue),placeholder:t.placeholder,size:t.size,icon:t.icon,"icon-pack":t.iconPack,loading:t.loading,max:t.formatNative(t.maxDate),min:t.formatNative(t.minDate),disabled:t.disabled,readonly:!1,"use-html5-validation":t.useHtml5Validation},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{change:function(e){return t.onChangeNativePicker(e)}}},"b-input",t.$attrs,!1))},staticRenderFns:[]},void 0,jt,void 0,!1,void 0,void 0,void 0),Ft={install:function(t){Object(c.c)(t,Vt)}};Object(c.d)(Ft);var Bt=Ft;const Ut={name:"BModal",directives:{trapFocus:tt},props:{active:Boolean,component:[Object,Function],content:String,programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},canCancel:{type:[Array,Boolean],default:function(){return o.c.defaultModalCanCancel}},onCancel:{type:Function,default:function(){}},scroll:{type:String,default:function(){return o.c.defaultModalScroll?o.c.defaultModalScroll:"clip"},validator:function(t){return["clip","keep"].indexOf(t)>=0}},fullScreen:Boolean,trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},customClass:String,ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean},data:function(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"==typeof this.width?this.width+"px":this.width,animating:!0}},computed:{cancelOptions:function(){return"boolean"==typeof this.canCancel?this.canCancel?o.c.defaultModalCanCancel:[]:this.canCancel},showX:function(){return this.cancelOptions.indexOf("x")>=0},customStyle:function(){return this.fullScreen?null:{maxWidth:this.newWidth}}},watch:{active:function(t){this.isActive=t},isActive:function(t){var e=this;this.handleScroll(),this.$nextTick((function(){t&&e.$el&&e.$el.focus&&e.$el.focus()}))}},methods:{handleScroll:function(){"undefined"!=typeof window&&("clip"!==this.scroll?(this.savedScrollTop=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top="-".concat(this.savedScrollTop,"px"):(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)):this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"))},cancel:function(t){this.cancelOptions.indexOf(t)<0||(this.onCancel.apply(null,arguments),this.close())},close:function(){var t=this;this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150))},keyPress:function(t){this.isActive&&27===t.keyCode&&this.cancel("escape")},afterEnter:function(){this.animating=!1},beforeLeave:function(){this.animating=!0}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&document.body.appendChild(this.$el)},mounted:function(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy:function(){if("undefined"!=typeof window){document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped");var t=this.savedScrollTop?this.savedScrollTop:document.documentElement.scrollTop;document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=t,document.body.style.top=null}}};var $t=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation},on:{"after-enter":t.afterEnter,"before-leave":t.beforeLeave}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"modal is-active",class:[{"is-full-screen":t.fullScreen},t.customClass],attrs:{tabindex:"-1",role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){t.cancel("outside")}}}),t._v(" "),n("div",{staticClass:"animation-content",class:{"modal-content":!t.hasModalCard},style:t.customStyle},[t.component?n(t.component,t._g(t._b({tag:"component",on:{close:t.close}},"component",t.props,!1),t.events)):t.content?n("div",{domProps:{innerHTML:t._s(t.content)}}):t._t("default"),t._v(" "),t.showX?n("button",{directives:[{name:"show",rawName:"v-show",value:!t.animating,expression:"!animating"}],staticClass:"modal-close is-large",attrs:{type:"button"},on:{click:function(e){t.cancel("x")}}}):t._e()],2)]):t._e()])},staticRenderFns:[]},void 0,Ut,void 0,!1,void 0,void 0,void 0);const qt={name:"BDialog",components:Object(l.a)({},m.name,m),directives:{trapFocus:tt},extends:$t,props:{title:String,message:String,icon:String,iconPack:String,hasIcon:Boolean,type:{type:String,default:"is-primary"},size:String,confirmText:{type:String,default:function(){return o.c.defaultDialogConfirmText?o.c.defaultDialogConfirmText:"OK"}},cancelText:{type:String,default:function(){return o.c.defaultDialogCancelText?o.c.defaultDialogCancelText:"Cancel"}},hasInput:Boolean,inputAttrs:{type:Object,default:function(){return{}}},onConfirm:{type:Function,default:function(){}},container:{type:String,default:o.c.defaultContainerElement},focusOn:{type:String,default:"confirm"},trapFocus:{type:Boolean,default:o.c.defaultTrapFocus},ariaRole:{type:String,validator:function(t){return["dialog","alertdialog"].indexOf(t)>=0}},ariaModal:Boolean},data:function(){return{prompt:this.hasInput&&this.inputAttrs.value||"",isActive:!1,validationMessage:""}},computed:{dialogClass:function(){return[this.size,{"has-custom-container":null!==this.container}]},iconByType:function(){switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}},showCancel:function(){return this.cancelOptions.indexOf("button")>=0}},methods:{confirm:function(){var t=this;if(void 0!==this.$refs.input&&!this.$refs.input.checkValidity())return this.validationMessage=this.$refs.input.validationMessage,void this.$nextTick((function(){return t.$refs.input.select()}));this.onConfirm(this.prompt),this.close()},close:function(){var t=this;this.isActive=!1,setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150)}},beforeMount:function(){var t=this;"undefined"!=typeof window&&this.$nextTick((function(){(document.querySelector(t.container)||document.body).appendChild(t.$el)}))},mounted:function(){var t=this;this.isActive=!0,void 0===this.inputAttrs.required&&this.$set(this.inputAttrs,"required",!0),this.$nextTick((function(){t.hasInput?t.$refs.input.focus():"cancel"===t.focusOn&&t.showCancel?t.$refs.cancelButton.focus():t.$refs.confirmButton.focus()}))}};var zt,Ht=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[t.isActive?n("div",{directives:[{name:"trap-focus",rawName:"v-trap-focus",value:t.trapFocus,expression:"trapFocus"}],staticClass:"dialog modal is-active",class:t.dialogClass,attrs:{role:t.ariaRole,"aria-modal":t.ariaModal}},[n("div",{staticClass:"modal-background",on:{click:function(e){t.cancel("outside")}}}),t._v(" "),n("div",{staticClass:"modal-card animation-content"},[t.title?n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),n("section",{staticClass:"modal-card-body",class:{"is-titleless":!t.title,"is-flex":t.hasIcon}},[n("div",{staticClass:"media"},[t.hasIcon&&(t.icon||t.iconByType)?n("div",{staticClass:"media-left"},[n("b-icon",{attrs:{icon:t.icon?t.icon:t.iconByType,pack:t.iconPack,type:t.type,both:!t.icon,size:"is-large"}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[n("p",{domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t.hasInput?n("div",{staticClass:"field"},[n("div",{staticClass:"control"},["checkbox"===t.inputAttrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.prompt)?t._i(t.prompt,null)>-1:t.prompt},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(e)},change:function(e){var n=t.prompt,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t._i(n,null);r.checked?c<0&&(t.prompt=n.concat([null])):c>-1&&(t.prompt=n.slice(0,c).concat(n.slice(c+1)))}else t.prompt=o}}},"input",t.inputAttrs,!1)):"radio"===t.inputAttrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:"radio"},domProps:{checked:t._q(t.prompt,null)},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(e)},change:function(e){t.prompt=null}}},"input",t.inputAttrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],ref:"input",staticClass:"input",class:{"is-danger":t.validationMessage},attrs:{type:t.inputAttrs.type},domProps:{value:t.prompt},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(e)},input:function(e){e.target.composing||(t.prompt=e.target.value)}}},"input",t.inputAttrs,!1))]),t._v(" "),n("p",{staticClass:"help is-danger"},[t._v(t._s(t.validationMessage))])]):t._e()])])]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[t.showCancel?n("button",{ref:"cancelButton",staticClass:"button",on:{click:function(e){t.cancel("button")}}},[t._v(t._s(t.cancelText))]):t._e(),t._v(" "),n("button",{ref:"confirmButton",staticClass:"button",class:t.type,on:{click:t.confirm}},[t._v(t._s(t.confirmText))])])])]):t._e()])},staticRenderFns:[]},void 0,qt,void 0,!1,void 0,void 0,void 0);function Gt(t){return new(("undefined"!=typeof window&&window.Vue?window.Vue:zt||o.a).extend(Ht))({el:document.createElement("div"),propsData:t})}var Wt={alert:function(t){"string"==typeof t&&(t={message:t});return Gt(Object(r.d)({canCancel:!1},t))},confirm:function(t){return Gt(Object(r.d)({},t))},prompt:function(t){return Gt(Object(r.d)({hasInput:!0,confirmText:"Done"},t))}},Kt={install:function(t){zt=t,Object(c.c)(t,Ht),Object(c.b)(t,"dialog",Wt)}};Object(c.d)(Kt);var dialog=Kt,Yt={install:function(t){Object(c.c)(t,it),Object(c.c)(t,st)}};Object(c.d)(Yt);var Jt=Yt,Xt={install:function(t){Object(c.c)(t,lt)}};Object(c.d)(Xt);var Qt=Xt,Zt={install:function(t){Object(c.c)(t,m)}};Object(c.d)(Zt);var te=Zt,ee={install:function(t){Object(c.c)(t,w)}};Object(c.d)(ee);var input=ee,ne="undefined"==typeof window,ie=ne?Object:window.HTMLElement,re=ne?Object:window.File;const oe={name:"BLoading",props:{active:Boolean,programmatic:Boolean,container:[Object,Function,ie],isFullPage:{type:Boolean,default:!0},animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1,displayInFullPage:this.isFullPage}},watch:{active:function(t){this.isActive=t},isFullPage:function(t){this.displayInFullPage=t}},methods:{cancel:function(){this.canCancel&&this.isActive&&this.close()},close:function(){var t=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150))},keyPress:function(t){27===t.keyCode&&this.cancel()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&(this.container?(this.displayInFullPage=!1,this.$emit("update:is-full-page",!1),this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}};var se,ae=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:this.animation}},[this.isActive?e("div",{staticClass:"loading-overlay is-active",class:{"is-full-page":this.displayInFullPage}},[e("div",{staticClass:"loading-background",on:{click:this.cancel}}),this._v(" "),this._t("default",[e("div",{staticClass:"loading-icon"})])],2):this._e()])},staticRenderFns:[]},void 0,oe,void 0,!1,void 0,void 0,void 0),ue={open:function(t){var e=Object(r.d)({programmatic:!0},t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:se||o.a).extend(ae))({el:document.createElement("div"),propsData:e})}},ce={install:function(t){se=t,Object(c.c)(t,ae),Object(c.b)(t,"loading",ue)}};Object(c.d)(ce);var le=ce;const he={name:"BMenu",props:{accordion:{type:Boolean,default:!0},activable:{type:Boolean,default:!0}},data:function(){return{_isMenu:!0}}};var fe=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"menu"},[this._t("default")],2)},staticRenderFns:[]},void 0,he,void 0,!1,void 0,void 0,void 0);const de={name:"BMenuList",functional:!0,props:{label:String,icon:String,iconPack:String,ariaRole:{type:String,default:""}},render:function(t,e){var n=null,r=e.slots();(e.props.label||r.label)&&(n=t("p",{attrs:{class:"menu-label"}},e.props.label?e.props.icon?[t("b-icon",{props:{icon:e.props.icon,pack:e.props.iconPack,size:"is-small"}}),t("span",{},e.props.label)]:e.props.label:r.label));var o=t("ul",{attrs:{class:"menu-list",role:"menu"===e.props.ariaRole?e.props.ariaRole:null}},r.default);return n?[n,o]:o}};var pe=Object(c.a)({},void 0,de,void 0,void 0,void 0,void 0,void 0);const ve={name:"BMenuItem",components:Object(l.a)({},m.name,m),inheritAttrs:!1,props:{label:String,active:Boolean,expanded:Boolean,disabled:Boolean,iconPack:String,icon:String,animation:{type:String,default:"slide"},tag:{type:String,default:"a",validator:function(t){return o.c.defaultLinkTags.indexOf(t)>=0}},ariaRole:{type:String,default:""}},data:function(){return{newActive:this.active,newExpanded:this.expanded}},computed:{ariaRoleMenu:function(){return"menuitem"===this.ariaRole?this.ariaRole:null}},watch:{active:function(t){this.newActive=t},expanded:function(t){this.newExpanded=t}},methods:{onClick:function(t){if(!this.disabled){var menu=this.getMenu();this.reset(this.$parent,menu),this.newExpanded=!this.newExpanded,this.$emit("update:expanded",this.newActive),menu&&menu.activable&&(this.newActive=!0,this.$emit("update:active",this.newActive))}},reset:function(t,menu){var e=this;t.$children.filter((function(t){return t.name===e.name})).forEach((function(n){n!==e&&(e.reset(n,menu),(!t.$data._isMenu||t.$data._isMenu&&t.accordion)&&(n.newExpanded=!1,n.$emit("update:expanded",n.newActive)),menu&&menu.activable&&(n.newActive=!1,n.$emit("update:active",n.newActive)))}))},getMenu:function(){for(var t=this.$parent;t&&!t.$data._isMenu;)t=t.$parent;return t}}};var me=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{attrs:{role:t.ariaRoleMenu}},[n(t.tag,t._g(t._b({tag:"component",class:{"is-active":t.newActive,"is-disabled":t.disabled},on:{click:function(e){t.onClick(e)}}},"component",t.$attrs,!1),t.$listeners),[t.icon?n("b-icon",{attrs:{icon:t.icon,pack:t.iconPack,size:"is-small"}}):t._e(),t._v(" "),t.label?n("span",[t._v(t._s(t.label))]):t._t("label",null,{expanded:t.newExpanded,active:t.newActive})],2),t._v(" "),t.$slots.default?[n("transition",{attrs:{name:t.animation}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.newExpanded,expression:"newExpanded"}]},[t._t("default")],2)])]:t._e()],2)},staticRenderFns:[]},void 0,ve,void 0,!1,void 0,void 0,void 0),ge={install:function(t){Object(c.c)(t,fe),Object(c.c)(t,pe),Object(c.c)(t,me)}};Object(c.d)(ge);var menu=ge,ye={components:Object(l.a)({},m.name,m),props:{active:{type:Boolean,default:!0},title:String,closable:{type:Boolean,default:!0},message:String,type:String,hasIcon:Boolean,size:String,icon:String,iconPack:String,iconSize:String,autoClose:{type:Boolean,default:!1},duration:{type:Number,default:2e3}},data:function(){return{isActive:this.active}},watch:{active:function(t){this.isActive=t},isActive:function(t){t?this.setAutoClose():this.timer&&clearTimeout(this.timer)}},computed:{computedIcon:function(){if(this.icon)return this.icon;switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}}},methods:{close:function(){this.isActive=!1,this.$emit("close"),this.$emit("update:active",!1)},setAutoClose:function(){var t=this;this.autoClose&&(this.timer=setTimeout((function(){t.isActive&&t.close()}),this.duration))}},mounted:function(){this.setAutoClose()}};const be={name:"BMessage",mixins:[ye],props:{ariaCloseLabel:String},data:function(){return{newIconSize:this.iconSize||this.size||"is-large"}}};var we=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.isActive?n("article",{staticClass:"message",class:[t.type,t.size]},[t.title?n("header",{staticClass:"message-header"},[n("p",[t._v(t._s(t.title))]),t._v(" "),t.closable?n("button",{staticClass:"delete",attrs:{type:"button","aria-label":t.ariaCloseLabel},on:{click:t.close}}):t._e()]):t._e(),t._v(" "),n("section",{staticClass:"message-body"},[n("div",{staticClass:"media"},[t.computedIcon&&t.hasIcon?n("div",{staticClass:"media-left"},[n("b-icon",{class:t.type,attrs:{icon:t.computedIcon,pack:t.iconPack,both:"",size:t.newIconSize}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[t._t("default")],2)])])]):t._e()])},staticRenderFns:[]},void 0,be,void 0,!1,void 0,void 0,void 0),_e={install:function(t){Object(c.c)(t,we)}};Object(c.d)(_e);var Se,Ie=_e,ke={open:function(t){var e;"string"==typeof t&&(t={content:t});t.parent&&(e=t.parent,delete t.parent);var n=Object(r.d)({programmatic:!0},t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:Se||o.a).extend($t))({parent:e,el:document.createElement("div"),propsData:n})}},Ee={install:function(t){Se=t,Object(c.c)(t,$t),Object(c.b)(t,"modal",ke)}};Object(c.d)(Ee);var Te=Ee,De=n(35);const Ae={name:"BNotification",mixins:[ye],props:{position:String,ariaCloseLabel:String,animation:{type:String,default:"fade"}}};var Ce=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.animation}},[n("article",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"notification",class:[t.type,t.position]},[t.closable?n("button",{staticClass:"delete",attrs:{type:"button","aria-label":t.ariaCloseLabel},on:{click:t.close}}):t._e(),t._v(" "),n("div",{staticClass:"media"},[t.computedIcon&&t.hasIcon?n("div",{staticClass:"media-left"},[n("b-icon",{attrs:{icon:t.computedIcon,pack:t.iconPack,both:"",size:"is-large","aria-hidden":""}})],1):t._e(),t._v(" "),n("div",{staticClass:"media-content"},[t.message?n("p",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}}):t._t("default")],2)])])])},staticRenderFns:[]},void 0,Ae,void 0,!1,void 0,void 0,void 0);const Ne={name:"BNotificationNotice",mixins:[De.a],props:{indefinite:{type:Boolean,default:!1}},data:function(){return{newDuration:this.duration||o.c.defaultNotificationDuration}}};var Oe,xe=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("b-notification",this._b({on:{close:this.close}},"b-notification",this.$options.propsData,!1))},staticRenderFns:[]},void 0,Ne,void 0,!1,void 0,void 0,void 0),Pe={open:function(t){var e;"string"==typeof t&&(t={message:t});var n={position:o.c.defaultNotificationPosition||"is-top-right"};t.parent&&(e=t.parent,delete t.parent);var c=Object(r.d)(n,t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:Oe||o.a).extend(xe))({parent:e,el:document.createElement("div"),propsData:c})}},Re={install:function(t){Oe=t,Object(c.c)(t,Ce),Object(c.b)(t,"notification",Pe)}};Object(c.d)(Re);var Me=Re;const Le={name:"NavbarBurger",props:{isOpened:{type:Boolean,default:!1}}};var je=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",this._g({staticClass:"navbar-burger burger",class:{"is-active":this.isOpened},attrs:{role:"button","aria-label":"menu","aria-expanded":this.isOpened}},this.$listeners),[e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}})])},staticRenderFns:[]},void 0,Le,void 0,!1,void 0,void 0,void 0),Ve="undefined"!=typeof window&&("ontouchstart"in window||navigator.msMaxTouchPoints>0)?["touchstart","click"]:["click"],Fe=[];function Be(t){var e="function"==typeof t;if(!e&&"object"!==Object(l.c)(t))throw new Error("v-click-outside: Binding value should be a function or an object, typeof ".concat(t," given"));return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||Ve}}function Ue(t){var e=t.el,n=t.event,r=t.handler,o=t.middleware;n.target!==e&&!e.contains(n.target)&&o(n,e)&&r(n,e)}var $e={bind:function(t,e){var n=Be(e.value),r=n.handler,o=n.middleware,c=n.events,l={el:t,eventHandlers:c.map((function(e){return{event:e,handler:function(e){return Ue({event:e,el:t,handler:r,middleware:o})}}}))};l.eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.addEventListener(e,n)})),Fe.push(l)},update:function(t,e){var n=Be(e.value),r=n.handler,o=n.middleware,c=n.events,l=Fe.filter((function(e){return e.el===t}))[0];l.eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.removeEventListener(e,n)})),l.eventHandlers=c.map((function(e){return{event:e,handler:function(e){return Ue({event:e,el:t,handler:r,middleware:o})}}})),l.eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.addEventListener(e,n)}))},unbind:function(t){Fe.filter((function(e){return e.el===t}))[0].eventHandlers.forEach((function(t){var e=t.event,n=t.handler;return document.removeEventListener(e,n)}))},instances:Fe};const qe={name:"BNavbar",components:{NavbarBurger:je},directives:{clickOutside:$e},props:{type:[String,Object],transparent:{type:Boolean,default:!1},fixedTop:{type:Boolean,default:!1},fixedBottom:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},wrapperClass:{type:String},closeOnClick:{type:Boolean,default:!0},mobileBurger:{type:Boolean,default:!0},spaced:Boolean,shadow:Boolean},data:function(){return{internalIsActive:this.isActive}},computed:{isOpened:function(){return this.internalIsActive},computedClasses:function(){var t;return[this.type,(t={},Object(l.a)(t,"is-fixed-top",this.fixedTop),Object(l.a)(t,"is-fixed-bottom",this.fixedBottom),Object(l.a)(t,"is-spaced",this.spaced),Object(l.a)(t,"has-shadow",this.shadow),Object(l.a)(t,"is-transparent",this.transparent),t)]}},watch:{isActive:{handler:function(t){this.internalIsActive=t},immediate:!0},fixedTop:{handler:function(t){this.checkIfFixedPropertiesAreColliding(),t?(this.setBodyClass("has-navbar-fixed-top"),this.spaced&&this.setBodyClass("has-spaced-navbar-fixed-top")):(this.removeBodyClass("has-navbar-fixed-top"),this.removeBodyClass("has-spaced-navbar-fixed-top"))},immediate:!0},fixedBottom:{handler:function(t){this.checkIfFixedPropertiesAreColliding(),t?(this.setBodyClass("has-navbar-fixed-bottom"),this.spaced&&this.setBodyClass("has-spaced-navbar-fixed-bottom")):(this.removeBodyClass("has-navbar-fixed-bottom"),this.removeBodyClass("has-spaced-navbar-fixed-bottom"))},immediate:!0}},methods:{toggleActive:function(){this.internalIsActive=!this.internalIsActive,this.emitUpdateParentEvent()},closeMenu:function(){this.closeOnClick&&(this.internalIsActive=!1,this.emitUpdateParentEvent())},emitUpdateParentEvent:function(){this.$emit("update:isActive",this.internalIsActive)},setBodyClass:function(t){"undefined"!=typeof window&&document.body.classList.add(t)},removeBodyClass:function(t){"undefined"!=typeof window&&document.body.classList.remove(t)},checkIfFixedPropertiesAreColliding:function(){if(this.fixedTop&&this.fixedBottom)throw new Error("You should choose if the BNavbar is fixed bottom or fixed top, but not both")},genNavbar:function(t){var e=[this.genNavbarBrandNode(t),this.genNavbarSlotsNode(t)];if(!this.wrapperClass)return this.genNavbarSlots(t,e);var n=t("div",{class:this.wrapperClass},e);return this.genNavbarSlots(t,[n])},genNavbarSlots:function(t,e){return t("nav",{staticClass:"navbar",class:this.computedClasses,attrs:{role:"navigation","aria-label":"main navigation"},directives:[{name:"click-outside",value:this.closeMenu}]},e)},genNavbarBrandNode:function(t){return t("div",{class:"navbar-brand"},[this.$slots.brand,this.genBurgerNode(t)])},genBurgerNode:function(t){if(this.mobileBurger){var e=t("navbar-burger",{props:{isOpened:this.isOpened},on:{click:this.toggleActive}});return!!this.$scopedSlots.burger?this.$scopedSlots.burger({isOpened:this.isOpened,toggleActive:this.toggleActive}):e}},genNavbarSlotsNode:function(t){return t("div",{staticClass:"navbar-menu",class:{"is-active":this.isOpened}},[this.genMenuPosition(t,"start"),this.genMenuPosition(t,"end")])},genMenuPosition:function(t,e){return t("div",{staticClass:"navbar-".concat(e)},this.$slots[e])}},beforeDestroy:function(){if(this.fixedTop){var t=this.spaced?"has-spaced-navbar-fixed-top":"has-navbar-fixed-top";this.removeBodyClass(t)}else if(this.fixedBottom){var e=this.spaced?"has-spaced-navbar-fixed-bottom":"has-navbar-fixed-bottom";this.removeBodyClass(e)}},render:function(t,e){return this.genNavbar(t)}};var ze=Object(c.a)({},void 0,qe,void 0,void 0,void 0,void 0,void 0),He=["div","span"];const Ge={name:"BNavbarItem",inheritAttrs:!1,props:{tag:{type:String,default:"a"},active:Boolean},methods:{keyPress:function(t){27===t.keyCode&&this.$parent.closeMenu()},handleClickEvent:function(t){He.some((function(e){return e===t.target.localName}))||(this.$parent.$data._isNavDropdown?(this.$parent.closeMenu(),this.$parent.$parent.closeMenu()):this.$parent.closeMenu())}},mounted:function(){"undefined"!=typeof window&&(this.$el.addEventListener("click",this.handleClickEvent),document.addEventListener("keyup",this.keyPress))},beforeDestroy:function(){"undefined"!=typeof window&&(this.$el.removeEventListener("click",this.handleClickEvent),document.removeEventListener("keyup",this.keyPress))}};var We=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)(this.tag,this._g(this._b({tag:"component",staticClass:"navbar-item",class:{"is-active":this.active}},"component",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,Ge,void 0,!1,void 0,void 0,void 0);const Ke={name:"BNavbarDropdown",directives:{clickOutside:$e},props:{label:String,hoverable:Boolean,active:Boolean,right:Boolean,arrowless:Boolean,boxed:Boolean,closeOnClick:{type:Boolean,default:!0}},data:function(){return{newActive:this.active,isHoverable:this.hoverable,_isNavDropdown:!0}},watch:{active:function(t){this.newActive=t}},methods:{showMenu:function(){this.newActive=!0},closeMenu:function(){this.newActive=!this.closeOnClick,this.hoverable&&this.closeOnClick&&(this.isHoverable=!1)},checkHoverable:function(){this.hoverable&&(this.isHoverable=!0)}}};var Ye=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"navbar-item has-dropdown",class:{"is-hoverable":t.isHoverable,"is-active":t.newActive},on:{mouseenter:t.checkHoverable}},[n("a",{staticClass:"navbar-link",class:{"is-arrowless":t.arrowless},attrs:{role:"menuitem","aria-haspopup":"true",href:"#"},on:{click:function(e){e.preventDefault(),t.newActive=!t.newActive}}},[t.label?[t._v(t._s(t.label))]:t._t("label")],2),t._v(" "),n("div",{staticClass:"navbar-dropdown",class:{"is-right":t.right,"is-boxed":t.boxed}},[t._t("default")],2)])},staticRenderFns:[]},void 0,Ke,void 0,!1,void 0,void 0,void 0),Je={install:function(t){Object(c.c)(t,ze),Object(c.c)(t,We),Object(c.c)(t,Ye)}};Object(c.d)(Je);var Xe,Qe=Je;const Ze={name:"BNumberinput",components:(Xe={},Object(l.a)(Xe,m.name,m),Object(l.a)(Xe,w.name,w),Xe),mixins:[h],inheritAttrs:!1,props:{value:Number,min:[Number,String],max:[Number,String],step:[Number,String],disabled:Boolean,type:{type:String,default:"is-primary"},editable:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},controlsRounded:{type:Boolean,default:!1},controlsPosition:String},data:function(){return{newValue:isNaN(this.value)?parseFloat(this.min)||0:this.value,newStep:this.step||1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){var e=t;""===t&&(e=parseFloat(this.min)||null),this.newValue=e,this.$emit("input",e),!this.isValid&&this.$refs.input.checkHtml5Validity()}},fieldClasses:function(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses:function(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber:function(){return"string"==typeof this.min?parseFloat(this.min):this.min},maxNumber:function(){return"string"==typeof this.max?parseFloat(this.max):this.max},stepNumber:function(){return"string"==typeof this.newStep?parseFloat(this.newStep):this.newStep},disabledMin:function(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax:function(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals:function(){var t=this.stepNumber.toString(),e=t.indexOf(".");return e>=0?t.substring(e+1).length:0}},watch:{value:function(t){this.newValue=t}},methods:{decrement:function(){if(void 0===this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){var t=this.computedValue-this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},increment:function(){if(void 0===this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){var t=this.computedValue+this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},onControlClick:function(t,e){0===t.detail&&"click"!==t.type&&(e?this.increment():this.decrement())},onStartLongPress:function(t,e){var n=this;0!==t.button&&"touchstart"!==t.type||(this._$intervalTime=new Date,clearInterval(this._$intervalRef),this._$intervalRef=setInterval((function(){e?n.increment():n.decrement()}),250))},onStopLongPress:function(t){this._$intervalRef&&(new Date-this._$intervalTime<250&&(t?this.increment():this.decrement()),clearInterval(this._$intervalRef),this._$intervalRef=null)}}};var tn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[t.controls?n("p",{staticClass:"control",on:{mouseup:function(e){t.onStopLongPress(!1)},mouseleave:function(e){t.onStopLongPress(!1)},touchend:function(e){t.onStopLongPress(!1)},touchcancel:function(e){t.onStopLongPress(!1)}}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMin},on:{mousedown:function(e){t.onStartLongPress(e,!1)},touchstart:function(e){e.preventDefault(),t.onStartLongPress(e,!1)},click:function(e){t.onControlClick(e,!1)}}},[n("b-icon",{attrs:{icon:"minus",both:"",pack:t.iconPack,size:t.iconSize}})],1)]):t._e(),t._v(" "),n("b-input",t._b({ref:"input",attrs:{type:"number",step:t.newStep,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){t.$emit("focus",e)},blur:function(e){t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=t._n(e)},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._v(" "),t.controls?n("p",{staticClass:"control",on:{mouseup:function(e){t.onStopLongPress(!0)},mouseleave:function(e){t.onStopLongPress(!0)},touchend:function(e){t.onStopLongPress(!0)},touchcancel:function(e){t.onStopLongPress(!0)}}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||t.disabledMax},on:{mousedown:function(e){t.onStartLongPress(e,!0)},touchstart:function(e){e.preventDefault(),t.onStartLongPress(e,!0)},click:function(e){t.onControlClick(e,!0)}}},[n("b-icon",{attrs:{icon:"plus",both:"",pack:t.iconPack,size:t.iconSize}})],1)]):t._e()],1)},staticRenderFns:[]},void 0,Ze,void 0,!1,void 0,void 0,void 0),en={install:function(t){Object(c.c)(t,tn)}};Object(c.d)(en);var nn=en;const rn={name:"BPaginationButton",props:{page:{type:Object,required:!0},tag:{type:String,default:"a",validator:function(t){return o.c.defaultLinkTags.indexOf(t)>=0}},disabled:{type:Boolean,default:!1}},computed:{href:function(){if("a"===this.tag)return"#"},isDisabled:function(){return this.disabled||this.page.disabled}}};var on,sn=Object(c.a)({render:function(){var t,e=this,n=e.$createElement;return(e._self._c||n)(e.tag,e._b({tag:"component",staticClass:"pagination-link",class:(t={"is-current":e.page.isCurrent},t[e.page.class]=!0,t),attrs:{role:"button",href:e.href,disabled:e.isDisabled,"aria-label":e.page["aria-label"],"aria-current":e.page.isCurrent},on:{click:function(t){return t.preventDefault(),e.page.click(t)}}},"component",e.$attrs,!1),[e._t("default",[e._v(e._s(e.page.number))])],2)},staticRenderFns:[]},void 0,rn,void 0,!1,void 0,void 0,void 0);const an={name:"BPagination",components:(on={},Object(l.a)(on,m.name,m),Object(l.a)(on,sn.name,sn),on),props:{total:[Number,String],perPage:{type:[Number,String],default:20},current:{type:[Number,String],default:1},rangeBefore:{type:[Number,String],default:1},rangeAfter:{type:[Number,String],default:1},size:String,simple:Boolean,rounded:Boolean,order:String,iconPack:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String},computed:{rootClasses:function(){return[this.order,this.size,{"is-simple":this.simple,"is-rounded":this.rounded}]},beforeCurrent:function(){return parseInt(this.rangeBefore)},afterCurrent:function(){return parseInt(this.rangeAfter)},pageCount:function(){return Math.ceil(this.total/this.perPage)},firstItem:function(){var t=this.current*this.perPage-this.perPage+1;return t>=0?t:0},hasPrev:function(){return this.current>1},hasFirst:function(){return this.current>=2+this.beforeCurrent},hasFirstEllipsis:function(){return this.current>=this.beforeCurrent+4},hasLast:function(){return this.current<=this.pageCount-(1+this.afterCurrent)},hasLastEllipsis:function(){return this.current<this.pageCount-(2+this.afterCurrent)},hasNext:function(){return this.current<this.pageCount},pagesInRange:function(){if(!this.simple){var t=Math.max(1,this.current-this.beforeCurrent);t-1==2&&t--;var e=Math.min(this.current+this.afterCurrent,this.pageCount);this.pageCount-e==2&&e++;for(var n=[],i=t;i<=e;i++)n.push(this.getPage(i));return n}}},watch:{pageCount:function(t){this.current>t&&this.last()}},methods:{prev:function(t){this.changePage(this.current-1,t)},next:function(t){this.changePage(this.current+1,t)},first:function(t){this.changePage(1,t)},last:function(t){this.changePage(this.pageCount,t)},changePage:function(t,e){this.current===t||t<1||t>this.pageCount||(this.$emit("change",t),this.$emit("update:current",t),e&&e.target&&this.$nextTick((function(){return e.target.focus()})))},getPage:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{number:t,isCurrent:this.current===t,click:function(n){return e.changePage(t,n)},disabled:n.disabled||!1,class:n.class||"","aria-label":n["aria-label"]||this.getAriaPageLabel(t,this.current===t)}},getAriaPageLabel:function(t,e){return!this.ariaPageLabel||e&&this.ariaCurrentLabel?this.ariaPageLabel&&e&&this.ariaCurrentLabel?this.ariaCurrentLabel+", "+this.ariaPageLabel+" "+t+".":null:this.ariaPageLabel+" "+t+"."}}};var un=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"pagination",class:t.rootClasses},[t.$scopedSlots.previous?t._t("previous",[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current-1,{disabled:!t.hasPrev,class:"pagination-previous","aria-label":t.ariaPreviousLabel})}):n("BPaginationButton",{staticClass:"pagination-previous",attrs:{disabled:!t.hasPrev,page:t.getPage(t.current-1)}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),t.$scopedSlots.next?t._t("next",[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],{page:t.getPage(t.current+1,{disabled:!t.hasNext,class:"pagination-next","aria-label":t.ariaNextLabel})}):n("BPaginationButton",{staticClass:"pagination-next",attrs:{disabled:!t.hasNext,page:t.getPage(t.current+1)}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),t.simple?n("small",{staticClass:"info"},[1==t.perPage?[t._v("\r\n                "+t._s(t.firstItem)+" / "+t._s(t.total)+"\r\n            ")]:[t._v("\r\n                "+t._s(t.firstItem)+"-"+t._s(Math.min(t.current*t.perPage,t.total))+" / "+t._s(t.total)+"\r\n            ")]],2):n("ul",{staticClass:"pagination-list"},[t.hasFirst?n("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(1)}):n("BPaginationButton",{attrs:{page:t.getPage(1)}})],2):t._e(),t._v(" "),t.hasFirstEllipsis?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t._l(t.pagesInRange,(function(e){return n("li",{key:e.number},[t.$scopedSlots.default?t._t("default",null,{page:e}):n("BPaginationButton",{attrs:{page:e}})],2)})),t._v(" "),t.hasLastEllipsis?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t.hasLast?n("li",[t.$scopedSlots.default?t._t("default",null,{page:t.getPage(t.pageCount)}):n("BPaginationButton",{attrs:{page:t.getPage(t.pageCount)}})],2):t._e()],2)],2)},staticRenderFns:[]},void 0,an,void 0,!1,void 0,void 0,void 0),cn={install:function(t){Object(c.c)(t,un),Object(c.c)(t,sn)}};Object(c.d)(cn);var ln=cn;const hn={name:"BProgress",props:{type:{type:[String,Object],default:"is-darkgrey"},size:String,value:{type:Number,default:void 0},max:{type:Number,default:100},showValue:{type:Boolean,default:!1},format:{type:String,default:"raw",validator:function(t){return["raw","percent"].indexOf(t)>=0}},precision:{type:Number,default:2},keepTrailingZeroes:{type:Boolean,default:!1}},computed:{isIndeterminate:function(){return void 0===this.value||null===this.value},newType:function(){return[this.size,this.type]},newValue:function(){if(void 0!==this.value&&null!==this.value&&!isNaN(this.value)){if("percent"===this.format){var t=this.toFixed(100*this.value/this.max);return"".concat(t,"%")}return this.toFixed(this.value)}}},watch:{value:function(t){this.setValue(t)}},methods:{setValue:function(t){this.isIndeterminate?this.$refs.progress.removeAttribute("value"):this.$refs.progress.setAttribute("value",t)},toFixed:function(t){var e=(+"".concat(Math.round(+"".concat(t,"e").concat(this.precision)),"e").concat(-this.precision)).toFixed(this.precision);return this.keepTrailingZeroes||(e=e.replace(/\.?0+$/,"")),e}},mounted:function(){this.setValue(this.value)}};var fn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-wrapper"},[n("progress",{ref:"progress",staticClass:"progress",class:t.newType,attrs:{max:t.max}},[t._v(t._s(t.newValue))]),t._v(" "),t.showValue?n("p",{staticClass:"progress-value"},[t._t("default",[t._v(t._s(t.newValue))])],2):t._e()])},staticRenderFns:[]},void 0,hn,void 0,!1,void 0,void 0,void 0),dn={install:function(t){Object(c.c)(t,fn)}};Object(c.d)(dn);var progress=dn;const pn={name:"BRadio",mixins:[j]};var vn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"b-radio radio",class:[t.size,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(t){t.stopPropagation()},change:function(e){t.computedValue=t.nativeValue}}}),t._v(" "),n("span",{staticClass:"check",class:t.type}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,pn,void 0,!1,void 0,void 0,void 0);const mn={name:"BRadioButton",mixins:[j],props:{type:{type:String,default:"is-primary"},expanded:Boolean},data:function(){return{isFocused:!1}}};var gn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control",class:{"is-expanded":t.expanded}},[n("label",{ref:"label",staticClass:"b-radio radio button",class:[t.newValue===t.nativeValue?t.type:null,t.size,{"is-disabled":t.disabled,"is-focused":t.isFocused}],attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()}}},[t._t("default"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"radio",disabled:t.disabled,required:t.required,name:t.name},domProps:{value:t.nativeValue,checked:t._q(t.computedValue,t.nativeValue)},on:{click:function(t){t.stopPropagation()},focus:function(e){t.isFocused=!0},blur:function(e){t.isFocused=!1},change:function(e){t.computedValue=t.nativeValue}}})],2)])},staticRenderFns:[]},void 0,mn,void 0,!1,void 0,void 0,void 0),yn={install:function(t){Object(c.c)(t,vn),Object(c.c)(t,gn)}};Object(c.d)(yn);var bn=yn;const wn={name:"BRate",components:Object(l.a)({},m.name,m),props:{value:{type:Number,default:0},max:{type:Number,default:5},icon:{type:String,default:"star"},iconPack:String,size:String,spaced:Boolean,rtl:Boolean,disabled:Boolean,showScore:Boolean,showText:Boolean,customText:String,texts:Array},data:function(){return{newValue:this.value,hoverValue:0}},computed:{halfStyle:function(){return"width:".concat(this.valueDecimal,"%")},showMe:function(){var t="";return this.showScore?0===(t=this.disabled?this.value:this.newValue)&&(t=""):this.showText&&(t=this.texts[Math.ceil(this.newValue)-1]),t},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)}},watch:{value:function(t){this.newValue=t}},methods:{resetNewValue:function(){this.disabled||(this.hoverValue=0)},previewRate:function(t,e){this.disabled||(this.hoverValue=t,e.stopPropagation())},confirmValue:function(t){this.disabled||(this.newValue=t,this.$emit("change",this.newValue),this.$emit("input",this.newValue))},checkHalf:function(t){return this.disabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value},rateClass:function(t){var output="";return t<=(0!==this.hoverValue?this.hoverValue:this.newValue)?output="set-on":this.disabled&&Math.ceil(this.value)===t&&(output="set-half"),output}}};var _n=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate",class:{"is-disabled":t.disabled,"is-spaced":t.spaced,"is-rtl":t.rtl}},[t._l(t.max,(function(e,r){return n("div",{key:r,staticClass:"rate-item",class:t.rateClass(e),on:{mousemove:function(n){t.previewRate(e,n)},mouseleave:t.resetNewValue,click:function(n){n.preventDefault(),t.confirmValue(e)}}},[n("b-icon",{attrs:{pack:t.iconPack,icon:t.icon,size:t.size}}),t._v(" "),t.checkHalf(e)?n("b-icon",{staticClass:"is-half",style:t.halfStyle,attrs:{pack:t.iconPack,icon:t.icon,size:t.size}}):t._e()],1)})),t._v(" "),t.showText||t.showScore||t.customText?n("div",{staticClass:"rate-text",class:t.size},[n("span",[t._v(t._s(t.showMe))]),t._v(" "),t.customText&&!t.showText?n("span",[t._v(t._s(t.customText))]):t._e()]):t._e()],2)},staticRenderFns:[]},void 0,wn,void 0,!1,void 0,void 0,void 0),Sn={install:function(t){Object(c.c)(t,_n)}};Object(c.d)(Sn);var In=Sn,kn={install:function(t){Object(c.c)(t,wt)}};Object(c.d)(kn);var En=kn;const Tn={name:"BTooltip",props:{active:{type:Boolean,default:!0},type:String,label:String,position:{type:String,default:"is-top",validator:function(t){return["is-top","is-bottom","is-left","is-right"].indexOf(t)>-1}},always:Boolean,animated:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"},delay:Number},computed:{newType:function(){return this.type||o.c.defaultTooltipType},newAnimated:function(){return this.animated||o.c.defaultTooltipAnimated},newDelay:function(){return this.delay||o.c.defaultTooltipDelay}}};var Dn=Object(c.a)({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:[t.newType,t.position,t.size,{"b-tooltip":t.active,"is-square":t.square,"is-animated":t.newAnimated,"is-always":t.always,"is-multiline":t.multilined,"is-dashed":t.dashed}],style:{"transition-delay":t.newDelay+"ms"},attrs:{"data-label":t.label}},[t._t("default")],2)},staticRenderFns:[]},void 0,Tn,void 0,!1,void 0,void 0,void 0);const An={name:"BSliderThumb",components:Object(l.a)({},Dn.name,Dn),inheritAttrs:!1,props:{value:{type:Number,default:0},type:{type:String,default:""},tooltip:{type:Boolean,default:!0},customFormatter:Function},data:function(){return{isFocused:!1,dragging:!1,startX:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.disabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return"".concat((this.value-this.min)/(this.max-this.min)*100,"%")},wrapperStyle:function(){return{left:this.currentPosition}},tooltipLabel:function(){return void 0!==this.customFormatter?this.customFormatter(this.value):this.value.toString()}},methods:{onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),"undefined"!=typeof window&&(document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd)))},onLeftKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onRightKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onHomeKeyDown:function(){this.disabled||this.value===this.min||(this.newPosition=0,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onEndKeyDown:function(){this.disabled||this.value===this.max||(this.newPosition=100,this.setPosition(this.newPosition),this.$parent.emitValue("change"))},onDragStart:function(t){this.dragging=!0,this.$emit("dragstart"),"touchstart"===t.type&&(t.clientX=t.touches[0].clientX),this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){"touchmove"===t.type&&(t.clientX=t.touches[0].clientX);var e=(t.clientX-this.startX)/this.$parent.sliderSize*100;this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){this.dragging=!1,this.$emit("dragend"),this.value!==this.oldValue&&this.$parent.emitValue("change"),this.setPosition(this.newPosition),"undefined"!=typeof window&&(document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var e=100/((this.max-this.min)/this.step),n=Math.round(t/e)*e/100*(this.max-this.min)+this.min;n=parseFloat(n.toFixed(this.precision)),this.$emit("input",n),this.dragging||n===this.oldValue||(this.oldValue=n)}}}};var Cn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider-thumb-wrapper",class:{"is-dragging":t.dragging},style:t.wrapperStyle},[n("b-tooltip",{attrs:{label:t.tooltipLabel,type:t.type,always:t.dragging||t.isFocused,active:!t.disabled&&t.tooltip}},[n("div",t._b({staticClass:"b-slider-thumb",attrs:{tabindex:!t.disabled&&0},on:{mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.onFocus,blur:t.onBlur,keydown:[function(e){return!("button"in e)&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.onLeftKeyDown(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:(e.preventDefault(),t.onRightKeyDown(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.onLeftKeyDown(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.onRightKeyDown(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"home",void 0,e.key,void 0)?null:(e.preventDefault(),t.onHomeKeyDown(e))},function(e){return!("button"in e)&&t._k(e.keyCode,"end",void 0,e.key,void 0)?null:(e.preventDefault(),t.onEndKeyDown(e))}]}},"div",t.$attrs,!1))])],1)},staticRenderFns:[]},void 0,An,void 0,!1,void 0,void 0,void 0);const Nn={name:"BSliderTick",props:{value:{type:Number,default:0}},computed:{position:function(){var t=(this.value-this.$parent.min)/(this.$parent.max-this.$parent.min)*100;return t>=0&&t<=100?t:0},hidden:function(){return this.value===this.$parent.min||this.value===this.$parent.max}},methods:{getTickStyle:function(t){return{left:t+"%"}}},created:function(){if(!this.$parent.$data._isSlider)throw this.$destroy(),new Error("You should wrap bSliderTick on a bSlider")}};var On,xn=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-slider-tick",class:{"is-tick-hidden":this.hidden},style:this.getTickStyle(this.position)},[this.$slots.default?e("span",{staticClass:"b-slider-tick-label"},[this._t("default")],2):this._e()])},staticRenderFns:[]},void 0,Nn,void 0,!1,void 0,void 0,void 0);const Pn={name:"BSlider",components:(On={},Object(l.a)(On,Cn.name,Cn),Object(l.a)(On,xn.name,xn),On),props:{value:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},type:{type:String,default:"is-primary"},size:String,ticks:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!0},tooltipType:String,rounded:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},customFormatter:Function,ariaLabel:[String,Array],biggerSliderFocus:{type:Boolean,default:!1}},data:function(){return{value1:null,value2:null,dragging:!1,isRange:!1,_isSlider:!0}},computed:{newTooltipType:function(){return this.tooltipType?this.tooltipType:this.type},tickValues:function(){if(!this.ticks||this.min>this.max||0===this.step)return[];for(var t=[],i=this.min+this.step;i<this.max;i+=this.step)t.push(i);return t},minValue:function(){return Math.min(this.value1,this.value2)},maxValue:function(){return Math.max(this.value1,this.value2)},barSize:function(){return this.isRange?"".concat(100*(this.maxValue-this.minValue)/(this.max-this.min),"%"):"".concat(100*(this.value1-this.min)/(this.max-this.min),"%")},barStart:function(){return this.isRange?"".concat(100*(this.minValue-this.min)/(this.max-this.min),"%"):"0%"},precision:function(){var t=[this.min,this.max,this.step].map((function(t){var e=(""+t).split(".")[1];return e?e.length:0}));return Math.max.apply(Math,Object(l.d)(t))},barStyle:function(){return{width:this.barSize,left:this.barStart}},sliderSize:function(){return this.$refs.slider.clientWidth},rootClasses:function(){return{"is-rounded":this.rounded,"is-dragging":this.dragging,"is-disabled":this.disabled,"slider-focus":this.biggerSliderFocus}}},watch:{value:function(t){this.setValues(t)},value1:function(){this.onInternalValueUpdate()},value2:function(){this.onInternalValueUpdate()},min:function(){this.setValues(this.value)},max:function(){this.setValues(this.value)}},methods:{setValues:function(t){if(!(this.min>this.max))if(Array.isArray(t)){this.isRange=!0;var e="number"!=typeof t[0]||isNaN(t[0])?this.min:Math.min(Math.max(this.min,t[0]),this.max),n="number"!=typeof t[1]||isNaN(t[1])?this.max:Math.max(Math.min(this.max,t[1]),this.min);this.value1=this.isThumbReversed?n:e,this.value2=this.isThumbReversed?e:n}else this.isRange=!1,this.value1=isNaN(t)?this.min:Math.min(this.max,Math.max(this.min,t)),this.value2=null},onInternalValueUpdate:function(){this.isRange&&(this.isThumbReversed=this.value1>this.value2),this.lazy&&this.dragging||this.emitValue("input"),this.dragging&&this.emitValue("dragging")},onSliderClick:function(t){if(!this.disabled&&!this.isTrackClickDisabled){var e=this.$refs.slider.getBoundingClientRect().left,n=(t.clientX-e)/this.sliderSize*100,r=this.min+n*(this.max-this.min)/100,o=Math.abs(r-this.value1);if(this.isRange){var c=Math.abs(r-this.value2);if(o<=c){if(o<this.step/2)return;this.$refs.button1.setPosition(n)}else{if(c<this.step/2)return;this.$refs.button2.setPosition(n)}}else{if(o<this.step/2)return;this.$refs.button1.setPosition(n)}this.emitValue("change")}},onDragStart:function(){this.dragging=!0,this.$emit("dragstart")},onDragEnd:function(){var t=this;this.isTrackClickDisabled=!0,setTimeout((function(){t.isTrackClickDisabled=!1}),0),this.dragging=!1,this.$emit("dragend"),this.lazy&&this.emitValue("input")},emitValue:function(t){this.$emit(t,this.isRange?[this.minValue,this.maxValue]:this.value1)}},created:function(){this.isThumbReversed=!1,this.isTrackClickDisabled=!1,this.setValues(this.value)}};var Rn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-slider",class:[t.size,t.type,t.rootClasses],on:{click:t.onSliderClick}},[n("div",{ref:"slider",staticClass:"b-slider-track"},[n("div",{staticClass:"b-slider-fill",style:t.barStyle}),t._v(" "),t.ticks?t._l(t.tickValues,(function(t,e){return n("b-slider-tick",{key:e,attrs:{value:t}})})):t._e(),t._v(" "),t._t("default"),t._v(" "),n("b-slider-thumb",{ref:"button1",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value1,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[0]:t.ariaLabel,"aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),t.isRange?n("b-slider-thumb",{ref:"button2",attrs:{type:t.newTooltipType,tooltip:t.tooltip,"custom-formatter":t.customFormatter,role:"slider","aria-valuenow":t.value2,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":"horizontal","aria-label":Array.isArray(t.ariaLabel)?t.ariaLabel[1]:"","aria-disabled":t.disabled},on:{dragstart:t.onDragStart,dragend:t.onDragEnd},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}):t._e()],2)])},staticRenderFns:[]},void 0,Pn,void 0,!1,void 0,void 0,void 0),Mn={install:function(t){Object(c.c)(t,Rn),Object(c.c)(t,xn)}};Object(c.d)(Mn);var Ln=Mn;const jn={name:"BSnackbar",mixins:[De.a],props:{actionText:{type:String,default:"OK"},onAction:{type:Function,default:function(){}},indefinite:{type:Boolean,default:!1}},data:function(){return{newDuration:this.duration||o.c.defaultSnackbarDuration}},methods:{action:function(){this.onAction(),this.close()}}};var Vn,Fn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"snackbar",class:[t.type,t.position],attrs:{role:t.actionText?"alertdialog":"alert"}},[n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t.actionText?n("div",{staticClass:"action",class:t.type,on:{click:t.action}},[n("button",{staticClass:"button"},[t._v(t._s(t.actionText))])]):t._e()])])},staticRenderFns:[]},void 0,jn,void 0,!1,void 0,void 0,void 0),Bn={open:function(t){var e;"string"==typeof t&&(t={message:t});var n={type:"is-success",position:o.c.defaultSnackbarPosition||"is-bottom-right"};t.parent&&(e=t.parent,delete t.parent);var c=Object(r.d)(n,t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:Vn||o.a).extend(Fn))({parent:e,el:document.createElement("div"),propsData:c})}},Un={install:function(t){Vn=t,Object(c.b)(t,"snackbar",Bn)}};Object(c.d)(Un);var $n,qn=Un,zn={name:"BSlotComponent",props:{component:{type:Object,required:!0},name:{type:String,default:"default"},scoped:{type:Boolean},props:{type:Object},tag:{type:String,default:"div"},event:{type:String,default:"hook:updated"}},methods:{refresh:function(){this.$forceUpdate()},isVueComponent:function(){return this.component&&this.component._isVue}},created:function(){this.isVueComponent()&&this.component.$on(this.event,this.refresh)},beforeDestroy:function(){this.isVueComponent()&&this.component.$off(this.event,this.refresh)},render:function(t){if(this.isVueComponent())return t(this.tag,{},this.scoped?this.component.$scopedSlots[this.name](this.props):this.component.$slots[this.name])}};const Hn={name:"BSteps",components:($n={},Object(l.a)($n,m.name,m),Object(l.a)($n,zn.name,zn),$n),props:{value:Number,type:[String,Object],size:String,animated:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1},iconPack:String,iconPrev:{type:String,default:o.c.defaultIconPrev},iconNext:{type:String,default:o.c.defaultIconNext},hasNavigation:{type:Boolean,default:!0},ariaNextLabel:String,ariaPreviousLabel:String},data:function(){return{activeStep:this.value||0,defaultSlots:[],contentHeight:0,isTransitioning:!1,_isSteps:!0}},computed:{mainClasses:function(){return[this.type,this.size]},stepItems:function(){return this.defaultSlots.filter((function(t){return t.componentInstance&&t.componentInstance.$data&&t.componentInstance.$data._isStepItem})).map((function(t){return t.componentInstance}))},reversedStepItems:function(){return this.stepItems.slice().reverse()},firstVisibleStepIndex:function(){return this.stepItems.map((function(t,e){return t.visible})).indexOf(!0)},hasPrev:function(){return this.firstVisibleStepIndex>=0&&this.activeStep>this.firstVisibleStepIndex},lastVisibleStepIndex:function(){var t=this.reversedStepItems.map((function(t,e){return t.visible})).indexOf(!0);return t>=0?this.stepItems.length-1-t:t},hasNext:function(){return this.lastVisibleStepIndex>=0&&this.activeStep<this.lastVisibleStepIndex},navigationProps:function(){return{previous:{disabled:!this.hasPrev,action:this.prev},next:{disabled:!this.hasNext,action:this.next}}}},watch:{value:function(t){this.changeStep(t)},stepItems:function(){this.activeStep<this.stepItems.length&&(this.stepItems[this.activeStep].isActive=!0)}},methods:{refreshSlots:function(){this.defaultSlots=this.$slots.default||[]},changeStep:function(t){if(this.activeStep!==t){if(t>this.stepItems.length)throw new Error("The index you trying to set is bigger than the steps length");this.activeStep<this.stepItems.length&&this.stepItems[this.activeStep].deactivate(this.activeStep,t),this.stepItems[t].activate(this.activeStep,t),this.activeStep=t,this.$emit("change",t)}},isItemClickable:function(t,e){return void 0===t.clickable?this.activeStep>e:t.clickable},stepClick:function(t){this.$emit("input",t),this.changeStep(t)},prev:function(){var t=this;if(this.hasPrev){var e=this.reversedStepItems.map((function(e,n){return t.stepItems.length-1-n<t.activeStep&&e.visible})).indexOf(!0);e>=0&&(e=this.stepItems.length-1-e),this.$emit("input",e),this.changeStep(e)}},next:function(){var t=this;if(this.hasNext){var e=this.stepItems.map((function(e,n){return n>t.activeStep&&e.visible})).indexOf(!0);this.$emit("input",e),this.changeStep(e)}}},mounted:function(){this.activeStep<this.stepItems.length&&(this.stepItems[this.activeStep].isActive=!0),this.refreshSlots()}};var Gn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-steps"},[n("nav",{staticClass:"steps",class:t.mainClasses},[n("ul",{staticClass:"step-items"},t._l(t.stepItems,(function(e,r){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"stepItem.visible"}],key:r,staticClass:"step-item",class:[e.type||t.type,{"is-active":t.activeStep===r,"is-previous":t.activeStep>r}]},[n("a",{staticClass:"step-link",class:{"is-clickable":t.isItemClickable(e,r)},on:{click:function(n){t.isItemClickable(e,r)&&t.stepClick(r)}}},[n("div",{staticClass:"step-marker"},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:t.size}}):t._e()],1),t._v(" "),n("div",{staticClass:"step-details"},[n("span",{staticClass:"step-title"},[t._v(t._s(e.label))])])])])})))]),t._v(" "),n("section",{staticClass:"step-content",class:{"is-transitioning":t.isTransitioning}},[t._t("default")],2),t._v(" "),t._t("navigation",[t.hasNavigation?n("nav",{staticClass:"step-navigation"},[n("a",{staticClass:"pagination-previous",attrs:{role:"button",disabled:t.navigationProps.previous.disabled,"aria-label":t.ariaPreviousLabel},on:{click:function(e){return e.preventDefault(),t.navigationProps.previous.action(e)}}},[n("b-icon",{attrs:{icon:t.iconPrev,pack:t.iconPack,both:"","aria-hidden":"true"}})],1),t._v(" "),n("a",{staticClass:"pagination-next",attrs:{role:"button",disabled:t.navigationProps.next.disabled,"aria-label":t.ariaNextLabel},on:{click:function(e){return e.preventDefault(),t.navigationProps.next.action(e)}}},[n("b-icon",{attrs:{icon:t.iconNext,pack:t.iconPack,both:"","aria-hidden":"true"}})],1)]):t._e()],{previous:t.navigationProps.previous,next:t.navigationProps.next})],2)},staticRenderFns:[]},void 0,Hn,void 0,!1,void 0,void 0,void 0);const Wn={name:"BStepItem",props:{label:String,type:String|Object,icon:String,iconPack:String,clickable:{type:Boolean,default:void 0},visible:{type:Boolean,default:!0}},data:function(){return{isActive:!1,transitionName:null,_isStepItem:!0}},methods:{activate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!0},deactivate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!1}},created:function(){if(!this.$parent.$data._isSteps)throw this.$destroy(),new Error("You should wrap bStepItem on a bSteps");this.$parent.refreshSlots()},beforeDestroy:function(){this.$parent.refreshSlots()},render:function(t){var e=this;if(!this.$parent.destroyOnHide||this.isActive&&this.visible){var n=t("div",{directives:[{name:"show",value:this.isActive&&this.visible}],attrs:{class:"step-item"}},this.$slots.default);return this.$parent.animated?t("transition",{props:{name:this.transitionName},on:{"before-enter":function(){e.$parent.isTransitioning=!0},"after-enter":function(){e.$parent.isTransitioning=!1}}},[n]):n}}};var Kn=Object(c.a)({},void 0,Wn,void 0,void 0,void 0,void 0,void 0),Yn={install:function(t){Object(c.c)(t,Gn),Object(c.c)(t,Kn)}};Object(c.d)(Yn);var Jn=Yn;const Xn={name:"BSwitch",props:{value:[String,Number,Boolean,Function,Object,Array,Date],nativeValue:[String,Number,Boolean,Function,Object,Array,Date],disabled:Boolean,type:String,name:String,required:Boolean,size:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array,Date],default:!1},rounded:{type:Boolean,default:!0},outlined:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,isMouseDown:!1}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},newClass:function(){return[this.size,{"is-disabled":this.disabled},{"is-rounded":this.rounded},{"is-outlined":this.outlined}]}},watch:{value:function(t){this.newValue=t}},methods:{focus:function(){this.$refs.input.focus()}}};var Qn=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"label",staticClass:"switch",class:t.newClass,attrs:{disabled:t.disabled},on:{click:t.focus,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.$refs.label.click()},mousedown:function(e){t.isMouseDown=!0},mouseup:function(e){t.isMouseDown=!1},mouseout:function(e){t.isMouseDown=!1},blur:function(e){t.isMouseDown=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",attrs:{type:"checkbox",disabled:t.disabled,name:t.name,required:t.required,"true-value":t.trueValue,"false-value":t.falseValue},domProps:{value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,r=e.target,o=r.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var c=t.nativeValue,l=t._i(n,c);r.checked?l<0&&(t.computedValue=n.concat([c])):l>-1&&(t.computedValue=n.slice(0,l).concat(n.slice(l+1)))}else t.computedValue=o}}}),t._v(" "),n("span",{staticClass:"check",class:[{"is-elastic":t.isMouseDown&&!t.disabled},t.type]}),t._v(" "),n("span",{staticClass:"control-label"},[t._t("default")],2)])},staticRenderFns:[]},void 0,Xn,void 0,!1,void 0,void 0,void 0),Zn={install:function(t){Object(c.c)(t,Qn)}};Object(c.d)(Zn);var ti,ei=Zn;const ni={name:"BTableMobileSort",components:(ti={},Object(l.a)(ti,wt.name,wt),Object(l.a)(ti,m.name,m),ti),props:{currentSortColumn:Object,sortMultipleData:Array,isAsc:Boolean,columns:Array,placeholder:String,iconPack:String,sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1}},data:function(){return{sortMultipleSelect:"",mobileSort:this.currentSortColumn,defaultEvent:{shiftKey:!0,altKey:!0,ctrlKey:!0},ignoreSort:!1}},computed:{showPlaceholder:function(){var t=this;return!this.columns||!this.columns.some((function(e){return e===t.mobileSort}))}},watch:{sortMultipleSelect:function(t){this.ignoreSort?this.ignoreSort=!1:this.$emit("sort",t,this.defaultEvent)},mobileSort:function(t){this.currentSortColumn!==t&&this.$emit("sort",t,this.defaultEvent)},currentSortColumn:function(t){this.mobileSort=t}},methods:{removePriority:function(){var t=this;this.$emit("removePriority",this.sortMultipleSelect),this.ignoreSort=!0;var e=this.sortMultipleData.filter((function(data){return data.field!==t.sortMultipleSelect.field})).map((function(data){return data.field}));this.sortMultipleSelect=this.columns.filter((function(t){return e.includes(t.field)}))[0]},getSortingObjectOfColumn:function(t){return this.sortMultipleData.filter((function(i){return i.field===t.field}))[0]},columnIsDesc:function(t){var e=this.getSortingObjectOfColumn(t);return!e||!(!e.order||"desc"!==e.order)},getLabel:function(t){var e=this.getSortingObjectOfColumn(t);return e?t.label+"("+(this.sortMultipleData.indexOf(e)+1)+")":t.label},sort:function(){this.$emit("sort",this.sortMultiple?this.sortMultipleSelect:this.mobileSort,this.defaultEvent)}}};var ii=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field table-mobile-sort"},[n("div",{staticClass:"field has-addons"},[t.sortMultiple?n("b-select",{attrs:{expanded:""},model:{value:t.sortMultipleSelect,callback:function(e){t.sortMultipleSelect=e},expression:"sortMultipleSelect"}},t._l(t.columns,(function(e,r){return e.sortable?n("option",{key:r,domProps:{value:e}},[t._v("\r\n                    "+t._s(t.getLabel(e))+"\r\n                    "),t.getSortingObjectOfColumn(e)?[t.columnIsDesc(e)?[t._v("\r\n                            ↓\r\n                        ")]:[t._v("\r\n                            ↑\r\n                        ")]]:t._e()],2):t._e()}))):n("b-select",{attrs:{expanded:""},model:{value:t.mobileSort,callback:function(e){t.mobileSort=e},expression:"mobileSort"}},[t.placeholder?[n("option",{directives:[{name:"show",rawName:"v-show",value:t.showPlaceholder,expression:"showPlaceholder"}],attrs:{selected:"",disabled:"",hidden:""},domProps:{value:{}}},[t._v("\r\n                        "+t._s(t.placeholder)+"\r\n                    ")])]:t._e(),t._v(" "),t._l(t.columns,(function(e,r){return e.sortable?n("option",{key:r,domProps:{value:e}},[t._v("\r\n                    "+t._s(e.label)+"\r\n                ")]):t._e()}))],2),t._v(" "),n("div",{staticClass:"control"},[t.sortMultiple&&t.sortMultipleData.length>0?[n("button",{staticClass:"button is-primary",on:{click:t.sort}},[n("b-icon",{class:{"is-desc":t.columnIsDesc(t.sortMultipleSelect)},attrs:{icon:t.sortIcon,pack:t.iconPack,size:t.sortIconSize,both:""}})],1),t._v(" "),n("button",{staticClass:"button is-primary",on:{click:t.removePriority}},[n("b-icon",{attrs:{icon:"delete",size:t.sortIconSize,both:""}})],1)]:t.sortMultiple?t._e():n("button",{staticClass:"button is-primary",on:{click:t.sort}},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.currentSortColumn===t.mobileSort,expression:"currentSortColumn === mobileSort"}],class:{"is-desc":!t.isAsc},attrs:{icon:t.sortIcon,pack:t.iconPack,size:t.sortIconSize,both:""}})],1)],2)],1)])},staticRenderFns:[]},void 0,ni,void 0,!1,void 0,void 0,void 0);const ri={name:"BTableColumn",props:{label:String,customKey:[String,Number],field:String,meta:[String,Number,Boolean,Function,Object,Array],width:[Number,String],numeric:Boolean,centered:Boolean,searchable:Boolean,sortable:Boolean,visible:{type:Boolean,default:!0},subheading:[String,Number],customSort:Function,sticky:Boolean,headerSelectable:{type:Boolean,default:!0},headerClass:String,cellClass:String,internal:Boolean},data:function(){return{newKey:this.customKey||this.label,_isTableColumn:!0}},computed:{rootClasses:function(){return[this.cellClass,{"has-text-right":this.numeric&&!this.centered,"has-text-centered":this.centered,"is-sticky":this.sticky}]}},beforeMount:function(){var t=this;if(!this.$parent.$data._isTable)throw this.$destroy(),new Error("You should wrap bTableColumn on a bTable");this.internal||!this.$parent.newColumns.some((function(e){return e.newKey===t.newKey}))&&this.$parent.newColumns.push(this)},beforeDestroy:function(){if(this.$parent.visibleData.length&&1===this.$parent.newColumns.length&&this.$parent.newColumns.length){var t=this.$parent.newColumns.map((function(t){return t.newKey})).indexOf(this.newKey);t>=0&&this.$parent.newColumns.splice(t,1)}}};var oi,si=Object(c.a)({render:function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("td",{class:this.rootClasses,attrs:{"data-label":this.label}},[this._t("default")],2):this._e()},staticRenderFns:[]},void 0,ri,void 0,!1,void 0,void 0,void 0);const ai={name:"BTable",components:(oi={},Object(l.a)(oi,F.name,F),Object(l.a)(oi,m.name,m),Object(l.a)(oi,w.name,w),Object(l.a)(oi,un.name,un),Object(l.a)(oi,zn.name,zn),Object(l.a)(oi,ii.name,ii),Object(l.a)(oi,si.name,si),oi),props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},bordered:Boolean,striped:Boolean,narrowed:Boolean,hoverable:Boolean,loading:Boolean,detailed:Boolean,checkable:Boolean,headerCheckable:{type:Boolean,default:!0},checkboxPosition:{type:String,default:"left",validator:function(t){return["left","right"].indexOf(t)>=0}},selected:Object,focusable:Boolean,customIsChecked:Function,isRowCheckable:{type:Function,default:function(){return!0}},checkedRows:{type:Array,default:function(){return[]}},mobileCards:{type:Boolean,default:!0},defaultSort:[String,Array],defaultSortDirection:{type:String,default:"asc"},sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1},sortMultipleData:{type:Array,default:function(){return[]}},sortMultipleKey:{type:String,default:null},paginated:Boolean,currentPage:{type:Number,default:1},perPage:{type:[Number,String],default:20},showDetailIcon:{type:Boolean,default:!0},paginationSimple:Boolean,paginationSize:String,paginationPosition:{type:String,default:"bottom",validator:function(t){return["bottom","top","both"].indexOf(t)>=0}},backendSorting:Boolean,backendFiltering:Boolean,rowClass:{type:Function,default:function(){return""}},openedDetailed:{type:Array,default:function(){return[]}},hasDetailedVisible:{type:Function,default:function(){return!0}},detailKey:{type:String,default:""},customDetailRow:{type:Boolean,default:!1},backendPagination:Boolean,total:{type:[Number,String],default:0},iconPack:String,mobileSortPlaceholder:String,customRowKey:String,draggable:{type:Boolean,default:!1},scrollable:Boolean,ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,stickyHeader:Boolean,height:[Number,String],filtersEvent:{type:String,default:""}},data:function(){return{sortMultipleDataLocal:[],getValueByPath:r.a,newColumns:Object(l.d)(this.columns),visibleDetailRows:this.openedDetailed,newData:this.data,newDataTotal:this.backendPagination?this.total:this.data.length,newCheckedRows:Object(l.d)(this.checkedRows),lastCheckedRowIndex:null,newCurrentPage:this.currentPage,currentSortColumn:{},isAsc:!0,filters:{},firstTimeSort:!0,_isTable:!0}},computed:{sortMultipleDataComputed:function(){return this.backendSorting?this.sortMultipleData:this.sortMultipleDataLocal},tableClasses:function(){return{"is-bordered":this.bordered,"is-striped":this.striped,"is-narrow":this.narrowed,"is-hoverable":(this.hoverable||this.focusable)&&this.visibleData.length}},tableWrapperClasses:function(){return{"has-mobile-cards":this.mobileCards,"has-sticky-header":this.stickyHeader,"table-container":this.isScrollable}},rooClasses:function(){return{"is-loading":this.loading}},visibleData:function(){if(!this.paginated)return this.newData;var t=this.newCurrentPage,e=this.perPage;if(this.newData.length<=e)return this.newData;var n=(t-1)*e,r=parseInt(n,10)+parseInt(e,10);return this.newData.slice(n,r)},visibleColumns:function(){return this.newColumns?this.newColumns.filter((function(t){return t.visible||void 0===t.visible})):this.newColumns},isAllChecked:function(){var t=this,e=this.visibleData.filter((function(e){return t.isRowCheckable(e)}));if(0===e.length)return!1;var n=e.some((function(e){return Object(r.b)(t.newCheckedRows,e,t.customIsChecked)<0}));return!n},isAllUncheckable:function(){var t=this;return 0===this.visibleData.filter((function(e){return t.isRowCheckable(e)})).length},hasSortablenewColumns:function(){return this.newColumns.some((function(t){return t.sortable}))},hasSearchablenewColumns:function(){return this.newColumns.some((function(t){return t.searchable}))},hasCustomSubheadings:function(){return!(!this.$scopedSlots||!this.$scopedSlots.subheading)||this.newColumns.some((function(t){return t.subheading||t.$scopedSlots&&t.$scopedSlots.subheading}))},columnCount:function(){var t=this.newColumns.length;return t+=this.checkable?1:0,t+=this.detailed&&this.showDetailIcon?1:0},showDetailRowIcon:function(){return this.detailed&&this.showDetailIcon},isScrollable:function(){return!!this.scrollable||!!this.newColumns&&this.newColumns.some((function(t){return t.sticky}))}},watch:{data:function(t){this.newData=t,this.backendSorting||this.sort(this.currentSortColumn,!0),this.backendPagination||(this.newDataTotal=t.length)},total:function(t){this.backendPagination&&(this.newDataTotal=t)},checkedRows:function(t){this.newCheckedRows=Object(l.d)(t)},columns:function(t){this.newColumns=Object(l.d)(t)},newColumns:function(t){this.checkSort()},filters:{handler:function(t){var e=this;this.backendFiltering?this.$emit("filters-change",t):(this.newData=this.data.filter((function(t){return e.isRowFiltered(t)})),this.backendPagination||(this.newDataTotal=this.newData.length))},deep:!0},openedDetailed:function(t){this.visibleDetailRows=t},currentPage:function(t){this.newCurrentPage=t}},methods:{onFiltersEvent:function(t){this.$emit("filters-event-".concat(this.filtersEvent),{event:t,filters:this.filters})},findIndexOfSortData:function(t){var e=this.sortMultipleDataComputed.filter((function(i){return i.field===t.field}))[0];return this.sortMultipleDataComputed.indexOf(e)+1},removeSortingPriority:function(t){if(this.backendSorting)this.$emit("sorting-priority-removed",t.field);else{this.sortMultipleDataLocal=this.sortMultipleDataLocal.filter((function(e){return e.field!==t.field}));var e=this.sortMultipleDataLocal.map((function(i){return(i.order&&"desc"===i.order?"-":"")+i.field}));this.newData=Object(r.e)(this.newData,e)}},resetMultiSorting:function(){this.sortMultipleDataLocal=[],this.currentSortColumn={},this.newData=this.data},sortBy:function(t,e,n,o){return n&&"function"==typeof n?Object(l.d)(t).sort((function(a,b){return n(a,b,o)})):Object(l.d)(t).sort((function(a,b){var t=Object(r.a)(a,e),n=Object(r.a)(b,e);return"boolean"==typeof t&&"boolean"==typeof n?o?t-n:n-t:t||0===t?n||0===n?t===n?0:(t="string"==typeof t?t.toUpperCase():t,n="string"==typeof n?n.toUpperCase():n,o?t>n?1:-1:t>n?-1:1):-1:1}))},sortMultiColumn:function(t){if(this.currentSortColumn={},!this.backendSorting){var e=this.sortMultipleDataLocal.filter((function(i){return i.field===t.field}))[0];e?e.order="desc"===e.order?"asc":"desc":this.sortMultipleDataLocal.push({field:t.field,order:t.isAsc});var n=this.sortMultipleDataLocal.map((function(i){return(i.order&&"desc"===i.order?"-":"")+i.field}));this.newData=Object(r.e)(this.newData,n)}},sort:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.backendSorting&&this.sortMultiple&&(this.sortMultipleKey&&n[this.sortMultipleKey]||!this.sortMultipleKey))this.sortMultiColumn(t);else{if(!t||!t.sortable)return;this.sortMultiple&&(this.sortMultipleDataLocal=[]),e||(this.isAsc=t===this.currentSortColumn?!this.isAsc:"desc"!==this.defaultSortDirection.toLowerCase()),this.firstTimeSort||this.$emit("sort",t.field,this.isAsc?"asc":"desc",n),this.backendSorting||(this.newData=this.sortBy(this.newData,t.field,t.customSort,this.isAsc)),this.currentSortColumn=t}},isRowChecked:function(t){return Object(r.b)(this.newCheckedRows,t,this.customIsChecked)>=0},removeCheckedRow:function(t){var e=Object(r.b)(this.newCheckedRows,t,this.customIsChecked);e>=0&&this.newCheckedRows.splice(e,1)},checkAll:function(){var t=this,e=this.isAllChecked;this.visibleData.forEach((function(n){t.isRowCheckable(n)&&t.removeCheckedRow(n),e||t.isRowCheckable(n)&&t.newCheckedRows.push(n)})),this.$emit("check",this.newCheckedRows),this.$emit("check-all",this.newCheckedRows),this.$emit("update:checkedRows",this.newCheckedRows)},checkRow:function(t,e,n){if(this.isRowCheckable(t)){var r=this.lastCheckedRowIndex;this.lastCheckedRowIndex=e,n.shiftKey&&null!==r&&e!==r?this.shiftCheckRow(t,e,r):this.isRowChecked(t)?this.removeCheckedRow(t):this.newCheckedRows.push(t),this.$emit("check",this.newCheckedRows,t),this.$emit("update:checkedRows",this.newCheckedRows)}},shiftCheckRow:function(t,e,n){var r=this,o=this.visibleData.slice(Math.min(e,n),Math.max(e,n)+1),c=!this.isRowChecked(t);o.forEach((function(t){r.removeCheckedRow(t),c&&r.isRowCheckable(t)&&r.newCheckedRows.push(t)}))},selectRow:function(t,e){this.$emit("click",t),this.selected!==t&&(this.$emit("select",t,this.selected),this.$emit("update:selected",t))},pageChanged:function(t){this.newCurrentPage=t>0?t:1,this.$emit("page-change",this.newCurrentPage),this.$emit("update:currentPage",this.newCurrentPage)},toggleDetails:function(t){this.isVisibleDetailRow(t)?(this.closeDetailRow(t),this.$emit("details-close",t)):(this.openDetailRow(t),this.$emit("details-open",t)),this.$emit("update:openedDetailed",this.visibleDetailRows)},openDetailRow:function(t){var e=this.handleDetailKey(t);this.visibleDetailRows.push(e)},closeDetailRow:function(t){var e=this.handleDetailKey(t),i=this.visibleDetailRows.indexOf(e);this.visibleDetailRows.splice(i,1)},isVisibleDetailRow:function(t){var e=this.handleDetailKey(t);return this.visibleDetailRows.indexOf(e)>=0},isActiveDetailRow:function(t){return this.detailed&&!this.customDetailRow&&this.isVisibleDetailRow(t)},isActiveCustomDetailRow:function(t){return this.detailed&&this.customDetailRow&&this.isVisibleDetailRow(t)},isRowFiltered:function(t){for(var e in this.filters){if(!this.filters[e])return delete this.filters[e],!0;var n=this.getValueByPath(t,e);if(null==n)return!1;if(Number.isInteger(n)){if(n!==Number(this.filters[e]))return!1}else{var r=new RegExp(this.filters[e],"i");if("boolean"==typeof n&&(n="".concat(n)),!n.match(r))return!1}}return!0},handleDetailKey:function(t){var e=this.detailKey;return e.length&&t?t[e]:t},checkPredefinedDetailedRows:function(){if(this.openedDetailed.length>0&&!this.detailKey.length)throw new Error('If you set a predefined opened-detailed, you must provide a unique key using the prop "detail-key"')},checkSort:function(){if(this.newColumns.length&&this.firstTimeSort)this.initSort(),this.firstTimeSort=!1;else if(this.newColumns.length&&this.currentSortColumn.field)for(var i=0;i<this.newColumns.length;i++)if(this.newColumns[i].field===this.currentSortColumn.field){this.currentSortColumn=this.newColumns[i];break}},hasCustomFooterSlot:function(){if(this.$slots.footer.length>1)return!0;var t=this.$slots.footer[0].tag;return"th"===t||"td"===t},hasBottomLeftSlot:function(){return void 0!==this.$slots["bottom-left"]},pressedArrow:function(t){if(this.visibleData.length){var e=this.visibleData.indexOf(this.selected)+t;e=e<0?0:e>this.visibleData.length-1?this.visibleData.length-1:e,this.selectRow(this.visibleData[e])}},focus:function(){this.focusable&&this.$el.querySelector("table").focus()},initSort:function(){var t=this;if(this.defaultSort){var e="",n=this.defaultSortDirection;Array.isArray(this.defaultSort)?(e=this.defaultSort[0],this.defaultSort[1]&&(n=this.defaultSort[1])):e=this.defaultSort,this.newColumns.forEach((function(r){r.field===e&&(t.isAsc="desc"!==n.toLowerCase(),t.sort(r,!0))}))}},handleDragStart:function(t,e,n){this.$emit("dragstart",{event:t,row:e,index:n})},handleDragEnd:function(t,e,n){this.$emit("dragend",{event:t,row:e,index:n})},handleDrop:function(t,e,n){this.$emit("drop",{event:t,row:e,index:n})},handleDragOver:function(t,e,n){this.$emit("dragover",{event:t,row:e,index:n})},handleDragLeave:function(t,e,n){this.$emit("dragleave",{event:t,row:e,index:n})}},mounted:function(){this.checkPredefinedDetailedRows(),this.checkSort()},beforeDestroy:function(){this.newData=[],this.newColumns=[]}};var ui=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-table",class:t.rooClasses},[t.mobileCards&&t.hasSortablenewColumns?n("b-table-mobile-sort",{attrs:{"current-sort-column":t.currentSortColumn,"sort-multiple":t.sortMultiple,"sort-multiple-data":t.sortMultipleDataComputed,"is-asc":t.isAsc,columns:t.newColumns,placeholder:t.mobileSortPlaceholder,"icon-pack":t.iconPack,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize},on:{sort:function(e,n){return t.sort(e,null,n)},removePriority:function(e){return t.removeSortingPriority(e)}}}):t._e(),t._v(" "),!t.paginated||"top"!==t.paginationPosition&&"both"!==t.paginationPosition?t._e():n("div",{staticClass:"top level"},[n("div",{staticClass:"level-left"},[t._t("top-left")],2),t._v(" "),n("div",{staticClass:"level-right"},[t.paginated?n("div",{staticClass:"level-item"},[n("b-pagination",{attrs:{"icon-pack":t.iconPack,total:t.newDataTotal,"per-page":t.perPage,simple:t.paginationSimple,size:t.paginationSize,current:t.newCurrentPage,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel},on:{change:t.pageChanged}})],1):t._e()])]),t._v(" "),n("div",{staticClass:"table-wrapper",class:t.tableWrapperClasses,style:{height:void 0===t.height?null:isNaN(t.height)?t.height:t.height+"px"}},[n("table",{staticClass:"table",class:t.tableClasses,attrs:{tabindex:!!t.focusable&&0},on:{keydown:[function(e){return!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])||e.target!==e.currentTarget?null:(e.preventDefault(),void t.pressedArrow(-1))},function(e){return!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])||e.target!==e.currentTarget?null:(e.preventDefault(),void t.pressedArrow(1))}]}},[t.newColumns.length?n("thead",[n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("th",{staticClass:"checkbox-cell"},[t.headerCheckable?[n("b-checkbox",{attrs:{value:t.isAllChecked,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})]:t._e()],2):t._e(),t._v(" "),t._l(t.visibleColumns,(function(e,r){return n("th",{key:r,class:[e.headerClass,{"is-current-sort":!t.sortMultiple&&t.currentSortColumn===e,"is-sortable":e.sortable,"is-sticky":e.sticky,"is-unselectable":!e.headerSelectable}],style:{width:void 0===e.width?null:isNaN(e.width)?e.width:e.width+"px"},on:{click:function(n){n.stopPropagation(),t.sort(e,null,n)}}},[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered}},[e.$scopedSlots&&e.$scopedSlots.header?[n("b-slot-component",{attrs:{component:e,scoped:!0,name:"header",tag:"span",props:{column:e,index:r}}})]:t.$scopedSlots.header?[t._t("header",null,{column:e,index:r})]:[t._v(t._s(e.label))],t._v(" "),t.sortMultiple&&t.sortMultipleDataComputed&&t.sortMultipleDataComputed.length>0&&t.sortMultipleDataComputed.filter((function(i){return i.field===e.field})).length>0?[n("b-icon",{class:{"is-desc":"desc"===t.sortMultipleDataComputed.filter((function(i){return i.field===e.field}))[0].order},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}}),t._v("\r\n                                    "+t._s(t.findIndexOfSortData(e))+"\r\n                                    "),n("button",{staticClass:"delete is-small multi-sort-cancel-icon",attrs:{type:"button"},on:{click:function(n){n.stopPropagation(),t.removeSortingPriority(e)}}})]:e.sortable&&!t.sortMultiple?n("b-icon",{class:{"is-desc":!t.isAsc,"is-invisible":t.currentSortColumn!==e},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}}):t._e()],2)])})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("th",{staticClass:"checkbox-cell"},[t.headerCheckable?[n("b-checkbox",{attrs:{value:t.isAllChecked,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})]:t._e()],2):t._e()],2),t._v(" "),t.hasCustomSubheadings?n("tr",{staticClass:"is-subheading"},[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._v(" "),t._l(t.visibleColumns,(function(e,r){return n("th",{key:r,style:{width:void 0===e.width?null:isNaN(e.width)?e.width:e.width+"px"}},[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered}},[e.$scopedSlots&&e.$scopedSlots.subheading?[n("b-slot-component",{attrs:{component:e,scoped:!0,name:"subheading",tag:"span",props:{column:e,index:r}}})]:t.$scopedSlots.subheading?[t._t("subheading",null,{column:e,index:r})]:[t._v(t._s(e.subheading))]],2)])})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e(),t._v(" "),t.hasSearchablenewColumns?n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._v(" "),t._l(t.visibleColumns,(function(e,r){return n("th",{key:r,style:{width:void 0===e.width?null:isNaN(e.width)?e.width:e.width+"px"}},[n("div",{staticClass:"th-wrap"},[e.searchable?[n("b-input",{attrs:{type:e.numeric?"number":"text"},nativeOn:{"[filtersEvent]":function(e){return t.onFiltersEvent(e)}},model:{value:t.filters[e.field],callback:function(n){t.$set(t.filters,e.field,n)},expression:"filters[column.field]"}})]:t._e()],2)])})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e()]):t._e(),t._v(" "),t.visibleData.length?n("tbody",[t._l(t.visibleData,(function(e,r){return[n("tr",{key:t.customRowKey?e[t.customRowKey]:r,class:[t.rowClass(e,r),{"is-selected":e===t.selected,"is-checked":t.isRowChecked(e)}],attrs:{draggable:t.draggable},on:{click:function(n){t.selectRow(e)},dblclick:function(n){t.$emit("dblclick",e)},mouseenter:function(n){t.$listeners.mouseenter&&t.$emit("mouseenter",e)},mouseleave:function(n){t.$listeners.mouseleave&&t.$emit("mouseleave",e)},contextmenu:function(n){t.$emit("contextmenu",e,n)},dragstart:function(n){t.handleDragStart(n,e,r)},dragend:function(n){t.handleDragEnd(n,e,r)},drop:function(n){t.handleDrop(n,e,r)},dragover:function(n){t.handleDragOver(n,e,r)},dragleave:function(n){t.handleDragLeave(n,e,r)}}},[t.showDetailRowIcon?n("td",{staticClass:"chevron-cell"},[t.hasDetailedVisible(e)?n("a",{attrs:{role:"button"},on:{click:function(n){n.stopPropagation(),t.toggleDetails(e)}}},[n("b-icon",{class:{"is-expanded":t.isVisibleDetailRow(e)},attrs:{icon:"chevron-right",pack:t.iconPack,both:""}})],1):t._e()]):t._e(),t._v(" "),t.checkable&&"left"===t.checkboxPosition?n("td",{staticClass:"checkbox-cell"},[n("b-checkbox",{attrs:{disabled:!t.isRowCheckable(e),value:t.isRowChecked(e)},nativeOn:{click:function(n){n.preventDefault(),n.stopPropagation(),t.checkRow(e,r,n)}}})],1):t._e(),t._v(" "),t.$scopedSlots.default?t._t("default",null,{row:e,index:r}):t._l(t.newColumns,(function(r){return n("BTableColumn",t._b({key:r.customKey||r.label,attrs:{internal:""}},"BTableColumn",r,!1),[r.renderHtml?n("span",{domProps:{innerHTML:t._s(t.getValueByPath(e,r.field))}}):[t._v("\r\n                                        "+t._s(t.getValueByPath(e,r.field))+"\r\n                                    ")]],2)})),t._v(" "),t.checkable&&"right"===t.checkboxPosition?n("td",{staticClass:"checkbox-cell"},[n("b-checkbox",{attrs:{disabled:!t.isRowCheckable(e),value:t.isRowChecked(e)},nativeOn:{click:function(n){n.preventDefault(),n.stopPropagation(),t.checkRow(e,r,n)}}})],1):t._e()],2),t._v(" "),t.isActiveDetailRow(e)?n("tr",{staticClass:"detail"},[n("td",{attrs:{colspan:t.columnCount}},[n("div",{staticClass:"detail-container"},[t._t("detail",null,{row:e,index:r})],2)])]):t._e(),t._v(" "),t.isActiveCustomDetailRow(e)?t._t("detail",null,{row:e,index:r}):t._e()]}))],2):n("tbody",[n("tr",{staticClass:"is-empty"},[n("td",{attrs:{colspan:t.columnCount}},[t._t("empty")],2)])]),t._v(" "),void 0!==t.$slots.footer?n("tfoot",[n("tr",{staticClass:"table-footer"},[t.hasCustomFooterSlot()?t._t("footer"):n("th",{attrs:{colspan:t.columnCount}},[t._t("footer")],2)],2)]):t._e()])]),t._v(" "),t.checkable&&t.hasBottomLeftSlot()||t.paginated&&("bottom"===t.paginationPosition||"both"===t.paginationPosition)?n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[t._t("bottom-left")],2),t._v(" "),n("div",{staticClass:"level-right"},[t.paginated?n("div",{staticClass:"level-item"},[n("b-pagination",{attrs:{"icon-pack":t.iconPack,total:t.newDataTotal,"per-page":t.perPage,simple:t.paginationSimple,size:t.paginationSize,current:t.newCurrentPage,"aria-next-label":t.ariaNextLabel,"aria-previous-label":t.ariaPreviousLabel,"aria-page-label":t.ariaPageLabel,"aria-current-label":t.ariaCurrentLabel},on:{change:t.pageChanged}})],1):t._e()])]):t._e()],1)},staticRenderFns:[]},void 0,ai,void 0,!1,void 0,void 0,void 0),ci={install:function(t){Object(c.c)(t,ui),Object(c.c)(t,si)}};Object(c.d)(ci);var hi,table=ci;const fi={name:"BTabs",components:(hi={},Object(l.a)(hi,m.name,m),Object(l.a)(hi,zn.name,zn),hi),props:{value:Number,expanded:Boolean,type:String,size:String,position:String,animated:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1},vertical:Boolean,multiline:Boolean},data:function(){return{activeTab:this.value||0,defaultSlots:[],contentHeight:0,isTransitioning:!1,_isTabs:!0}},computed:{mainClasses:function(){return Object(l.a)({"is-fullwidth":this.expanded,"is-vertical":this.vertical,"is-multiline":this.multiline},this.position,this.position&&this.vertical)},navClasses:function(){var t;return[this.type,this.size,(t={},Object(l.a)(t,this.position,this.position&&!this.vertical),Object(l.a)(t,"is-fullwidth",this.expanded),Object(l.a)(t,"is-toggle-rounded is-toggle","is-toggle-rounded"===this.type),t)]},tabItems:function(){return this.defaultSlots.filter((function(t){return t.componentInstance&&t.componentInstance.$data&&t.componentInstance.$data._isTabItem})).map((function(t){return t.componentInstance}))}},watch:{value:function(t){this.changeTab(t)},tabItems:function(){this.activeTab<this.tabItems.length&&(this.tabItems[this.activeTab].isActive=!0)}},methods:{refreshSlots:function(){this.defaultSlots=this.$slots.default||[]},changeTab:function(t){this.activeTab!==t&&void 0!==this.tabItems[t]&&(this.activeTab<this.tabItems.length&&this.tabItems[this.activeTab].deactivate(this.activeTab,t),this.tabItems[t].activate(this.activeTab,t),this.activeTab=t,this.$emit("change",t))},tabClick:function(t){this.activeTab!==t&&(this.$emit("input",t),this.changeTab(t))}},mounted:function(){this.activeTab<this.tabItems.length&&(this.tabItems[this.activeTab].isActive=!0),this.refreshSlots()}};var di=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-tabs",class:t.mainClasses},[n("nav",{staticClass:"tabs",class:t.navClasses},[n("ul",t._l(t.tabItems,(function(e,r){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"tabItem.visible"}],key:r,class:{"is-active":t.activeTab===r,"is-disabled":e.disabled}},[e.$slots.header?n("b-slot-component",{attrs:{component:e,name:"header",tag:"a"},nativeOn:{click:function(e){t.tabClick(r)}}}):n("a",{on:{click:function(e){t.tabClick(r)}}},[e.icon?n("b-icon",{attrs:{icon:e.icon,pack:e.iconPack,size:t.size}}):t._e(),t._v(" "),n("span",[t._v(t._s(e.label))])],1)],1)})))]),t._v(" "),n("section",{staticClass:"tab-content",class:{"is-transitioning":t.isTransitioning}},[t._t("default")],2)])},staticRenderFns:[]},void 0,fi,void 0,!1,void 0,void 0,void 0);const pi={name:"BTabItem",props:{label:String,icon:String,iconPack:String,disabled:Boolean,visible:{type:Boolean,default:!0}},data:function(){return{isActive:!1,transitionName:null,_isTabItem:!0}},methods:{activate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!0},deactivate:function(t,e){this.transitionName=e<t?"slide-next":"slide-prev",this.isActive=!1}},created:function(){if(!this.$parent.$data._isTabs)throw this.$destroy(),new Error("You should wrap bTabItem on a bTabs");this.$parent.refreshSlots()},beforeDestroy:function(){this.$parent.refreshSlots()},render:function(t){var e=this;if(!this.$parent.destroyOnHide||this.isActive&&this.visible){var n=t("div",{directives:[{name:"show",value:this.isActive&&this.visible}],class:"tab-item"},this.$slots.default);return this.$parent.animated?t("transition",{props:{name:this.transitionName},on:{"before-enter":function(){e.$parent.isTransitioning=!0},"after-enter":function(){e.$parent.isTransitioning=!1}}},[n]):n}}};var vi=Object(c.a)({},void 0,pi,void 0,void 0,void 0,void 0,void 0),mi={install:function(t){Object(c.c)(t,di),Object(c.c)(t,vi)}};Object(c.d)(mi);var gi=mi;const yi={name:"BTag",props:{attached:Boolean,closable:Boolean,type:String,size:String,rounded:Boolean,disabled:Boolean,ellipsis:Boolean,tabstop:{type:Boolean,default:!0},ariaCloseLabel:String},methods:{close:function(t){this.disabled||this.$emit("close",t)}}};var bi=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.attached&&t.closable?n("div",{staticClass:"tags has-addons"},[n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[n("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2)]),t._v(" "),n("a",{staticClass:"tag is-delete",class:[t.size,{"is-rounded":t.rounded}],attrs:{role:"button","aria-label":t.ariaCloseLabel,tabindex:!!t.tabstop&&0,disabled:t.disabled},on:{click:t.close,keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close(e))}}})]):n("span",{staticClass:"tag",class:[t.type,t.size,{"is-rounded":t.rounded}]},[n("span",{class:{"has-ellipsis":t.ellipsis}},[t._t("default")],2),t._v(" "),t.closable?n("a",{staticClass:"delete is-small",attrs:{role:"button","aria-label":t.ariaCloseLabel,disabled:t.disabled,tabindex:!!t.tabstop&&0},on:{click:t.close,keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close(e))}}}):t._e()])},staticRenderFns:[]},void 0,yi,void 0,!1,void 0,void 0,void 0);const wi={name:"BTaglist",props:{attached:Boolean}};var _i=Object(c.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tags",class:{"has-addons":this.attached}},[this._t("default")],2)},staticRenderFns:[]},void 0,wi,void 0,!1,void 0,void 0,void 0),Si={install:function(t){Object(c.c)(t,bi),Object(c.c)(t,_i)}};Object(c.d)(Si);var Ii,ki=Si;const Ei={name:"BTaginput",components:(Ii={},Object(l.a)(Ii,S.name,S),Object(l.a)(Ii,bi.name,bi),Ii),mixins:[h],inheritAttrs:!1,props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},type:String,rounded:{type:Boolean,default:!1},attached:{type:Boolean,default:!1},maxtags:{type:[Number,String],required:!1},hasCounter:{type:Boolean,default:function(){return o.c.defaultTaginputHasCounter}},field:{type:String,default:"value"},autocomplete:Boolean,nativeAutocomplete:String,openOnFocus:Boolean,disabled:Boolean,ellipsis:Boolean,closable:{type:Boolean,default:!0},confirmKeyCodes:{type:Array,default:function(){return[13,188]}},removeOnKeys:{type:Array,default:function(){return[8]}},allowNew:Boolean,onPasteSeparators:{type:Array,default:function(){return[","]}},beforeAdding:{type:Function,default:function(){return!0}},allowDuplicates:{type:Boolean,default:!1},checkInfiniteScroll:{type:Boolean,default:!1}},data:function(){return{tags:Array.isArray(this.value)?this.value.slice(0):this.value||[],newTag:"",_elementRef:"input",_isTaginput:!0}},computed:{rootClasses:function(){return{"is-expanded":this.expanded}},containerClasses:function(){return{"is-focused":this.isFocused,"is-focusable":this.hasInput}},valueLength:function(){return this.newTag.trim().length},defaultSlotName:function(){return this.hasDefaultSlot?"default":"dontrender"},emptySlotName:function(){return this.hasEmptySlot?"empty":"dontrender"},headerSlotName:function(){return this.hasHeaderSlot?"header":"dontrender"},footerSlotName:function(){return this.hasFooterSlot?"footer":"dontrender"},hasDefaultSlot:function(){return!!this.$scopedSlots.default},hasEmptySlot:function(){return!!this.$slots.empty},hasHeaderSlot:function(){return!!this.$slots.header},hasFooterSlot:function(){return!!this.$slots.footer},hasInput:function(){return null==this.maxtags||this.tagsLength<this.maxtags},tagsLength:function(){return this.tags.length},separatorsAsRegExp:function(){var t=this.onPasteSeparators;return t.length?new RegExp(t.map((function(s){return s?s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null})).join("|"),"g"):null}},watch:{value:function(t){this.tags=t},hasInput:function(){this.hasInput||this.onBlur()}},methods:{addTag:function(t){var e=t||this.newTag.trim();if(e){if(!this.autocomplete){var n=this.separatorsAsRegExp;if(n&&e.match(n))return void e.split(n).map((function(t){return t.trim()})).filter((function(t){return 0!==t.length})).map(this.addTag)}(!!this.allowDuplicates||-1===this.tags.indexOf(e))&&this.beforeAdding(e)&&(this.tags.push(e),this.$emit("input",this.tags),this.$emit("add",e))}this.newTag=""},getNormalizedTagText:function(t){return"object"===Object(l.c)(t)?Object(r.a)(t,this.field):t},customOnBlur:function(t){this.autocomplete||this.addTag(),this.onBlur(t)},onSelect:function(option){var t=this;option&&(this.addTag(option),this.$nextTick((function(){t.newTag=""})))},removeTag:function(t,e){var n=this.tags.splice(t,1)[0];return this.$emit("input",this.tags),this.$emit("remove",n),e&&r.c.any()&&e.stopPropagation(),n},removeLastTag:function(){var t=this;this.tagsLength>0&&(this.removeTag(this.tagsLength-1),this.$nextTick((function(){t.isFocused&&t.openOnFocus&&(t.$refs.autocomplete.isActive=!0)})))},keydown:function(t){-1===this.removeOnKeys.indexOf(t.keyCode)||this.newTag.length||this.removeLastTag(),this.autocomplete&&!this.allowNew||this.confirmKeyCodes.indexOf(t.keyCode)>=0&&(t.preventDefault(),this.addTag())},onTyping:function(t){this.$emit("typing",t.trim())},emitInfiniteScroll:function(){this.$emit("infinite-scroll")}}};var Ti=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taginput control",class:t.rootClasses},[n("div",{staticClass:"taginput-container",class:[t.statusType,t.size,t.containerClasses],attrs:{disabled:t.disabled},on:{click:function(e){t.hasInput&&t.focus(e)}}},[t._t("selected",t._l(t.tags,(function(e,r){return n("b-tag",{key:t.getNormalizedTagText(e)+r,attrs:{type:t.type,size:t.size,rounded:t.rounded,attached:t.attached,tabstop:!1,disabled:t.disabled,ellipsis:t.ellipsis,closable:t.closable,title:t.ellipsis&&t.getNormalizedTagText(e)},on:{close:function(e){t.removeTag(r,e)}}},[t._t("tag",[t._v("\r\n                        "+t._s(t.getNormalizedTagText(e))+"\r\n                    ")],{tag:e})],2)})),{tags:t.tags}),t._v(" "),t.hasInput?n("b-autocomplete",t._b({ref:"autocomplete",attrs:{data:t.data,field:t.field,icon:t.icon,"icon-pack":t.iconPack,maxlength:t.maxlength,"has-counter":!1,size:t.size,disabled:t.disabled,loading:t.loading,autocomplete:t.nativeAutocomplete,"open-on-focus":t.openOnFocus,"keep-open":t.openOnFocus,"keep-first":!t.allowNew,"use-html5-validation":t.useHtml5Validation,"check-infinite-scroll":t.checkInfiniteScroll},on:{typing:t.onTyping,focus:t.onFocus,blur:t.customOnBlur,select:t.onSelect,"infinite-scroll":t.emitInfiniteScroll},nativeOn:{keydown:function(e){return t.keydown(e)}},scopedSlots:t._u([{key:t.defaultSlotName,fn:function(e){return[t._t("default",null,{option:e.option,index:e.index})]}}]),model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}},"b-autocomplete",t.$attrs,!1),[n("template",{slot:t.headerSlotName},[t._t("header")],2),t._v(" "),n("template",{slot:t.emptySlotName},[t._t("empty")],2),t._v(" "),n("template",{slot:t.footerSlotName},[t._t("footer")],2)],2):t._e()],2),t._v(" "),t.hasCounter&&(t.maxtags||t.maxlength)?n("small",{staticClass:"help counter"},[t.maxlength&&t.valueLength>0?[t._v("\r\n                "+t._s(t.valueLength)+" / "+t._s(t.maxlength)+"\r\n            ")]:t.maxtags?[t._v("\r\n                "+t._s(t.tagsLength)+" / "+t._s(t.maxtags)+"\r\n            ")]:t._e()],2):t._e()])},staticRenderFns:[]},void 0,Ei,void 0,!1,void 0,void 0,void 0),Di={install:function(t){Object(c.c)(t,Ti)}};Object(c.d)(Di);var Ai=Di,Ci={install:function(t){Object(c.c)(t,Lt)}};Object(c.d)(Ci);var Ni=Ci,Oi=n(58),xi={install:function(t){Object(c.c)(t,Dn)}};Object(c.d)(xi);var Pi=xi;const Ri={name:"BUpload",mixins:[h],inheritAttrs:!1,props:{value:{type:[Object,Function,re,Array]},multiple:Boolean,disabled:Boolean,accept:String,dragDrop:Boolean,type:{type:String,default:"is-primary"},native:{type:Boolean,default:!1}},data:function(){return{newValue:this.value,dragDropFocus:!1,_elementRef:"input"}},watch:{value:function(t){var e=this.$refs.input.files;this.newValue=t,(!this.newValue||Array.isArray(this.newValue)&&0===this.newValue.length||!e[0]||Array.isArray(this.newValue)&&!this.newValue.some((function(a){return a.name===e[0].name})))&&(this.$refs.input.value=null),!this.isValid&&!this.dragDrop&&this.checkHtml5Validity()}},methods:{onFileChange:function(t){if(!this.disabled&&!this.loading){this.dragDrop&&this.updateDragDropFocus(!1);var e=t.target.files||t.dataTransfer.files;if(0===e.length){if(!this.newValue)return;this.native&&(this.newValue=null)}else if(this.multiple){var n=!1;!this.native&&this.newValue||(this.newValue=[],n=!0);for(var i=0;i<e.length;i++){var r=e[i];this.checkType(r)&&(this.newValue.push(r),n=!0)}if(!n)return}else{if(this.dragDrop&&1!==e.length)return;var o=e[0];if(this.checkType(o))this.newValue=o;else{if(!this.newValue)return;this.newValue=null}}this.$emit("input",this.newValue),!this.dragDrop&&this.checkHtml5Validity()}},updateDragDropFocus:function(t){this.disabled||this.loading||(this.dragDropFocus=t)},checkType:function(t){if(!this.accept)return!0;var e=this.accept.split(",");if(0===e.length)return!0;for(var n=!1,i=0;i<e.length&&!n;i++){var r=e[i].trim();if(r)if("."===r.substring(0,1)){var o=t.name.lastIndexOf(".");(o>=0?t.name.substring(o):"").toLowerCase()===r.toLowerCase()&&(n=!0)}else t.type.match(r)&&(n=!0)}return n}}};var Mi=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"upload control"},[t.dragDrop?n("div",{staticClass:"upload-draggable",class:[t.type,{"is-loading":t.loading,"is-disabled":t.disabled,"is-hovered":t.dragDropFocus}],on:{dragover:function(e){e.preventDefault(),t.updateDragDropFocus(!0)},dragleave:function(e){e.preventDefault(),t.updateDragDropFocus(!1)},dragenter:function(e){e.preventDefault(),t.updateDragDropFocus(!0)},drop:function(e){return e.preventDefault(),t.onFileChange(e)}}},[t._t("default")],2):[t._t("default")],t._v(" "),n("input",t._b({ref:"input",attrs:{type:"file",multiple:t.multiple,accept:t.accept,disabled:t.disabled},on:{change:t.onFileChange}},"input",t.$attrs,!1))],2)},staticRenderFns:[]},void 0,Ri,void 0,!1,void 0,void 0,void 0),Li={install:function(t){Object(c.c)(t,Mi)}};Object(c.d)(Li);var ji=Li,Vi=Object.freeze({Autocomplete:k,Button:A,Carousel:L,Checkbox:z,Clockpicker:yt,Collapse:Y,Datepicker:Pt,Datetimepicker:Bt,Dialog:dialog,Dropdown:Jt,Field:Qt,Icon:te,Input:input,Loading:le,Menu:menu,Message:Ie,Modal:Te,Navbar:Qe,Notification:Me,Numberinput:nn,Pagination:ln,Progress:progress,Radio:bn,Rate:In,Select:En,Slider:Ln,Snackbar:qn,Steps:Jn,Switch:ei,Table:table,Tabs:gi,Tag:ki,Taginput:Ai,Timepicker:Ni,Toast:Oi.b,Tooltip:Pi,Upload:ji}),Fi={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in Object(o.d)(t),Object(o.b)(Object(r.d)(o.c,e,!0)),Vi)t.use(Vi[n]);var l={getOptions:function(){return o.c},setOptions:function(t){Object(o.b)(Object(r.d)(o.c,t,!0))}};Object(c.b)(t,"config",l)}};Object(c.d)(Fi);e.a=Fi},131:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))}},133:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function l(t,source,e){return t.concat(source).map((function(element){return c(element,e)}))}function h(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function f(object,t){try{return t in object}catch(t){return!1}}function d(t,source,e){var n={};return e.isMergeableObject(t)&&h(t).forEach((function(r){n[r]=c(t[r],e)})),h(source).forEach((function(r){(function(t,e){return f(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(f(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return v;var n=e.customMerge(t);return"function"==typeof n?n:v}(r,e)(t[r],source[r],e):n[r]=c(source[r],e))})),n}function v(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||l,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):d(t,source,e):c(source,e)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return v(t,n,e)}),{})};var m=v;t.exports=m},137:function(t,e,n){"use strict";n.r(e),n.d(e,"Inject",(function(){return c})),n.d(e,"InjectReactive",(function(){return l})),n.d(e,"Provide",(function(){return d})),n.d(e,"ProvideReactive",(function(){return v})),n.d(e,"Model",(function(){return w})),n.d(e,"Prop",(function(){return _})),n.d(e,"PropSync",(function(){return S})),n.d(e,"Watch",(function(){return I})),n.d(e,"Emit",(function(){return E})),n.d(e,"Ref",(function(){return T}));var r=n(4);n.d(e,"Vue",(function(){return r.default}));var o=n(11);n.d(e,"Component",(function(){return o.default})),n.d(e,"Mixins",(function(){return o.mixins}));function c(t){return Object(o.createDecorator)((function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function l(t){return Object(o.createDecorator)((function(e,n){if(void 0===e.inject&&(e.inject={}),!Array.isArray(e.inject)){var r=t?t.from||t:n,o=!!t&&t.default||void 0;e.computed||(e.computed={}),e.computed[n]=function(){var t=this.__reactiveInject__;return t?t[r]:o},e.inject.__reactiveInject__="__reactiveInject__"}}))}function h(t){var e=function(){var n=this,r="function"==typeof t?t.call(this):t;for(var i in(r=Object.create(r||null)).__reactiveInject__=this.__reactiveInject__||{},e.managed)r[e.managed[i]]=this[i];var o=function(i){r[e.managedReactive[i]]=c[i],Object.defineProperty(r.__reactiveInject__,e.managedReactive[i],{enumerable:!0,get:function(){return n[i]}})},c=this;for(var i in e.managedReactive)o(i);return r};return e.managed={},e.managedReactive={},e}function f(t){return"function"!=typeof t||!t.managed&&!t.managedReactive}function d(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;f(r)&&(r=e.provide=h(r)),r.managed[n]=t||n}))}function v(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject.__reactiveInject__={from:"__reactiveInject__",default:{}}),f(r)&&(r=e.provide=h(r)),r.managedReactive[n]=t||n}))}var m="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function y(t,e,n){m&&(Array.isArray(t)||"function"==typeof t||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function w(t,e){return void 0===e&&(e={}),function(n,r){y(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[r]=e,n.model={prop:r,event:t||r}}))(n,r)}}function _(t){return void 0===t&&(t={}),function(e,n){y(t,e,n),Object(o.createDecorator)((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function S(t,e){return void 0===e&&(e={}),function(n,r){y(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[t]=e,(n.computed||(n.computed={}))[r]={get:function(){return this[t]},set:function(e){this.$emit("update:"+t,e)}}}))(n,r)}}function I(path,t){void 0===t&&(t={});var e=t.deep,n=void 0!==e&&e,r=t.immediate,c=void 0!==r&&r;return Object(o.createDecorator)((function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var r=t.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:e,deep:n,immediate:c})}))}var k=/\B([A-Z])/g;function E(t){return function(e,n,r){n=n.replace(k,"-$1").toLowerCase();var o=r.value;r.value=function(){for(var e=this,r=[],c=0;c<arguments.length;c++)r[c]=arguments[c];var l=function(o){void 0!==o&&r.unshift(o),e.$emit.apply(e,[t||n].concat(r))},h=o.apply(this,r);return D(h)?h.then((function(t){l(t)})):l(h),h}}}function T(t){return Object(o.createDecorator)((function(e,n){e.computed=e.computed||{},e.computed[n]={cache:!1,get:function(){return this.$refs[t||n]}}}))}function D(t){return t instanceof Promise||t&&"function"==typeof t.then}},181:function(t,e,n){"use strict";n(182)},182:function(t,e,n){"use strict";(function(t){var e=n(6),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,t){a!=Array.prototype&&a!=Object.prototype&&(a[b]=t.value)};var o=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,a];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}return globalThis}(this);function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var t=o;a=a.split(".");for(var e=0;e<a.length-1;e++){var r=a[e];r in t||(t[r]={}),t=t[r]}(b=b(e=t[a=a[a.length-1]]))!=e&&null!=b&&n(t,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{g(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function e(g){return g instanceof b?g:new b((function(t){t(g)}))}if(a)return a;t.prototype.b=function(g){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(g)};var n=o.setTimeout;t.prototype.c=function(g){n(g,0)},t.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var t=0;t<g.length;++t){var e=g[t];g[t]=null;try{e()}catch(t){this.f(t)}}}this.a=null},t.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(n){e||(e=!0,p.call(t,n))}}var t=this,e=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.s(g);else{t:switch(typeof g){case"object":var t=null!=g;break t;case"function":t=!0;break t;default:t=!1}t?this.u(g):this.h(g)}},b.prototype.u=function(g){var t=void 0;try{t=g.then}catch(t){return void this.g(t)}"function"==typeof t?this.w(t,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,t){if(0!=this.b)throw Error("Cannot settle("+g+", "+t+"): Promise already settled in state"+this.b);this.b=g,this.c=t,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new t;return b.prototype.s=function(g){var t=this.f();g.Oa(t.resolve,t.reject)},b.prototype.w=function(g,t){var e=this.f();try{g.call(t,e.resolve,e.reject)}catch(t){e.reject(t)}},b.prototype.then=function(g,t){function e(t,e){return"function"==typeof t?function(e){try{p(t(e))}catch(t){n(t)}}:e}var p,n,r=new b((function(t,e){p=t,n=e}));return this.Oa(e(g,p),e(t,n)),r},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.Oa=function(g,t){function e(){switch(p.b){case 1:g(p.c);break;case 2:t(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(e):this.a.push(e)},b.resolve=e,b.reject=function(g){return new b((function(t,e){e(g)}))},b.race=function(g){return new b((function(t,n){for(var p=l(g),r=p.next();!r.done;r=p.next())e(r.value).Oa(t,n)}))},b.all=function(g){var t=l(g),n=t.next();return n.done?e([]):new b((function(p,r){function o(t){return function(e){c[t]=e,0==--l&&p(c)}}var c=[],l=0;do{c.push(void 0),l++,e(n.value).Oa(o(c.length-1),r),n=t.next()}while(!n.done)}))},b}));var h=h||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(){}function y(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function w(a){var b=y(a);return"array"==b||"object"==b&&"number"==typeof a.length}function _(a){return"function"==y(a)}function q(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function S(a){return Object.prototype.hasOwnProperty.call(a,I)&&a[I]||(a[I]=++k)}var I="closure_uid_"+(1e9*Math.random()>>>0),k=0;function E(a,b,t){return a.call.apply(a.bind,arguments)}function T(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function D(a,b,t){return(D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:T).apply(null,arguments)}function A(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var C=Date.now||function(){return+new Date};function N(a,b){function t(){}t.prototype=b.prototype,a.Za=b.prototype,a.prototype=new t,a.prototype.constructor=a}function u(a,b,t){this.code=P+a,this.message=b||R[a]||"",this.a=t||null}function O(a){var b=a&&a.code;return b?new u(b.substring(P.length),a.message,a.serverResponse):null}N(u,Error),u.prototype.v=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},u.prototype.toJSON=function(){return this.v()};var x,P="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},M={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(a){for(var b in M)if(M[b].id===a)return{firebaseEndpoint:(a=M[b]).Ra,secureTokenEndpoint:a.Xa,identityPlatformEndpoint:a.Ua};return null}function j(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function V(a){if(Error.captureStackTrace)Error.captureStackTrace(this,V);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function F(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");V.call(this,t+a[e])}function B(a,b){throw new F("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function U(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function $(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function z(){this.b=this.a=null}x=L("__EID__")?"__EID__":void 0,N(V,Error),V.prototype.name="CustomError",N(F,V),F.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var H=new U((function(){return new W}),(function(a){a.reset()}));function G(){var a=Ee,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function W(){this.next=this.b=this.a=null}z.prototype.add=function(a,b){var t=H.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},W.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},Y=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var J=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=[],n=0,r="string"==typeof a?a.split(""):a,g=0;g<t;g++)if(g in r){var o=r[g];b.call(void 0,o,g,a)&&(e[n++]=o)}return e},X=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n="string"==typeof a?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},Q=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function Z(a,b){return 0<=K(a,b)}function tt(a,b){var t;return(t=0<=(b=K(a,b)))&&Array.prototype.splice.call(a,b,1),t}function et(a,b){!function(a,b){for(var t="string"==typeof a?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,(function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0}))}function nt(a){return Array.prototype.concat.apply([],arguments)}function it(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}var ot,st=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},at=/&/g,ut=/</g,ct=/>/g,lt=/"/g,ht=/'/g,ft=/\x00/g,pt=/[\x00&<>"']/;function vt(a,b){return-1!=a.indexOf(b)}function mt(a,b){return a<b?-1:a>b?1:0}t:{var gt=f.navigator;if(gt){var yt=gt.userAgent;if(yt){ot=yt;break t}}ot=""}function bt(a){return vt(ot,a)}function wt(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function _t(a){for(var b in a)return!1;return!0}function St(a){var t,b={};for(t in a)b[t]=a[t];return b}var It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kt(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<It.length;r++)t=It[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function Et(a,b){t:{try{var t=a&&a.ownerDocument,e=t&&(t.defaultView||t.parentWindow);if((e=e||f).Element&&e.Location){var n=e;break t}}catch(t){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(q(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(t){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;B("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}function Tt(a,b){this.a=a===Ct&&b||"",this.b=At}function Dt(a){return a instanceof Tt&&a.constructor===Tt&&a.b===At?a.a:(B("expected object of type Const, got '"+a+"'"),"type_error:Const")}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a},Tt.prototype.toString=function(){return"Const{"+this.a+"}"};var At={},Ct={},Nt=new Tt(Ct,"");function Ot(a,b){this.a=a===jt&&b||"",this.b=Lt}function xt(a){return a instanceof Ot&&a.constructor===Ot&&a.b===Lt?a.a:(B("expected object of type TrustedResourceUrl, got '"+a+"' of type "+y(a)),"type_error:TrustedResourceUrl")}function Pt(a,b){var t=Dt(a);if(!Mt.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return a=t.replace(Rt,(function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof Tt?Dt(e):encodeURIComponent(String(e))})),new Ot(jt,a)}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Rt=/%{(\w+)}/g,Mt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Lt={},jt={};function Vt(a,b){this.a=a===qt&&b||"",this.b=$t}function Ft(a){return a instanceof Vt&&a.constructor===Vt&&a.b===$t?a.a:(B("expected object of type SafeUrl, got '"+a+"' of type "+y(a)),"type_error:SafeUrl")}Vt.prototype.ra=!0,Vt.prototype.qa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Bt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ut(a){return a instanceof Vt?a:(a="object"==typeof a&&a.ra?a.qa():String(a),Bt.test(a)||(a="about:invalid#zClosurez"),new Vt(qt,a))}var $t={},qt={};function zt(){this.a="",this.b=Gt}function Ht(a){return a instanceof zt&&a.constructor===zt&&a.b===Gt?a.a:(B("expected object of type SafeHtml, got '"+a+"' of type "+y(a)),"type_error:SafeHtml")}zt.prototype.ra=!0,zt.prototype.qa=function(){return this.a.toString()},zt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Gt={};function Wt(a){var b=new zt;return b.a=a,b}Wt("<!DOCTYPE html>");var Kt=Wt("");function Yt(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function Jt(a){return pt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(at,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(ut,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(ct,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(lt,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(ht,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(ft,"&#0;"))),a}function Xt(a){return Xt[" "](a),a}Wt("<br>"),Xt[" "]=m;var Qt,a,Zt=bt("Opera"),te=bt("Trident")||bt("MSIE"),ee=bt("Edge"),ne=ee||te,ie=bt("Gecko")&&!(vt(ot.toLowerCase(),"webkit")&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),re=vt(ot.toLowerCase(),"webkit")&&!bt("Edge");function oe(){var a=f.document;return a?a.documentMode:void 0}t:{var se="",ae=(a=ot,ie?/rv:([^\);]+)(\)|;)/.exec(a):ee?/Edge\/([\d\.]+)/.exec(a):te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):re?/WebKit\/(\S+)/.exec(a):Zt?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(ae&&(se=ae?ae[1]:""),te){var ue=oe();if(null!=ue&&ue>parseFloat(se)){Qt=String(ue);break t}}Qt=se}var ce,le={};function he(a){return function(a,b){var t=le;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=st(String(Qt)).split("."),e=st(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=mt(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||mt(0==g[2].length,0==o[2].length)||mt(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}ce=f.document&&te?oe():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var fe=!te||9<=Number(ce);function de(a){var b=document;return"string"==typeof a?b.getElementById(a):a}function pe(a,b){wt(b,(function(t,e){t&&"object"==typeof t&&t.ra&&(t=t.qa()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:ge.hasOwnProperty(e)?a.setAttribute(ge[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t}))}var ve,me,ge={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ye(a,b,t){function e(g){g&&b.appendChild("string"==typeof g?a.createTextNode(g):g)}for(var n=2;n<t.length;n++){var r=t[n];!w(r)||q(r)&&0<r.nodeType?e(r):Y(we(r)?it(r):r,e)}}function be(a,b){return b=String(b),"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase()),a.createElement(b)}function we(a){if(a&&"number"==typeof a.length){if(q(a))return"function"==typeof a.item||"string"==typeof a.item;if(_(a))return"function"==typeof a.item}return!1}function _e(a){f.setTimeout((function(){throw a}),0)}function Se(){var a=f.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!bt("Presto")&&(a=function(){var t=be(document,"IFRAME");t.style.display="none",function(a){var b=new Ot(jt,Dt(Nt));Et(a,"HTMLIFrameElement"),a.src=xt(b).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ht(Kt)),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=D((function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!bt("Trident")&&!bt("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).Db;t.Db=null,e()}},function(t){e.next={Db:t},e=e.next,b.port2.postMessage(0)}}return function(t){f.setTimeout(t,0)}}function Ie(a,b){me||function(){if(f.Promise&&f.Promise.resolve){var a=f.Promise.resolve(void 0);me=function(){a.then(Te)}}else me=function(){var b=Te;!_(f.setImmediate)||f.Window&&f.Window.prototype&&!bt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ve||(ve=Se()),ve(b)):f.setImmediate(b)}}(),ke||(me(),ke=!0),Ee.add(a,b)}var ke=!1,Ee=new z;function Te(){for(var a;a=G();){try{a.a.call(a.b)}catch(t){_e(t)}$(H,a)}ke=!1}function De(a,b){if(this.a=Ae,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=m)try{var t=this;a.call(b,(function(e){Be(t,Ce,e)}),(function(e){if(!(e instanceof We))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Be(t,Ne,e)}))}catch(t){Be(this,Ne,t)}}var Ae=0,Ce=2,Ne=3;function Oe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Oe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new U((function(){return new Oe}),(function(a){a.reset()}));function Pe(a,b,t){var e=xe.get();return e.g=a,e.b=b,e.f=t,e}function Re(a){if(a instanceof De)return a;var b=new De(m);return Be(b,Ce,a),b}function Me(a){return new De((function(b,t){t(a)}))}function Le(a,b,t){Ue(a,b,t,null)||Ie(A(b,a))}function je(a){return new De((function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Mb:!0,value:p}:{Mb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)Le(a[r],A(n,r,!0),A(n,r,!1));else b(e)}))}function Ve(a,b){a.b||a.a!=Ce&&a.a!=Ne||$e(a),a.f?a.f.next=b:a.b=b,a.f=b}function Fe(a,b,t,e){var n=Pe(null,null,null);return n.a=new De((function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof We?g(n):r(o)}catch(t){g(t)}}:g})),n.a.c=a,Ve(a,n),n.a}function Be(a,b,t){a.a==Ae&&(a===t&&(b=Ne,t=new TypeError("Promise cannot resolve to itself")),a.a=1,Ue(t,a.Yc,a.Zc,a)||(a.i=t,a.a=b,a.c=null,$e(a),b!=Ne||t instanceof We||function(a,b){a.g=!0,Ie((function(){a.g&&Ge.call(null,b)}))}(a,t)))}function Ue(a,b,t,e){if(a instanceof De)return Ve(a,Pe(b||m,t||null,e)),!0;if(j(a))return a.then(b,t,e),!0;if(q(a))try{var n=a.then;if(_(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}var o=!1;try{b.call(a,(function(e){o||(o=!0,t.call(n,e))}),r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function $e(a){a.h||(a.h=!0,Ie(a.ec,a))}function qe(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function ze(a,b,t,e){if(t==Ne&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,He(b,t,e);else try{b.c?b.g.call(b.f):He(b,t,e)}catch(t){Ge.call(null,t)}$(xe,b)}function He(a,b,t){b==Ce?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}De.prototype.then=function(a,b,t){return Fe(this,_(a)?a:null,_(b)?b:null,t)},De.prototype.$goog_Thenable=!0,(e=De.prototype).ma=function(a,b){return(a=Pe(a,a,b)).c=!0,Ve(this,a),this},e.o=function(a,b){return Fe(this,null,a,b)},e.cancel=function(a){if(this.a==Ae){var b=new We(a);Ie((function(){!function t(a,b){if(a.a==Ae)if(a.c){var e=a.c;if(e.b){for(var n=0,r=null,o=null,g=e.b;g&&(g.c||(n++,g.a==a&&(r=g),!(r&&1<n)));g=g.next)r||(o=g);r&&(e.a==Ae&&1==n?t(e,b):(o?((n=o).next==e.f&&(e.f=n),n.next=n.next.next):qe(e),ze(e,r,Ne,b)))}a.c=null}else Be(a,Ne,b)}(this,b)}),this)}},e.Yc=function(a){this.a=Ae,Be(this,Ce,a)},e.Zc=function(a){this.a=Ae,Be(this,Ne,a)},e.ec=function(){for(var a;a=qe(this);)ze(this,a,this.a,this.i);this.h=!1};var Ge=_e;function We(a){V.call(this,a)}function Ke(){0!=Ye&&(Je[S(this)]=this),this.wa=this.wa,this.na=this.na}N(We,V),We.prototype.name="cancel";var Ye=0,Je={};function Xe(a){if(!a.wa&&(a.wa=!0,a.Ba(),0!=Ye)){var b=S(a);if(0!=Ye&&a.na&&0<a.na.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Je[b]}}Ke.prototype.wa=!1,Ke.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Qe=Object.freeze||function(a){return a},Ze=!te||9<=Number(ce),tn=te&&!he("9"),en=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{f.addEventListener("test",m,b),f.removeEventListener("test",m,b)}catch(t){}return a}();function nn(a,b){this.type=a,this.b=this.target=b,this.defaultPrevented=!1}function rn(a,b){if(nn.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(ie){t:{try{Xt(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:on[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}nn.prototype.preventDefault=function(){this.defaultPrevented=!0},N(rn,nn);var on=Qe({2:"touch",3:"pen",4:"mouse"});rn.prototype.preventDefault=function(){rn.Za.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,tn)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},rn.prototype.f=function(){return this.a};var sn="closure_listenable_"+(1e6*Math.random()|0),an=0;function un(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Ta=n,this.key=++an,this.ua=this.Na=!1}function cn(a){a.ua=!0,a.listener=null,a.proxy=null,a.src=null,a.Ta=null}function dd(a){this.src=a,this.a={},this.b=0}function ln(a,b){var t=b.type;t in a.a&&tt(a.a[t],b)&&(cn(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function hn(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.ua&&r.listener==b&&r.capture==!!t&&r.Ta==e)return n}return-1}dd.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=hn(a,b,e,n);return-1<g?(b=a[g],t||(b.Na=!1)):((b=new un(b,this.src,r,!!e,n)).Na=t,a.push(b)),b};var fn="closure_lm_"+(1e6*Math.random()|0),dn={};function pn(a,b,t,e,n){if(e&&e.once)mn(a,b,t,e,n);else if(Array.isArray(b))for(var r=0;r<b.length;r++)pn(a,b[r],t,e,n);else t=kn(t),a&&a[sn]?Tn(a,b,t,q(e)?!!e.capture:!!e,n):vn(a,b,t,!1,e,n)}function vn(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=q(n)?!!n.capture:!!n,o=Sn(a);if(o||(a[fn]=o=new dd(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=_n,b=Ze?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)en||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(yn(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function mn(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)mn(a,b[r],t,e,n);else t=kn(t),a&&a[sn]?Dn(a,b,t,q(e)?!!e.capture:!!e,n):vn(a,b,t,!0,e,n)}function td(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)td(a,b[r],t,e,n);else e=q(e)?!!e.capture:!!e,t=kn(t),a&&a[sn]?(a=a.u,(b=String(b).toString())in a.a&&(-1<(t=hn(r=a.a[b],t,e,n))&&(cn(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=Sn(a))&&(b=a.a[b.toString()],a=-1,b&&(a=hn(b,t,e,n)),(t=-1<a?b[a]:null)&&gn(t))}function gn(a){if("number"!=typeof a&&a&&!a.ua){var b=a.src;if(b&&b[sn])ln(b.u,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(yn(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=Sn(b))?(ln(t,a),0==t.b&&(t.src=null,b[fn]=null)):cn(a)}}}function yn(a){return a in dn?dn[a]:dn[a]="on"+a}function bn(a,b,t,e){var n=!0;if((a=Sn(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.ua&&(r=wn(r,e),n=n&&!1!==r)}return n}function wn(a,b){var t=a.listener,e=a.Ta||a.src;return a.Na&&gn(a),t.call(e,b)}function _n(a,b){if(a.ua)return!0;if(!Ze){if(!b)t:{b=["window","event"];for(var t=f,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new rn(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){n=!0}(n||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],n=b.b;n;n=n.parentNode)e.push(n);for(a=a.type,n=e.length-1;0<=n;n--){b.b=e[n];var r=bn(e[n],a,!0,b);t=t&&r}for(n=0;n<e.length;n++)b.b=e[n],r=bn(e[n],a,!1,b),t=t&&r}return t}return wn(a,new rn(b,this))}function Sn(a){return(a=a[fn])instanceof dd?a:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(a){return _(a)?a:(a[In]||(a[In]=function(b){return a.handleEvent(b)}),a[In])}function En(){Ke.call(this),this.u=new dd(this),this.Yb=this,this.eb=null}function Tn(a,b,t,e,n){a.u.add(String(b),t,!1,e,n)}function Dn(a,b,t,e,n){a.u.add(String(b),t,!0,e,n)}function An(a,b,t,e){if(!(b=a.u.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.ua&&g.capture==t){var o=g.listener,c=g.Ta||g.src;g.Na&&ln(a.u,g),n=!1!==o.call(c,e)&&n}}return n&&!e.defaultPrevented}function Cn(a,b,t){if(_(a))t&&(a=D(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=D(a.handleEvent,a)}return 2147483647<Number(b)?-1:f.setTimeout(a,b||0)}function Nn(a){var b=null;return new De((function(t,e){-1==(b=Cn((function(){t(void 0)}),a))&&e(Error("Failed to schedule timer."))})).o((function(t){throw f.clearTimeout(b),t}))}function On(a){if(a.V&&"function"==typeof a.V)return a.V();if("string"==typeof a)return a.split("");if(w(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function xn(a){if(a.X&&"function"==typeof a.X)return a.X();if(!a.V||"function"!=typeof a.V){if(w(a)||"string"==typeof a){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Pn(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Pn)for(t=a.X(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Rn(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Mn(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Mn(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Mn(a,b){return Object.prototype.hasOwnProperty.call(a,b)}N(En,Ke),En.prototype[sn]=!0,En.prototype.addEventListener=function(a,b,t,e){pn(this,a,b,t,e)},En.prototype.removeEventListener=function(a,b,t,e){td(this,a,b,t,e)},En.prototype.dispatchEvent=function(a){var b,t=this.eb;if(t)for(b=[];t;t=t.eb)b.push(t);t=this.Yb;var e=a.type||a;if("string"==typeof a)a=new nn(a,t);else if(a instanceof nn)a.target=a.target||t;else{var n=a;kt(a=new nn(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=An(g,e,!0,a)&&n}if(n=An(g=a.b=t,e,!0,a)&&n,n=An(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=An(g=a.b=b[r],e,!1,a)&&n;return n},En.prototype.Ba=function(){if(En.Za.Ba.call(this),this.u){var t,a=this.u;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)cn(e[n]);delete a.a[t],a.b--}}this.eb=null},(e=Pn.prototype).V=function(){Rn(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},e.X=function(){return Rn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(a,b){return Mn(this.b,a)?this.b[a]:b},e.set=function(a,b){Mn(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},e.forEach=function(a,b){for(var t=this.X(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(a,b){var t;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,a instanceof jn?(this.h=void 0!==b?b:a.h,Vn(this,a.f),this.i=a.i,this.b=a.b,Fn(this,a.l),this.c=a.c,Bn(this,oi(a.a)),this.g=a.g):a&&(t=String(a).match(Ln))?(this.h=!!b,Vn(this,t[1]||"",!0),this.i=Hn(t[2]||""),this.b=Hn(t[3]||"",!0),Fn(this,t[4]),this.c=Hn(t[5]||"",!0),Bn(this,t[6]||"",!0),this.g=Hn(t[7]||"")):(this.h=!!b,this.a=new Zn(null,this.h))}function Vn(a,b,t){a.f=t?Hn(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function Fn(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.l=b}else a.l=null}function Bn(a,b,t){b instanceof Zn?(a.a=b,function(a,b){b&&!a.f&&(ti(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ni(this,e),ri(this,n,t))}),a)),a.f=b}(a.a,a.h)):(t||(b=Gn(b,Xn)),a.a=new Zn(b,a.h))}function Un(a,b,t){a.a.set(b,t)}function $n(a,b){return a.a.get(b)}function qn(a){return a instanceof jn?new jn(a):new jn(a,void 0)}function zn(a,b){var t=new jn(null,void 0);return Vn(t,"https"),a&&(t.b=a),b&&(t.c=b),t}function Hn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Gn(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,Wn),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Wn(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}jn.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Gn(b,Kn,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.i)&&a.push(Gn(b,Kn,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.l)&&a.push(":",String(t))),(t=this.c)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(Gn(t,"/"==t.charAt(0)?Jn:Yn,!0))),(t=this.a.toString())&&a.push("?",t),(t=this.g)&&a.push("#",Gn(t,Qn)),a.join("")},jn.prototype.resolve=function(a){var b=new jn(this),t=!!a.f;t?Vn(b,a.f):t=!!a.i,t?b.i=a.i:t=!!a.b,t?b.b=a.b:t=null!=a.l;var e=a.c;if(t)Fn(b,a.l);else if(t=!!a.c){if("/"!=e.charAt(0))if(this.b&&!this.c)e="/"+e;else{var n=b.c.lastIndexOf("/");-1!=n&&(e=b.c.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(vt(n,"./")||vt(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?e&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&g==n.length&&r.push("")):(r.push(o),e=!0)}e=r.join("/")}else e=n}return t?b.c=e:t=""!==a.a.toString(),t?Bn(b,oi(a.a)):t=!!a.g,t&&(b.g=a.g),b};var Kn=/[#\/\?@]/g,Yn=/[#\?:]/g,Jn=/[#\?]/g,Xn=/[#\?@]/g,Qn=/#/g;function Zn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function ti(a){a.a||(a.a=new Pn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function ei(a){var b=xn(a);if(void 0===b)throw Error("Keys are undefined");var t=new Zn(null,void 0);a=On(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];Array.isArray(r)?ri(t,n,r):t.add(n,r)}return t}function ni(a,b){ti(a),b=si(a,b),Mn(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Mn((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Rn(a)))}function ii(a,b){return ti(a),b=si(a,b),Mn(a.a.b,b)}function ri(a,b,t){ni(a,b),0<t.length&&(a.c=null,a.a.set(si(a,b),it(t)),a.b+=t.length)}function oi(a){var b=new Zn;return b.c=a.c,a.a&&(b.a=new Pn(a.a),b.b=a.b),b}function si(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function ai(a){var b=[];return function t(a,b,e){if(null==b)e.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var n=b;b=n.length,e.push("[");for(var r="",o=0;o<b;o++)e.push(r),t(a,n[o],e),r=",";return void e.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(n in e.push("{"),r="",b)Object.prototype.hasOwnProperty.call(b,n)&&("function"!=typeof(o=b[n])&&(e.push(r),fi(n,e),e.push(":"),t(a,o,e),r=","));return void e.push("}")}b=b.valueOf()}switch(typeof b){case"string":fi(b,e);break;case"number":e.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":e.push(String(b));break;case"function":e.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new ui,a,b),b.join("")}function ui(){}(e=Zn.prototype).add=function(a,b){ti(this),this.c=null,a=si(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(a,b){ti(this),this.a.forEach((function(t,e){Y(t,(function(t){a.call(b,t,e,this)}),this)}),this)},e.X=function(){ti(this);for(var a=this.a.V(),b=this.a.X(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},e.V=function(a){ti(this);var b=[];if("string"==typeof a)ii(this,a)&&(b=nt(b,this.a.get(si(this,a))));else{a=this.a.V();for(var t=0;t<a.length;t++)b=nt(b,a[t])}return b},e.set=function(a,b){return ti(this),this.c=null,ii(this,a=si(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},e.get=function(a,b){return a&&0<(a=this.V(a)).length?String(a[0]):b},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.X(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.V(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var ci={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hi=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fi(a,b){b.push('"',a.replace(hi,(function(t){var e=ci[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ci[t]=e),e})),'"')}function di(){var a=xi();return te&&!!ce&&11==ce||/Edge\/\d+/.test(a)}function pi(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function vi(a,b){b=b||f.window;var t="about:blank";a&&(t=Ft(Ut(a))),b.location.href=t}function mi(a){return!!((a=(a||xi()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function gi(a){a=a||f.window;try{a.close()}catch(t){}}function yi(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=xi().toLowerCase(),e&&(b.target=e,vt(t,"crios/")&&(b.target="_blank")),Ci(xi())==Di&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof Vt?t:Ut(void 0!==t.href?t.href:String(t)),t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((bt("iPhone")&&!bt("iPod")&&!bt("iPad")||bt("iPad")||bt("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(Et(g=be(document,"A"),"HTMLAnchorElement"),b instanceof Vt||b instanceof Vt||(b="object"==typeof b&&b.ra?b.qa():String(b),Bt.test(b)||(b="about:invalid#zClosurez"),b=new Vt(qt,b)),g.href=Ft(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=e.open("",t,g),a=Ft(b),g&&(ne&&vt(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a=Wt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Jt(a)+'">'),e=g.document)&&(e.write(Ht(a)),e.close())):(g=e.open(Ft(b),t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var bi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wi=/^[^@]+@[^@]+$/;function _i(){var a=null;return new De((function(b){"complete"==f.document.readyState?b():(a=function(){b()},mn(window,"load",a))})).o((function(b){throw td(window,"load",a),b}))}function Si(a){return a=a||xi(),!("file:"!==ji()&&"ionic:"!==ji()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ii(){var a=f.window;try{return!(!a||a==a.top)}catch(t){return!1}}function ki(){return void 0!==f.WorkerGlobalScope&&"function"==typeof f.importScripts}function Ei(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":ki()?"Worker":"Browser"}function Ti(){var a=Ei();return"ReactNative"===a||"Node"===a}var Di="Firefox",Ai="Chrome";function Ci(a){var b=a.toLowerCase();return vt(b,"opera/")||vt(b,"opr/")||vt(b,"opios/")?"Opera":vt(b,"iemobile")?"IEMobile":vt(b,"msie")||vt(b,"trident/")?"IE":vt(b,"edge/")?"Edge":vt(b,"firefox/")?Di:vt(b,"silk/")?"Silk":vt(b,"blackberry")?"Blackberry":vt(b,"webos")?"Webos":!vt(b,"safari/")||vt(b,"chrome/")||vt(b,"crios/")||vt(b,"android")?!vt(b,"chrome/")&&!vt(b,"crios/")||vt(b,"edge/")?vt(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Ai:"Safari"}var Ni={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Oi(a,b){b=b||[];var t,e=[],n={};for(t in Ni)n[Ni[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=Ei())?e=Ci(n=xi()):"Worker"===e&&(e=Ci(n=xi())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function xi(){return f.navigator&&f.navigator.userAgent||""}function Pi(a,b){a=a.split("."),b=b||f;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function Ri(){try{var a=f.localStorage,b=$i();if(a)return a.setItem(b,"1"),a.removeItem(b),!di()||!!f.indexedDB}catch(t){return ki()&&!!f.indexedDB}return!1}function Mi(){return(Li()||"chrome-extension:"===ji()||Si())&&!Ti()&&Ri()&&!ki()}function Li(){return"http:"===ji()||"https:"===ji()}function ji(){return f.location&&f.location.protocol||null}function Vi(a){return!mi(a=a||xi())&&Ci(a)!=Di}function Fi(a){return void 0===a?null:ai(a)}function Bi(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Ui(a){if(null!==a)return JSON.parse(a)}function $i(a){return a||Math.floor(1e9*Math.random()).toString()}function qi(a){return"Safari"!=Ci(a=a||xi())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function zi(){var a=f.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function Hi(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=xi(),b=Ei(),this.b=mi(a)||"ReactNative"===b}function Gi(){var a=f.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Wi(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function Ki(){return!(!Pi("fireauth.oauthhelper",f)&&!Pi("fireauth.iframe",f))}Hi.prototype.get=function(){var a=f.navigator;return!a||"boolean"!=typeof a.onLine||!Li()&&"chrome-extension:"!==ji()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yi,Ji={};function Xi(a){Ji[a]||(Ji[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var Qi={};Object.defineProperty(Qi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qi,"abcd",{configurable:!0,enumerable:!0,value:2}),Yi=2==Qi.abcd}catch(a){Yi=!1}function Zi(a,b,t){Yi?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function er(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&Zi(a,t,b[t])}function nr(a){var b={};return er(b,a),b}function ir(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)Zi(b,t,ir(a[t]));return b}function rr(a){var b=a&&(a[cr]?"phone":null);if(!(b&&a&&a[ur]))throw new u("internal-error","Internal assert: invalid MultiFactorInfo object");Zi(this,"uid",a[ur]),Zi(this,"displayName",a[sr]||null);var t=null;a[ar]&&(t=new Date(a[ar]).toUTCString()),Zi(this,"enrollmentTime",t),Zi(this,"factorId",b)}function or(a){try{var b=new lr(a)}catch(t){b=null}return b}rr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var sr="displayName",ar="enrolledAt",ur="mfaEnrollmentId",cr="phoneInfo";function lr(a){rr.call(this,a),Zi(this,"phoneNumber",a[cr])}function fr(a){var b={},t=a[mr],e=a[yr],n=a[wr];if(a=or(a[gr]),!n||n!=pr&&n!=vr&&!t||n==vr&&!e||n==dr&&!a)throw Error("Invalid checkActionCode response!");n==vr?(b[Sr]=t||null,b[kr]=t||null,b[_r]=e):(b[Sr]=e||null,b[kr]=e||null,b[_r]=t||null),b[Ir]=a||null,Zi(this,Tr,n),Zi(this,Er,ir(b))}N(lr,rr),lr.prototype.v=function(){var a=lr.Za.v.call(this);return a.phoneNumber=this.phoneNumber,a};var dr="REVERT_SECOND_FACTOR_ADDITION",pr="EMAIL_SIGNIN",vr="VERIFY_AND_CHANGE_EMAIL",mr="email",gr="mfaInfo",yr="newEmail",wr="requestType",_r="email",Sr="fromEmail",Ir="multiFactorInfo",kr="previousEmail",Er="data",Tr="operation";function Dr(a){var b=$n(a=qn(a),Ar)||null,t=$n(a,Cr)||null,e=$n(a,xr)||null;if(e=e&&Rr[e]||null,!b||!t||!e)throw new u("argument-error",Ar+", "+Cr+"and "+xr+" are required in a valid action code URL.");er(this,{apiKey:b,operation:e,code:t,continueUrl:$n(a,Nr)||null,languageCode:$n(a,Or)||null,tenantId:$n(a,Pr)||null})}var Ar="apiKey",Cr="oobCode",Nr="continueUrl",Or="languageCode",xr="mode",Pr="tenantId",Rr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:dr,signIn:pr,verifyAndChangeEmail:vr,verifyEmail:"VERIFY_EMAIL"};function Mr(a){try{return new Dr(a)}catch(t){return null}}function Lr(a){var b=a[Ur];if(void 0===b)throw new u("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new u("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[jr];if(t&&"object"==typeof t){b=t[zr];var e=t[$r];if(t=t[qr],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new u("argument-error",$r+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new u("argument-error",qr+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new u("argument-error",zr+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new u("missing-android-pkg-name")}}else if(void 0!==t)throw new u("argument-error",jr+" property must be a non null object when specified.");if(this.f=null,(b=a[Br])&&"object"==typeof b){if("string"==typeof(b=b[Hr])&&b.length)this.f=b;else if(void 0!==b)throw new u("argument-error",Hr+" property must be a non empty string when specified.")}else if(void 0!==b)throw new u("argument-error",Br+" property must be a non null object when specified.");if(void 0!==(b=a[Fr])&&"boolean"!=typeof b)throw new u("argument-error",Fr+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Vr])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new u("argument-error",Vr+" property must be a non empty string when specified.");this.i=a||null}var jr="android",Vr="dynamicLinkDomain",Fr="handleCodeInApp",Br="iOS",Ur="url",$r="installApp",qr="minimumVersion",zr="packageName",Hr="bundleId";function Gr(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var Wr=null;function Kr(a){var b="";return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),n=Wr[p];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!Wr){Wr={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++)for(var e=a.concat(b[t].split("")),n=0;n<e.length;n++){var r=e[n];void 0===Wr[r]&&(Wr[r]=n)}}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(t){b+=String.fromCharCode(t)})),b}function Yr(a){var b=Xr(a);if(!(b&&b.sub&&b.iss&&b.aud&&b.exp))throw Error("Invalid JWT");this.g=a,this.c=b.exp,this.h=b.sub,C(),this.a=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null,this.f=b.firebase&&b.firebase.tenant||null,this.b=!!b.is_anonymous||"anonymous"==this.a}function Jr(a){try{return new Yr(a)}catch(t){return null}}function Xr(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{return JSON.parse(Kr(a))}catch(t){}return null}Yr.prototype.S=function(){return this.f},Yr.prototype.i=function(){return this.b},Yr.prototype.toString=function(){return this.g};var Qr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Zr=["client_id","response_type","scope","redirect_uri","state"],to={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Zr},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Zr},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Zr},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Qr},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function eo(a){for(var b in to)if(to[b].ea==a)return to[b];return null}function no(a){var b={};b["facebook.com"]=ao,b["google.com"]=co,b["github.com"]=uo,b["twitter.com"]=lo;var t=a&&a[ro];try{if(t)return b[t]?new b[t](a):new so(a);if(void 0!==a[io])return new oo(a)}catch(t){}return null}var io="idToken",ro="providerId";function oo(a){var b=a[ro];if(!b&&a[io]){var t=Jr(a[io]);t&&t.a&&(b=t.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),Zi(this,"providerId",b),Zi(this,"isNewUser",t)}function so(a){oo.call(this,a),Zi(this,"profile",ir((a=Ui(a.rawUserInfo||"{}"))||{}))}function ao(a){if(so.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(a){if(so.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zi(this,"username",this.profile&&this.profile.login||null)}function co(a){if(so.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function lo(a){if(so.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zi(this,"username",a.screenName||null)}function ho(a){var b=qn(a),t=$n(b,"link"),e=$n(qn(t),"link");return b=$n(b,"deep_link_id"),$n(qn(b),"link")||b||e||t||a}function fo(a,b){if(!a&&!b)throw new u("internal-error","Internal assert: no raw session string available");if(a&&b)throw new u("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=b||null,this.type=this.a?po:vo}N(so,oo),N(ao,so),N(uo,so),N(co,so),N(lo,so);var po="enroll",vo="signin";function mo(){}function go(a,b){return a.then((function(t){if(t[na]){var e=Jr(t[na]);if(!e||b!=e.h)throw new u("user-mismatch");return t}throw new u("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==P+"user-not-found"?new u("user-mismatch"):t}))}function yo(a,b){if(!b)throw new u("internal-error","failed to construct a credential");this.a=b,Zi(this,"providerId",a),Zi(this,"signInMethod",a)}function bo(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function wo(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new yo(a.providerId,a.pendingToken)}catch(t){}return null}function _o(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Zi(this,"idToken",b.idToken),b.accessToken&&Zi(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Zi(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new u("internal-error","failed to construct a credential");Zi(this,"accessToken",b.oauthToken),Zi(this,"secret",b.oauthTokenSecret)}Zi(this,"providerId",a),Zi(this,"signInMethod",t)}function So(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:ei(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function Io(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new _o(a.providerId,b,a.signInMethod)}catch(t){}}return null}function ko(a,b){this.Oc=b||[],er(this,{providerId:a,isOAuthProvider:!0}),this.Fb={},this.lb=(eo(a)||{}).Ha||null,this.kb=null}function Eo(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new u("argument-error",'SAML provider IDs must be prefixed with "saml."');ko.call(this,a,[])}function To(a){ko.call(this,a,Zr),this.a=[]}function Do(){To.call(this,"facebook.com")}function Ao(a){if(!a)throw new u("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return q(a)&&(b=a.accessToken),(new Do).credential({accessToken:b})}function Co(){To.call(this,"github.com")}function No(a){if(!a)throw new u("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return q(a)&&(b=a.accessToken),(new Co).credential({accessToken:b})}function Oo(){To.call(this,"google.com"),this.Aa("profile")}function xo(a,b){var t=a;return q(a)&&(t=a.idToken,b=a.accessToken),(new Oo).credential({idToken:t,accessToken:b})}function Po(){ko.call(this,"twitter.com",Qr)}function Ro(a,b){var t=a;if(q(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new u("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new _o("twitter.com",t,"twitter.com")}function Mo(a,b,t){this.a=a,this.f=b,Zi(this,"providerId","password"),Zi(this,"signInMethod",t===jo.EMAIL_LINK_SIGN_IN_METHOD?jo.EMAIL_LINK_SIGN_IN_METHOD:jo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Lo(a){return a&&a.email&&a.password?new Mo(a.email,a.password,a.signInMethod):null}function jo(){er(this,{providerId:"password",isOAuthProvider:!1})}function Vo(a,b){if(!(b=Fo(b)))throw new u("argument-error","Invalid email link!");return new Mo(a,b.code,jo.EMAIL_LINK_SIGN_IN_METHOD)}function Fo(a){return(a=Mr(a=ho(a)))&&a.operation===pr?a:null}function Bo(a){if(!(a.bb&&a.ab||a.Ja&&a.da))throw new u("internal-error");this.a=a,Zi(this,"providerId","phone"),this.ea="phone",Zi(this,"signInMethod","phone")}function Uo(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return Y(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(t){a[t]&&(b[t]=a[t])})),new Bo(b)}return null}function $o(a){return a.a.Ja&&a.a.da?{temporaryProof:a.a.Ja,phoneNumber:a.a.da}:{sessionInfo:a.a.bb,code:a.a.ab}}function qo(a){try{this.a=a||r.a.auth()}catch(t){throw new u("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}function zo(a,b){if(!a)throw new u("missing-verification-id");if(!b)throw new u("missing-verification-code");return new Bo({bb:a,ab:b})}function Ho(a){if(a.temporaryProof&&a.phoneNumber)return new Bo({Ja:a.temporaryProof,da:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return xo(r,t);case"facebook.com":return Ao(t);case"github.com":return No(t);case"twitter.com":return Ro(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new yo(b,g):new _o(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new To(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function Go(a){if(!a.isOAuthProvider)throw new u("invalid-oauth-provider")}function Wo(a,b,t,e,n,r,g){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new u("invalid-auth-event");if(this.g&&this.a)throw new u("invalid-auth-event");if(this.g&&!this.f)throw new u("invalid-auth-event")}function Ko(a){return(a=a||{}).type?new Wo(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&O(a.error),a.postBody,a.tenantId):null}function Yo(){this.b=null,this.a=[]}fo.prototype.Fa=function(){return this.a?Re(this.a):Re(this.b)},fo.prototype.v=function(){return this.type==po?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},mo.prototype.ia=function(){},mo.prototype.b=function(){},mo.prototype.c=function(){},mo.prototype.v=function(){},yo.prototype.ia=function(a){return Sa(a,bo(this))},yo.prototype.b=function(a,b){var t=bo(this);return t.idToken=b,Ia(a,t)},yo.prototype.c=function(a,b){return go(ka(a,bo(this)),b)},yo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},_o.prototype.ia=function(a){return Sa(a,So(this))},_o.prototype.b=function(a,b){var t=So(this);return t.idToken=b,Ia(a,t)},_o.prototype.c=function(a,b){return go(ka(a,So(this)),b)},_o.prototype.v=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},ko.prototype.Ia=function(a){return this.Fb=St(a),this},N(Eo,ko),N(To,ko),To.prototype.Aa=function(a){return Z(this.a,a)||this.a.push(a),this},To.prototype.Nb=function(){return it(this.a)},To.prototype.credential=function(a,b){var t;if(!(t=q(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new u("argument-error","credential failed: must provide the ID token and/or the access token.");return new _o(this.providerId,t,this.providerId)},N(Do,To),Zi(Do,"PROVIDER_ID","facebook.com"),Zi(Do,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),N(Co,To),Zi(Co,"PROVIDER_ID","github.com"),Zi(Co,"GITHUB_SIGN_IN_METHOD","github.com"),N(Oo,To),Zi(Oo,"PROVIDER_ID","google.com"),Zi(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),N(Po,ko),Zi(Po,"PROVIDER_ID","twitter.com"),Zi(Po,"TWITTER_SIGN_IN_METHOD","twitter.com"),Mo.prototype.ia=function(a){return this.signInMethod==jo.EMAIL_LINK_SIGN_IN_METHOD?ou(a,xa,{email:this.a,oobCode:this.f}):ou(a,tu,{email:this.a,password:this.f})},Mo.prototype.b=function(a,b){return this.signInMethod==jo.EMAIL_LINK_SIGN_IN_METHOD?ou(a,Pa,{idToken:b,email:this.a,oobCode:this.f}):ou(a,Ga,{idToken:b,email:this.a,password:this.f})},Mo.prototype.c=function(a,b){return go(this.ia(a),b)},Mo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},er(jo,{PROVIDER_ID:"password"}),er(jo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(jo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Bo.prototype.ia=function(a){return a.cb($o(this))},Bo.prototype.b=function(a,b){var t=$o(this);return t.idToken=b,ou(a,nu,t)},Bo.prototype.c=function(a,b){var t=$o(this);return t.operation="REAUTH",go(a=ou(a,iu,t),b)},Bo.prototype.v=function(){var a={providerId:"phone"};return this.a.bb&&(a.verificationId=this.a.bb),this.a.ab&&(a.verificationCode=this.a.ab),this.a.Ja&&(a.temporaryProof=this.a.Ja),this.a.da&&(a.phoneNumber=this.a.da),a},qo.prototype.cb=function(a,b){var t=this.a.b;return Re(b.verify()).then((function(e){if("string"!=typeof e)throw new u("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":var n=q(a)?a.session:null,r=q(a)?a.phoneNumber:a;return(n&&n.type==po?n.Fa().then((function(n){return function(a,b){return ou(a,Ka,b).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(t,{idToken:n,phoneEnrollmentInfo:{phoneNumber:r,recaptchaToken:e}})})):n&&n.type==vo?n.Fa().then((function(n){return function(a,b){return ou(a,Ya,b).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(t,{mfaPendingCredential:n,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}})})):function(a,b){return ou(a,za,b)}(t,{phoneNumber:r,recaptchaToken:e})).then((function(t){return"function"==typeof b.reset&&b.reset(),t}),(function(t){throw"function"==typeof b.reset&&b.reset(),t}));default:throw new u("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},er(qo,{PROVIDER_ID:"phone"}),er(qo,{PHONE_SIGN_IN_METHOD:"phone"}),Wo.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},Wo.prototype.S=function(){return this.h},Wo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Jo,Xo=null;function th(a){var b="unauthorized-domain",t=void 0,e=qn(a);a=e.b,"chrome-extension"==(e=e.f)?t=Yt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=Yt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",u.call(this,b,t)}function Qo(a,b,t){u.call(this,a,t),(a=b||{}).Gb&&Zi(this,"email",a.Gb),a.da&&Zi(this,"phoneNumber",a.da),a.credential&&Zi(this,"credential",a.credential),a.Wb&&Zi(this,"tenantId",a.Wb)}function Zo(a){if(a.code){var b=a.code||"";0==b.indexOf(P)&&(b=b.substring(P.length));var t={credential:Ho(a),Wb:a.tenantId};if(a.email)t.Gb=a.email;else if(a.phoneNumber)t.da=a.phoneNumber;else if(!t.credential)return new u(b,a.message||void 0);return new Qo(b,t,a.message)}return null}function ts(){}function es(a){return a.c||(a.c=a.b())}function ns(){}function is(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function rs(){}function os(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=D(this.oc,this),this.a.onerror=D(this.Pb,this),this.a.onprogress=D(this.pc,this),this.a.ontimeout=D(this.tc,this)}function ss(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function as(a,b,t){this.reset(a,b,t,void 0,void 0)}N(th,u),N(Qo,u),Qo.prototype.v=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.v();return b&&kt(a,b),a},Qo.prototype.toJSON=function(){return this.v()},ts.prototype.c=null,N(ns,ts),ns.prototype.a=function(){var a=is(this);return a?new ActiveXObject(a):new XMLHttpRequest},ns.prototype.b=function(){var a={};return is(this)&&(a[0]=!0,a[1]=!0),a},Jo=new ns,N(rs,ts),rs.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new os;throw Error("Unsupported browser")},rs.prototype.b=function(){return{}},(e=os.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},e.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ss(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",ss(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,ss(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},as.prototype.a=null;function us(a){this.f=a,this.b=this.c=this.a=null}function cs(a,b){this.name=a,this.value=b}as.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||C(),delete this.a},cs.prototype.toString=function(){return this.name};var ls=new cs("SEVERE",1e3),hs=new cs("WARNING",900),fs=new cs("CONFIG",700),ds=new cs("FINE",500);us.prototype.log=function(a,b,t){if(a.value>=function t(a){return a.c?a.c:a.a?t(a.a):(B("Root logger has no level set."),null)}(this).value)for(_(b)&&(b=b()),a=new as(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var ps={},vs=null;function ms(a){var b;if(vs||(vs=new us(""),ps[""]=vs,vs.c=fs),!(b=ps[a])){b=new us(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=ms(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,ps[a]=b}return b}function gs(a,b){a&&a.log(ds,b,void 0)}function ys(a){this.f=a}function bs(a){En.call(this),this.s=a,this.readyState=ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ms("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}N(ys,ts),ys.prototype.a=function(){return new bs(this.f)},ys.prototype.b=function(a){return function(){return a}}({}),N(bs,En);var ws=0;function _s(a){a.c.read().then(a.nc.bind(a)).catch(a.Sa.bind(a))}function Ss(a,b){b&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText),a.readyState=4,a.f=null,a.c=null,a.l=null,Is(a)}function Is(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function ks(a){En.call(this),this.headers=new Pn,this.D=a||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=Es,this.w=this.R=!1}(e=bs.prototype).open=function(a,b){if(this.readyState!=ws)throw this.abort(),Error("Error reopening a connection");this.m=a,this.g=b,this.readyState=1,Is(this)},e.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(b.body=a),this.s.fetch(new Request(this.g,b)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ss(this,!1)),this.readyState=ws},e.sc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,Is(this)),this.a&&(this.readyState=3,Is(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==f.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.l=new TextDecoder,_s(this)):a.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(a){if(this.a){var b=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?Ss(this,!0):Is(this),3==this.readyState&&_s(this)}},e.rc=function(a){this.a&&(this.response=this.responseText=a,Ss(this,!0))},e.qc=function(a){this.a&&(this.response=a,Ss(this,!0))},e.Sa=function(a){var b=this.h;b&&b.log(hs,"Failed to fetch url "+this.g,a instanceof Error?a:Error(a)),this.a&&Ss(this,!0)},e.setRequestHeader=function(a,b){this.i.append(a,b)},e.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(hs,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var a=this.h;return a&&a.log(hs,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},N(ks,En);var Es="";ks.prototype.b=ms("goog.net.XhrIo");var Ts=/^https?$/i,Ds=["POST","PUT"];function As(a,b,t,e,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.P=t,a.N=!1,a.c=!0,a.a=a.D?a.D.a():Jo.a(),a.B=a.D?es(a.D):es(Jo),a.a.onreadystatechange=D(a.Sb,a);try{gs(a.b,js(a,"Opening Xhr")),a.O=!0,a.a.open(t,String(b),!0),a.O=!1}catch(t){return gs(a.b,js(a,"Error opening Xhr: "+t.message)),void Ns(a,t)}b=e||"";var r=new Pn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(w(a)||"string"==typeof a)Y(a,b,void 0);else for(var t=xn(a),e=On(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(n,(function(g,t){r.set(t,g)})),n=function(a){t:{for(var b=Cs,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(r.X()),e=f.FormData&&b instanceof f.FormData,!Z(Ds,t)||n||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,t){this.a.setRequestHeader(t,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.R&&(a.a.withCredentials=a.R);try{Rs(a),0<a.g&&(a.w=function(a){return te&&he(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),gs(a.b,js(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.w)),a.w?(a.a.timeout=a.g,a.a.ontimeout=D(a.Ka,a)):a.s=Cn(a.Ka,a.g,a)),gs(a.b,js(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){gs(a.b,js(a,"Send error: "+t.message)),Ns(a,t)}}function Cs(a){return"content-type"==a.toLowerCase()}function Ns(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,Os(a),Ps(a)}function Os(a){a.N||(a.N=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function xs(a){if(a.c&&void 0!==h)if(a.B[1]&&4==Ms(a)&&2==Ls(a))gs(a.b,js(a,"Local request error detected and ignored"));else if(a.i&&4==Ms(a))Cn(a.Sb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ms(a)){gs(a.b,js(a,"Request complete")),a.c=!1;try{var t,b=Ls(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.l).match(Ln)[1]||null;if(!r&&f.self&&f.self.location){var g=f.self.location.protocol;r=g.substr(0,g.length-1)}n=!Ts.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ms(a)?a.a.statusText:""}catch(t){gs(a.b,"Can not get status: "+t.message),o=""}a.h=o+" ["+Ls(a)+"]",Os(a)}}finally{Ps(a)}}}function Ps(a,b){if(a.a){Rs(a);var t=a.a,e=a.B[0]?m:null;a.a=null,a.B=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(ls,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Rs(a){a.a&&a.w&&(a.a.ontimeout=null),a.s&&(f.clearTimeout(a.s),a.s=null)}function Ms(a){return a.a?a.a.readyState:0}function Ls(a){try{return 2<Ms(a)?a.a.status:-1}catch(t){return-1}}function js(a,b){return b+" ["+a.P+" "+a.l+" "+Ls(a)+"]"}function li(a){var b=Ks;this.g=[],this.w=b,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Vs(a,b,t){a.a=!0,a.c=t,a.f=!b,$s(a)}function Fs(a){if(a.a){if(!a.u)throw new qs(a);a.u=!1}}function Bs(a,b,t,e){a.g.push([b,t,e]),a.a&&$s(a)}function Us(a){return Q(a.g,(function(b){return _(b[1])}))}function $s(a){if(a.h&&a.a&&Us(a)){var b=a.h,t=Gs[b];t&&(f.clearTimeout(t.a),delete Gs[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.s,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(j(b)||"function"==typeof f.Promise&&b instanceof f.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,Us(a)||(t=!0)}}a.c=b,e&&(o=D(a.m,a,!0),e=D(a.m,a,!1),b instanceof li?(Bs(b,o,e),b.B=!0):b.then(o,e)),t&&(b=new Hs(b),Gs[b.a]=b,a.h=b.a)}function qs(){V.call(this)}function zs(){V.call(this)}function Hs(a){this.a=f.setTimeout(D(this.c,this),0),this.b=a}(e=ks.prototype).Ka=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",gs(this.b,js(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(gs(this.b,js(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ps(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ps(this,!0)),ks.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?xs(this):this.Hc())},e.Hc=function(){xs(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Es:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(ls,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return gs(this.b,"Can not get response: "+t.message),null}},li.prototype.cancel=function(a){if(this.a)this.c instanceof li&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(a=new zs(this),Fs(this),Vs(this,!1,a))}},li.prototype.m=function(a,b){this.i=!1,Vs(this,a,b)},li.prototype.then=function(a,b,t){var e,n,r=new De((function(g,t){e=g,n=t}));return Bs(this,e,(function(g){g instanceof zs?r.cancel():n(g)})),r.then(a,b,t)},li.prototype.$goog_Thenable=!0,N(qs,V),qs.prototype.message="Deferred has already fired",qs.prototype.name="AlreadyCalledError",N(zs,V),zs.prototype.message="Deferred was canceled",zs.prototype.name="CanceledError",Hs.prototype.c=function(){throw delete Gs[this.a],this.b};var Gs={};function Ws(a){var b={},t=b.document||document,e=xt(a).toString(),n=be(document,"SCRIPT"),r={Tb:n,Ka:void 0},g=new li(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){Ys(n,!0);var p=new Qs(Xs,"Timeout reached for loading script "+e);Fs(g),Vs(g,!1,p)}),c),r.Ka=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(Ys(n,b.ud||!1,o),Fs(g),Vs(g,!0,null))},n.onerror=function(){Ys(n,!0,o);var p=new Qs(Js,"Error while loading script "+e);Fs(g),Vs(g,!1,p)},kt(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),pe(n,r),function(a,b){Et(a,"HTMLScriptElement"),a.src=xt(b),null===v&&(v=(b=(b=f.document).querySelector&&b.querySelector("script[nonce]"))&&(b=b.nonce||b.getAttribute("nonce"))&&d.test(b)?b:""),(b=v)&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),g}function Ks(){if(this&&this.Tb){var a=this.Tb;a&&"SCRIPT"==a.tagName&&Ys(a,!0,this.Ka)}}function Ys(a,b,t){null!=t&&f.clearTimeout(t),a.onload=m,a.onerror=m,a.onreadystatechange=m,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var Js=0,Xs=1;function Qs(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),V.call(this,t),this.code=a}function Zs(a){this.f=a}function ta(a,b,t){if(this.c=a,a=b||{},this.u=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||ia,this.g=St(a.secureTokenHeaders||ra),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=a.firebaseTimeout||oa,this.a=St(a.firebaseHeaders||sa),t&&(this.a["X-Client-Version"]=t,this.g["X-Client-Version"]=t),t="Node"==Ei(),!(t=f.XMLHttpRequest||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!ki())throw new u("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ki()?this.f=new ys(self):Ti()?this.f=new Zs(t):this.f=new rs,this.b=null}N(Qs,V),N(Zs,ts),Zs.prototype.a=function(){return new this.f},Zs.prototype.b=function(){return{}};var ea,na="idToken",ia=new Hi(3e4,6e4),ra={"Content-Type":"application/x-www-form-urlencoded"},oa=new Hi(3e4,6e4),sa={"Content-Type":"application/json"};function aa(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function ua(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function ca(a,b,t,e,n,r,g){(function(){var a=xi();return!((a=Ci(a)!=Ai?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a)&&(!te||!ce||9<ce)})()||ki()?a=D(a.w,a):(ea||(ea=new De((function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{f[ha]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){Bs(a,null,b,void 0)}(Ws(Pt(la,{onload:ha})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),a=D(a.s,a)),a(b,t,e,n,r,g)}ta.prototype.S=function(){return this.b},ta.prototype.w=function(a,b,t,e,n,r){if(ki()&&(void 0===f.fetch||void 0===f.Headers||void 0===f.Request))throw new u("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new ks(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}Tn(g,"complete",(function(){o&&clearTimeout(o);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return gs(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)})),Dn(g,"ready",(function(){o&&clearTimeout(o),Xe(this)})),Dn(g,"timeout",(function(){o&&clearTimeout(o),Xe(this),b&&b(null)})),As(g,a,t,e,n)};var la=new Tt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),ha="__fcb"+Math.floor(1e6*Math.random()).toString();function fa(a,b,t,e,n,r,g){var o=qn(b+t);Un(o,"key",a.c),g&&Un(o,"cb",C().toString());var c="GET"==e;if(c)for(var p in n)n.hasOwnProperty(p)&&Un(o,p,n[p]);return new De((function(t,l){ca(a,o.toString(),(function(e){e?e.error?l(au(e,r||{})):t(e):l(new u("network-request-failed"))}),e,c?void 0:ai(Bi(n)),a.a,a.i.get())}))}function da(a){if("string"!=typeof(a=a.email)||!wi.test(a))throw new u("invalid-email")}function pa(a){"email"in a&&da(a)}function va(a){if(!a[na]){if(a.mfaPendingCredential)throw new u("multi-factor-auth-required",null,St(a));throw new u("internal-error")}}function ma(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new u("internal-error")}else{if(!a.sessionInfo)throw new u("missing-verification-id");if(!a.code)throw new u("missing-verification-code")}}ta.prototype.s=function(a,b,t,e,n){var r=this;ea.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})})).o((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},ta.prototype.vb=function(){return ou(this,Wa,{})},ta.prototype.xb=function(a,b){return ou(this,Ha,{idToken:a,email:b})},ta.prototype.yb=function(a,b){return ou(this,Ga,{idToken:a,password:b})};var ga={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ya(a){if(!a.phoneVerificationInfo)throw new u("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new u("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new u("missing-verification-code")}function ba(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new u("internal-error")}function wa(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(ii(a=new Zn(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function _a(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=Zo(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=Zo(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=Zo(a)):a.errorMessage&&(b=su(a.errorMessage)),b)throw b;va(a)}function Sa(a,b){return b.returnIdpCredential=!0,ou(a,Ja,b)}function Ia(a,b){return b.returnIdpCredential=!0,ou(a,Qa,b)}function ka(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,ou(a,Xa,b)}function Ea(a){if(!a.oobCode)throw new u("invalid-action-code")}(e=ta.prototype).zb=function(a,b){var t={idToken:a},e=[];return wt(ga,(function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)})),e.length&&(t.deleteAttribute=e),ou(this,Ha,t)},e.rb=function(a,b){return kt(a={requestType:"PASSWORD_RESET",email:a},b),ou(this,Ba,a)},e.sb=function(a,b){return kt(a={requestType:"EMAIL_SIGNIN",email:a},b),ou(this,ja,a)},e.qb=function(a,b){return kt(a={requestType:"VERIFY_EMAIL",idToken:a},b),ou(this,Va,a)},e.Ab=function(a,b,t){return kt(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:b},t),ou(this,Fa,a)},e.cb=function(a){return ou(this,eu,a)},e.jb=function(a,b){return ou(this,qa,{oobCode:a,newPassword:b})},e.Pa=function(a){return ou(this,Da,{oobCode:a})},e.fb=function(a){return ou(this,Ta,{oobCode:a})};var Ta={endpoint:"setAccountInfo",A:Ea,Y:"email",C:!0},Da={endpoint:"resetPassword",A:Ea,G:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b&&"VERIFY_AND_CHANGE_EMAIL"!=b)throw new u("internal-error")},C:!0},Aa={endpoint:"signupNewUser",A:function(a){if(da(a),!a.password)throw new u("weak-password")},G:va,U:!0,C:!0},Ca={endpoint:"createAuthUri",C:!0},Na={endpoint:"deleteAccount",M:["idToken"]},Oa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(a){if("array"!=y(a.deleteProvider))throw new u("internal-error")}},xa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:da,G:va,U:!0,C:!0},Pa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:da,G:va,U:!0},Ra={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ya,G:va,C:!0,La:!0},Ma={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ya,G:va,C:!0,La:!0},La={endpoint:"getAccountInfo"},ja={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new u("internal-error");da(a)},Y:"email",C:!0},Va={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new u("internal-error")},Y:"email",C:!0},Fa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new u("internal-error")},Y:"email",C:!0},Ba={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new u("internal-error");da(a)},Y:"email",C:!0},Ua={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},$a={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new u("internal-error")}},qa={endpoint:"resetPassword",A:Ea,Y:"email",C:!0},za={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ha={endpoint:"setAccountInfo",M:["idToken"],A:pa,U:!0},Ga={endpoint:"setAccountInfo",M:["idToken"],A:function(a){if(pa(a),!a.password)throw new u("weak-password")},G:va,U:!0},Wa={endpoint:"signupNewUser",G:va,U:!0,C:!0},Ka={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new u("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new u("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new u("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new u("internal-error")},C:!0,La:!0},Ya={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new u("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new u("internal-error")},C:!0,La:!0},Ja={endpoint:"verifyAssertion",A:ba,Wa:wa,G:_a,U:!0,C:!0},Xa={endpoint:"verifyAssertion",A:ba,Wa:wa,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new u("user-not-found");if(a.errorMessage)throw su(a.errorMessage);va(a)},U:!0,C:!0},Qa={endpoint:"verifyAssertion",A:function(a){if(ba(a),!a.idToken)throw new u("internal-error")},Wa:wa,G:_a,U:!0},Za={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new u("invalid-custom-token")},G:va,U:!0,C:!0},tu={endpoint:"verifyPassword",A:function(a){if(da(a),!a.password)throw new u("wrong-password")},G:va,U:!0,C:!0},eu={endpoint:"verifyPhoneNumber",A:ma,G:va,C:!0},nu={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new u("internal-error");ma(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",Zo(a);va(a)}},iu={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ma,G:va,C:!0},ru={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[na]^!!a.refreshToken)throw new u("internal-error")},C:!0,La:!0};function ou(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.M))return Me(new u("internal-error"));var e,n=!!b.La,r=b.Rb||"POST";return Re(t).then(b.A).then((function(){return b.U&&(t.returnSecureToken=!0),b.C&&a.b&&void 0===t.tenantId&&(t.tenantId=a.b),fa(a,n?a.l:a.h,b.endpoint,r,t,b.Eb,b.hb||!1)})).then((function(g){return e=g,b.Wa?b.Wa(t,e):e})).then(b.G).then((function(){if(!b.Y)return e;if(!(b.Y in e))throw new u("internal-error");return e[b.Y]}))}function su(a){return au({error:{errors:[{message:a}],code:400,message:a}})}function au(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new u(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",kt(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new u(e[n],b);return!b&&a&&(b=Fi(a)),new u("internal-error",b)}function uu(a){this.b=a,this.a=null,this.nb=function(a){return(fu||(fu=new De((function(a,b){function t(){zi(),Pi("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){zi(),b(Error("Network Error"))},timeout:lu.get()})}if(Pi("gapi.iframes.Iframe"))a();else if(Pi("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[e]=function(){Pi("gapi.load")?t():b(Error("Network Error"))},Re(Ws(e=Pt(cu,{onload:e}))).o((function(){b(Error("Network Error"))}))}})).o((function(a){throw fu=null,a})))).then((function(){return new De((function(b,t){Pi("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){t(Error("Network Error"))}),hu.get());e.ping(n).then(n,(function(){t(Error("Network Error"))}))}))}))}))}(this)}var cu=new Tt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),lu=new Hi(3e4,6e4),hu=new Hi(5e3,15e3),fu=null;function du(a,b,t){this.i=a,this.g=b,this.h=t,this.f=null,this.a=zn(this.i,"/__/auth/iframe"),Un(this.a,"apiKey",this.g),Un(this.a,"appName",this.h),this.b=null,this.c=[]}function pu(a,b,t,e,n){this.s=a,this.m=b,this.c=t,this.u=e,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function vu(a){try{return r.a.app(a).auth().Ea()}catch(t){return[]}}function mu(a,b,t,e,n){this.u=a,this.f=b,this.b=t,this.c=e||null,this.h=n||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function gu(a){var b=pi();return function(a){return ou(a,Ua,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(t){t:{var e=qn(b),n=e.f;e=e.b;for(var r=0;r<t.length;r++){var g=t[r],o=e,c=n;if(0==g.indexOf("chrome-extension://")?o=qn(g).b==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:bi.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new th(pi())}))}function yu(a){return a.l||(a.l=_i().then((function(){if(!a.s){var b=a.c,t=a.h,e=vu(a.b),n=new du(a.u,a.f,a.b);n.f=b,n.b=t,n.c=it(e||[]),a.s=n.toString()}a.i=new uu(a.s),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");!function(a,b){a.nb.then((function(){a.a.register("authEvent",b,Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.i,(function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=Ko(b.authEvent),t=0;t<a.g.length;t++)e=a.g[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Re(t)}return t.status="ERROR",Re(t)}))}(a)}))),a.l}function bu(a){return a.m||(a.w=a.c?Oi(a.c,vu(a.b)):null,a.m=new ta(a.f,L(a.h),a.w)),a.m}function wu(a,b,t,e,n,r,g,o,c,p,l){return(a=new pu(a,b,t,e,n)).l=r,a.g=g,a.i=o,a.b=St(c||null),a.f=p,a.ub(l).toString()}function _u(a){if(this.a=a||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new u("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Su(a){this.b=a,this.a={},this.f=D(this.c,this)}du.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):ni(this.a.a,"v"),this.b?Un(this.a,"eid",this.b):ni(this.a.a,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):ni(this.a.a,"fw"),this.a.toString()},pu.prototype.ub=function(a){return this.h=a,this},pu.prototype.toString=function(){var a=zn(this.s,"/__/auth/handler");if(Un(a,"apiKey",this.m),Un(a,"appName",this.c),Un(a,"authType",this.u),this.a.isOAuthProvider){var b=this.a;try{var t=r.a.app(this.c).auth().ja()}catch(e){t=null}for(var e in b.kb=t,Un(a,"providerId",this.a.providerId),t=Bi((b=this.a).Fb))t[e]=t[e].toString();e=b.Oc,t=St(t);for(var n=0;n<e.length;n++){var o=e[n];o in t&&delete t[o]}b.lb&&b.kb&&!t[b.lb]&&(t[b.lb]=b.kb),_t(t)||Un(a,"customParameters",Fi(t))}if("function"==typeof this.a.Nb&&((b=this.a.Nb()).length&&Un(a,"scopes",b.join(","))),this.l?Un(a,"redirectUrl",this.l):ni(a.a,"redirectUrl"),this.g?Un(a,"eventId",this.g):ni(a.a,"eventId"),this.i?Un(a,"v",this.i):ni(a.a,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!$n(a,g)&&Un(a,g,this.b[g]);return this.h?Un(a,"tid",this.h):ni(a.a,"tid"),this.f?Un(a,"eid",this.f):ni(a.a,"eid"),(g=vu(this.c)).length&&Un(a,"fw",g.join(",")),a.toString()},(e=mu.prototype).Lb=function(a,b,t){var e=new u("popup-closed-by-user"),n=new u("web-storage-unsupported"),r=this,g=!1;return this.ka().then((function(){(function(a){var b={type:"webStorageSupport"};return yu(a).then((function(){return function(a,b){return a.nb.then((function(){return new De((function(t){a.a.send(b.type,b,t,Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.i,b)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(t){t||(a&&gi(a),b(n),g=!0)}))})).o((function(){})).then((function(){if(!g)return function(a){return new De((function(b){return function t(){Nn(2e3).then((function(){if(a&&!a.closed)return t();b()}))}()}))}(a)})).then((function(){if(!g)return Nn(t).then((function(){b(e)}))}))},e.Ub=function(){var a=xi();return!Vi(a)&&!qi(a)},e.Qb=function(){return!1},e.Jb=function(a,b,t,e,n,r,g,o){if(!a)return Me(new u("popup-blocked"));if(g&&!Vi())return this.ka().o((function(p){gi(a),n(p)})),e(),Re();this.a||(this.a=gu(bu(this)));var c=this;return this.a.then((function(){var p=c.ka().o((function(t){throw gi(a),n(t),t}));return e(),p})).then((function(){(Go(t),g)||vi(wu(c.u,c.f,c.b,b,t,null,r,c.c,void 0,c.h,o),a)})).o((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},e.Kb=function(a,b,t,e){this.a||(this.a=gu(bu(this)));var n=this;return this.a.then((function(){Go(b),vi(wu(n.u,n.f,n.b,a,b,pi(),t,n.c,void 0,n.h,e))})).o((function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t}))},e.ka=function(){var a=this;return yu(this).then((function(){return a.i.nb})).o((function(){throw a.a=null,new u("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(a){this.g.push(a)},e.Qa=function(a){et(this.g,(function(b){return b==a}))},(e=_u.prototype).get=function(a){return Re(this.a.getItem(a)).then((function(b){return b&&Ui(b)}))},e.set=function(a,b){return Re(this.a.setItem(a,Fi(b)))},e.T=function(a){return Re(this.a.removeItem(a))},e.ba=function(){},e.ha=function(){};var Iu,ku=[];function Eu(a,b,t){_t(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(t)}function Tu(a){this.a=a}function Du(a){this.c=a,this.b=!1,this.a=[]}function Au(a,b,t,e){var n,g,r,o,c=t||{},p=null;if(a.b)return Me(Error("connection_unavailable"));var l=e?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new De((function(t,e){h?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),r=setTimeout((function(){e(Error("unsupported_event"))}),l),p={messageChannel:h,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?t(c.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),h.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[h.port2])):e(Error("connection_unavailable"))})).then((function(t){return Cu(a,p),t})).o((function(t){throw Cu(a,p),t}))}function Cu(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),et(a.a,(function(t){return t==b}))}}function Nu(){if(!Pu())throw new u("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=f.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var a=this;ki()&&self?(this.l=function(){var a=ki()?self:null;if(Y(ku,(function(t){t.b==a&&(b=t)})),!b){var b=new Su(a);ku.push(b)}return b}(),Eu(this.l,"keyChanged",(function(b,t){return Vu(a).then((function(e){return 0<e.length&&Y(a.a,(function(t){t(e)})),{keyProcessed:Z(e,t.key)}}))})),Eu(this.l,"ping",(function(){return Re(["keyChanged"])}))):function(){var a=f.navigator;return a&&a.serviceWorker?Re().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).o((function(){return null})):Re(null)}().then((function(b){(a.h=b)&&(a.g=new Du(new Tu(b)),Au(a.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Z(t[0].value,"keyChanged")&&(a.s=!0)})).o((function(){})))}))}function Ou(a){return new De((function(b,t){var e=a.u.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new De((function(b,t){var e=a.u.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}}))}(a).then((function(){return Ou(a)})).then((function(t){b(t)})).o((function(e){t(e)}))}}))}function xu(a){return a.m||(a.m=Ou(a)),a.m}function Pu(){try{return!!f.indexedDB}catch(t){return!1}}function Ru(a){return a.objectStore("firebaseLocalStorage")}function Mu(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function Lu(a){return new De((function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}}))}function ju(a,b){return a.g&&a.h&&function(){var a=f.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Au(a.g,"keyChanged",{key:b},a.s).then((function(){})).o((function(){})):Re()}function Vu(a){return xu(a).then((function(b){var t=Ru(Mu(b,!1));return t.getAll?Lu(t.getAll()):new De((function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}}))})).then((function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=function t(a,b){var e,n=[];for(e in a)e in b?typeof a[e]!=typeof b[e]?n.push(e):"object"==typeof a[e]&&null!=a[e]&&null!=b[e]?0<t(a[e],b[e]).length&&n.push(e):a[e]!==b[e]&&n.push(e):n.push(e);for(e in b)e in a||n.push(e);return n}(a.c,t),a.c=t}return e}))}function Fu(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function Bu(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Re().then((function(){if(Pu()){var e=$i(),n="__sak"+e;return Iu||(Iu=new Nu),(t=Iu).set(n,e).then((function(){return t.get(n)})).then((function(r){if(r!==e)throw Error("indexedDB not supported!");return t.T(n)})).then((function(){return t})).o((function(){return b.c}))}return b.c})).then((function(t){return b.type=t.type,t.ba((function(t){Y(b.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function $u(){if(!function(){var a="Node"==Ei();if(!(a=qu()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ei())throw new u("internal-error","The LocalStorage compatibility library was not found.");throw new u("web-storage-unsupported")}this.a=qu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var a=f.localStorage,b=$i();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function zu(){this.type="nullStorage"}function Hu(){if(!function(){var a="Node"==Ei();if(!(a=Gu()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ei())throw new u("internal-error","The SessionStorage compatibility library was not found.");throw new u("web-storage-unsupported")}this.a=Gu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var a=f.sessionStorage,b=$i();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function Wu(){var a={};a.Browser=Ju,a.Node=Xu,a.ReactNative=Qu,a.Worker=Zu,this.a=a[Ei()]}Su.prototype.c=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];Y(e,(function(t){n.push(Re().then((function(){return t(a.origin,a.data.data)})))})),je(n).then((function(e){var g=[];Y(e,(function(t){g.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),Y(g,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})}))}},Tu.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},Du.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(e=Nu.prototype).set=function(a,b){var t,e=!1,n=this;return xu(this).then((function(e){return Lu((e=Ru(Mu(t=e,!0))).get(a))})).then((function(r){var g=Ru(Mu(t,!0));return r?(r.value=b,Lu(g.put(r))):(n.b++,e=!0,(r={}).fbase_key=a,r.value=b,Lu(g.add(r)))})).then((function(){return n.c[a]=b,ju(n,a)})).ma((function(){e&&n.b--}))},e.get=function(a){return xu(this).then((function(b){return Lu(Ru(Mu(b,!1)).get(a))})).then((function(b){return b&&b.value}))},e.T=function(a){var b=!1,t=this;return xu(this).then((function(e){return b=!0,t.b++,Lu(Ru(Mu(e,!0)).delete(a))})).then((function(){return delete t.c[a],ju(t,a)})).ma((function(){b&&t.b--}))},e.ba=function(a){0==this.a.length&&function(a){Fu(a),function b(){a.f=setTimeout((function(){a.i=Vu(a).then((function(t){0<t.length&&Y(a.a,(function(e){e(t)}))})).then((function(){b()})).o((function(t){"STOP_EVENT"!=t.message&&b()}))}),800)}()}(this),this.a.push(a)},e.ha=function(a){et(this.a,(function(b){return b==a})),0==this.a.length&&Fu(this)},(e=Bu.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},e.set=function(a,b){return this.b.then((function(t){return t.set(a,b)}))},e.T=function(a){return this.b.then((function(b){return b.T(a)}))},e.ba=function(a){this.a.push(a)},e.ha=function(a){et(this.a,(function(b){return b==a}))},(e=Uu.prototype).get=function(a){return Re(this.a[a])},e.set=function(a,b){return this.a[a]=b,Re()},e.T=function(a){return delete this.a[a],Re()},e.ba=function(){},e.ha=function(){},(e=$u.prototype).get=function(a){var b=this;return Re().then((function(){return Ui(b.a.getItem(a))}))},e.set=function(a,b){var t=this;return Re().then((function(){var e=Fi(b);null===e?t.T(a):t.a.setItem(a,e)}))},e.T=function(a){var b=this;return Re().then((function(){b.a.removeItem(a)}))},e.ba=function(a){f.window&&pn(f.window,"storage",a)},e.ha=function(a){f.window&&td(f.window,"storage",a)},(e=zu.prototype).get=function(){return Re(null)},e.set=function(){return Re()},e.T=function(){return Re()},e.ba=function(){},e.ha=function(){},(e=Hu.prototype).get=function(a){var b=this;return Re().then((function(){return Ui(b.a.getItem(a))}))},e.set=function(a,b){var t=this;return Re().then((function(){var e=Fi(b);null===e?t.T(a):t.a.setItem(a,e)}))},e.T=function(a){var b=this;return Re().then((function(){b.a.removeItem(a)}))},e.ba=function(){},e.ha=function(){};var Ku,Yu,Ju={F:$u,$a:Hu},Xu={F:$u,$a:Hu},Qu={F:_u,$a:zu},Zu={F:$u,$a:zu},tc={od:"local",NONE:"none",qd:"session"};function ec(){var a=!(qi(xi())||!Ii()),b=Vi(),t=Ri();this.m=a,this.h=b,this.l=t,this.a={},Ku||(Ku=new Wu),a=Ku;try{this.g=!di()&&Ki()||!f.indexedDB?new a.a.F:new Bu(ki()?new Uu:new a.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new a.a.$a}catch(t){this.i=new Uu}this.u=new Uu,this.f=D(this.Vb,this),this.b={}}function nc(){return Yu||(Yu=new ec),Yu}function ic(a,b){switch(b){case"session":return a.i;case"none":return a.u;default:return a.g}}function rc(a,b){return"firebase:"+a.name+(b?":"+b:"")}function oc(a,b,t){return t=rc(b,t),"local"==b.F&&(a.b[t]=null),ic(a,b.F).T(t)}function sc(a){a.c&&(clearInterval(a.c),a.c=null)}function ac(a){this.a=a,this.b=nc()}(e=ec.prototype).get=function(a,b){return ic(this,a.F).get(rc(a,b))},e.set=function(a,b,t){var e=rc(a,t),n=this,r=ic(this,a.F);return r.set(e,b).then((function(){return r.get(e)})).then((function(g){"local"==a.F&&(n.b[e]=g)}))},e.addListener=function(a,b,t){a=rc(a,b),this.l&&(this.b[a]=f.localStorage.getItem(a)),_t(this.a)&&(ic(this,"local").ba(this.f),this.h||(di()||!Ki())&&f.indexedDB||!this.l||function(a){sc(a),a.c=setInterval((function(){for(var b in a.a){var t=f.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new rn({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Vb(t))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},e.removeListener=function(a,b,t){a=rc(a,b),this.a[a]&&(et(this.a[a],(function(e){return e==t})),0==this.a[a].length&&delete this.a[a]),_t(this.a)&&(ic(this,"local").ha(this.f),sc(this))},e.Vb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var n=f.localStorage.getItem(t);n!==e&&(this.b[t]=n,this.ib(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?ic(this,"local").ha(this.f):sc(this),this.m)if(t=f.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?f.localStorage.setItem(b,e):f.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var r=this;t=function(){void 0===a.a.a&&r.b[b]===f.localStorage.getItem(b)||(r.b[b]=f.localStorage.getItem(b),r.ib(b))},te&&ce&&10==ce&&f.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else Y(a,D(this.ib,this))},e.ib=function(a){this.a[a]&&Y(this.a[a],(function(b){b()}))};var uc,cc={name:"authEvent",F:"local"};function lc(){this.a=nc()}function hc(a,b){this.b=fc,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=f.Int32Array?new Int32Array(64):Array(64),void 0===uc&&(uc=f.Int32Array?new Int32Array(yc):yc),this.reset()}N(hc,(function(){this.b=-1}));for(var fc=64,dl=fc-1,dc=[],pc=0;pc<dl;pc++)dc[pc]=0;var vc=nt(128,dc);function mc(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],l=0|a.a[5],h=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var f=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&l^~p&h)+(0|uc[b])|0)+(0|t[b])|0)|0,r=h,h=l,l=p,p=c+g|0,c=o,o=n,n=e,e=g+f|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+l|0,a.a[6]=a.a[6]+h|0,a.a[7]=a.a[7]+r|0}function gc(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if("string"==typeof b)for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(mc(a),n=0);else{if(!w(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(mc(a),n=0)}}a.c=n,a.g+=t}hc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):it(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){hc.call(this,8,wc)}N(bc,hc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(a,b,t,e,n){this.u=a,this.i=b,this.l=t,this.m=e||null,this.s=n||null,this.h=b+":"+t,this.w=new lc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(a){return new u("invalid-cordova-configuration",a)}function ol(a){var b=new bc;gc(b,a),a=[];var t=8*b.g;56>b.c?gc(b,vc,56-b.c):gc(b,vc,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(mc(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return X(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function Ic(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function kc(a){return a.f||(a.f=a.ka().then((function(){return new De((function(b){a.Ca((function t(e){return b(e),a.Qa(t),!1})),function(a){function b(g){e=!0,n&&n.cancel(),Ec(a).then((function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=ho(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Ui($n(p=qn(n),"firebaseError")||null))?O(p):null)?new Wo(e.c,e.b,null,null,p,null,e.S()):new Wo(e.c,e.b,n,e.f,null,null,e.S())),n=p||t}Ic(a,n)}))}var t=new Wo("unknown",null,null,null,new u("no-auth-event")),e=!1,n=Nn(500).then((function(){return Ec(a).then((function(){e||Ic(a,t)}))})),r=f.handleOpenURL;f.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(Pi("BuildInfo.packageName",f).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(t){console.error(t)}},Xo||(Xo=new Yo),function(a){var b=Xo;b.a.push(a),b.b||(b.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=Pi("universalLinks.subscribe",f))&&a(null,b.b))}(b)}(a)}))}))),a.f}function Ec(a){var b=null;return function(a){return a.b.get(cc,a.a).then((function(b){return Ko(b)}))}(a.g).then((function(t){return b=t,oc((t=a.g).b,cc,t.a)})).then((function(){return b}))}function ul(a){this.a=a,this.b=nc()}(e=_c.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(Si(void 0)?_i().then((function(){return new De((function(a,b){var t=f.document,e=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);t.addEventListener("deviceready",(function(){clearTimeout(e),a()}),!1)}))})):Me(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Pi("universalLinks.subscribe",f))throw Sc("cordova-universal-links-plugin-fix is not installed");if(void 0===Pi("BuildInfo.packageName",f))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Pi("cordova.plugins.browsertab.openUrl",f))throw Sc("cordova-plugin-browsertab is not installed");if("function"!=typeof Pi("cordova.InAppBrowser.open",f))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new u("cordova-not-ready")}))},e.Lb=function(a,b){return b(new u("operation-not-supported-in-this-environment")),Re()},e.Jb=function(){return Me(new u("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(a,b,t,e){if(this.c)return Me(new u("redirect-operation-pending"));var n=this,r=f.document,g=null,o=null,c=null,p=null;return this.c=Re().then((function(){return Go(b),kc(n)})).then((function(){return function(a,b,t,e,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new Wo(b,e,null,r,new u("no-auth-event"),null,n),o=Pi("BuildInfo.packageName",f);if("string"!=typeof o)throw new u("invalid-cordova-configuration");var c=Pi("BuildInfo.displayName",f),p={};if(xi().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!xi().toLowerCase().match(/android/))return Me(new u("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=ol(r),p.sessionId=r;var l=wu(a.u,a.i,a.l,b,t,null,e,a.m,p,a.s,n);return a.ka().then((function(){var t=a.h;return a.w.a.set(cc,g.v(),t)})).then((function(){var t=Pi("cordova.plugins.browsertab.isAvailable",f);if("function"!=typeof t)throw new u("invalid-cordova-configuration");var e=null;t((function(t){if(t){if("function"!=typeof(e=Pi("cordova.plugins.browsertab.openUrl",f)))throw new u("invalid-cordova-configuration");e(l)}else{if("function"!=typeof(e=Pi("cordova.InAppBrowser.open",f)))throw new u("invalid-cordova-configuration");t=xi(),a.a=e(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,t,e)})).then((function(){return new De((function(t,e){o=function(){var e=Pi("cordova.plugins.browsertab.close",f);return t(),"function"==typeof e&&e(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Ca(o),c=function(){g||(g=Nn(2e3).then((function(){e(new u("redirect-cancelled-by-user"))})))},p=function(){Gi()&&c()},r.addEventListener("resume",c,!1),xi().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).o((function(t){return Ec(n).then((function(){throw t}))}))})).ma((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Qa(o),n.c=null}))},e.Ca=function(a){this.b.push(a),kc(this).o((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new Wo("unknown",null,null,null,new u("no-auth-event")),a(b))}))},e.Qa=function(a){et(this.b,(function(b){return b==a}))};var Tc={name:"pendingRedirect",F:"session"};function Dc(a){return oc(a.b,Tc,a.a)}function Ac(a,b,t){this.i={},this.w=0,this.D=a,this.u=b,this.m=t,this.h=[],this.f=!1,this.l=D(this.s,this),this.b=new $c,this.B=new Wc,this.g=new ul(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Cc(this.D,this.u,this.m,x)}function Cc(a,b,t,e){var n=r.a.SDK_VERSION||null;return Si()?new _c(a,b,t,n,e):new mu(a,b,t,n,e)}function Nc(a){a.f||(a.f=!0,a.a.Ca(a.l));var b=a.a;return a.a.ka().o((function(t){throw a.a==b&&a.reset(),t}))}function Oc(a){a.a.Ub()&&Nc(a).o((function(b){var t=new Wo("unknown",null,null,null,new u("operation-not-supported-in-this-environment"));jc(b)&&a.s(t)})),a.a.Qb()||qc(a.b)}function xc(a,b){Z(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(Tc,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(t){t?Dc(a.g).then((function(){Nc(a).o((function(t){var e=new Wo("unknown",null,null,null,new u("operation-not-supported-in-this-environment"));jc(t)&&a.s(e)}))})):Oc(a)})).o((function(){Oc(a)}))}function Pc(a,b){et(a.h,(function(t){return t==b}))}Ac.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Cc(this.D,this.u,this.m),this.i={}},Ac.prototype.s=function(a){if(!a)throw new u("invalid-auth-event");if(6e5<=C()-this.w&&(this.i={},this.w=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.Cb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.w=C())),b=!0;break}}return qc(this.b),b};var Rc=new Hi(2e3,1e4),Mc=new Hi(3e4,6e4);function Lc(a,b,t,e,n,r,g){return a.a.Jb(b,t,e,(function(){a.f||(a.f=!0,a.a.Ca(a.l))}),(function(){a.reset()}),n,r,g)}function jc(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Vc(a,b,t,e,n){var r;return function(a){return a.b.set(Tc,"pending",a.a)}(a.g).then((function(){return a.a.Kb(b,t,e,n).o((function(g){if(jc(g))throw new u("operation-not-supported-in-this-environment");return r=g,Dc(a.g).then((function(){throw r}))})).then((function(){return a.a.Xb()?new De((function(){})):Dc(a.g).then((function(){return a.pa()})).then((function(){})).o((function(){}))}))}))}function Fc(a,b,t,e,n){return a.a.Lb(e,(function(e){b.la(t,null,e,n)}),Rc.get())}Ac.prototype.pa=function(){return this.b.pa()};var Bc={};function Uc(a,b,t){var e=b+":"+t;return Bc[e]||(Bc[e]=new Ac(a,b,t)),Bc[e]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(a){a.g||(a.g=!0,Gc(a,!1,null,null))}function zc(a){a.g&&!a.i&&Gc(a,!1,null,null)}function Hc(a,b){if(a.b=function(){return Re(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function Gc(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Me(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):Hc(a,t):Hc(a,{user:null}),a.f=[],a.c=[]}function Wc(){}function Kc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(a){this.Bb=a},enumerable:!1})}function Yc(a,b){this.a=b,Zi(this,"verificationId",a)}function Jc(a,b,t,e){return new qo(a).cb(b,t).then((function(t){return new Yc(t,e)}))}function Xc(a){var b=Xr(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new u("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:a,expirationTime:Wi(1e3*b.exp),authTime:Wi(1e3*b.auth_time),issuedAtTime:Wi(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,signInSecondFactor:b.firebase&&b.firebase.sign_in_second_factor?b.firebase.sign_in_second_factor:null,claims:b})}function Qc(a,b,t){var e=b&&b[tl];if(!e)throw new u("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=St(b),this.g=t,this.c=new fo(null,e),this.b=[];var n=this;Y(b[Zc]||[],(function(t){(t=or(t))&&n.b.push(t)})),Zi(this,"auth",this.a),Zi(this,"session",this.c),Zi(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(Gc(this,!0,null,a.a),Re()):b.Da(t,e)?function(a,b,t){t=t.Da(b.c,b.b);var e=b.g,n=b.f,r=b.i,g=b.S(),o=!!b.c.match(/Redirect$/);t(e,n,g,r).then((function(t){Gc(a,o,t,null)})).o((function(t){Gc(a,o,null,t)}))}(this,a,b):Me(new u("invalid-auth-event")):(Gc(this,!1,null,null),Re())}else Me(new u("invalid-auth-event"))},$c.prototype.pa=function(){var a=this;return new De((function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new u("timeout");a.a&&a.a.cancel(),a.a=Nn(Mc.get()).then((function(){a.b||(a.g=!0,Gc(a,!0,null,b))}))}(a))}))},Wc.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.la(a.c,null,a.a,a.b),Re()):b.Da(t,e)?function(a,b){var t=a.b,e=a.c;b.Da(e,t)(a.g,a.f,a.S(),a.i).then((function(n){b.la(e,n,null,t)})).o((function(n){b.la(e,null,n,t)}))}(a,b):Me(new u("invalid-auth-event"))}else Me(new u("invalid-auth-event"))},Yc.prototype.confirm=function(a){return a=zo(this.verificationId,a),this.a(a)};var Zc="mfaInfo",tl="mfaPendingCredential";function el(a,b,t,e){u.call(this,"multi-factor-auth-required",e,b),this.b=new Qc(a,b,t),Zi(this,"resolver",this.b)}function em(a,b,t){if(a&&q(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new el(b,a.serverResponse,t,a.message)}catch(t){}return null}function nl(){}function il(a){Zi(this,"factorId",a.ea),this.a=a}function rl(a){if(il.call(this,a),this.a.ea!=qo.PROVIDER_ID)throw new u("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sl(a,b){for(var t in nn.call(this,a),b)this[t]=b[t]}function al(a,b){this.a=a,this.b=[],this.c=D(this.wc,this),pn(this.a,"userReloaded",this.c);var t=[];b&&b.multiFactor&&b.multiFactor.enrolledFactors&&Y(b.multiFactor.enrolledFactors,(function(e){var n=null,r={};if(e){e.uid&&(r[ur]=e.uid),e.displayName&&(r[sr]=e.displayName),e.enrollmentTime&&(r[ar]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[cr]=e.phoneNumber);try{n=new lr(r)}catch(t){}e=n}else e=null;e&&t.push(e)})),cl(this,t)}function cl(a,b){a.b=b,Zi(a,"enrolledFactors",b)}function ll(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(a){this.c=a,this.b=this.a=null}function fl(a){return a.b&&1e3*a.b.c||0}function pl(a,b){var t=b.refreshToken;a.b=Jr(b[na]||""),a.a=t}function vl(a,b){return function(a,b){return new De((function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?ca(a,a.u+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?e(au(n)):n.access_token&&n.refresh_token?t(n):e(new u("internal-error")):e(new u("network-request-failed"))}),"POST",ei(b).toString(),a.g,a.m.get()):e(new u("internal-error"))}))}(a.c,b).then((function(t){return a.b=Jr(t.access_token),a.a=t.refresh_token,{accessToken:a.b.toString(),refreshToken:a.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t}))}function ml(a,b){this.a=a||null,this.b=b||null,er(this,{lastSignInTime:Wi(b||null),creationTime:Wi(a||null)})}function gl(a,b,t,e,n,r){er(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function yl(a,b,t){this.N=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null,a=r.a.SDK_VERSION?Oi(r.a.SDK_VERSION):null,this.a=new ta(this.l,L(x),a),this.b=new hl(this.a),El(this,b[na]),pl(this.b,b),Zi(this,"refreshToken",this.b.a),Al(this,t||{}),En.call(this),this.P=!1,this.s&&Mi()&&(this.i=Uc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(a){return new ll((function(){return a.I(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=fl(a.b)-C()-3e5;return 0<b?b:0}))}(this),this.Z=D(this.Ma,this);var e=this;this.oa=null,this.za=function(t){e.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){wl(e,t.c)},this.$=null,this.O=new al(this,t),Zi(this,"multiFactor",this.O)}function bl(a,b){a.aa&&td(a.aa,"languageCodeChanged",a.za),(a.aa=b)&&pn(b,"languageCodeChanged",a.za)}function wl(a,b){a.W=b,ua(a.a,r.a.SDK_VERSION?Oi(r.a.SDK_VERSION,a.W):null)}function _l(a,b){a.$&&td(a.$,"frameworkChanged",a.ya),(a.$=b)&&pn(b,"frameworkChanged",a.ya)}function Sl(a){try{return r.a.app(a.m).auth()}catch(t){throw new u("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Il(a){a.D||a.B.b||(a.B.start(),td(a,"tokenChanged",a.Z),pn(a,"tokenChanged",a.Z))}function kl(a){td(a,"tokenChanged",a.Z),a.B.stop()}function El(a,b){a.xa=b,Zi(a,"_lat",b)}function Tl(a){for(var b=[],t=0;t<a.R.length;t++)b.push(a.R[t](a));return je(b).then((function(){return a}))}function Dl(a){a.i&&!a.P&&(a.P=!0,xc(a.i,a))}function Al(a,b){er(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new ml(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Cl(){}function Nl(a){return Re().then((function(){if(a.D)throw new u("app-deleted")}))}function Ol(a){return X(a.providerData,(function(b){return b.providerId}))}function xl(a,b){b&&(Pl(a,b.providerId),a.providerData.push(b))}function Pl(a,b){et(a.providerData,(function(t){return t.providerId==b}))}function Rl(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&Zi(a,b,t)}function Ml(a,b){a!=b&&(er(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?Zi(a,"metadata",function(a){return new ml(a.a,a.b)}(b.metadata)):Zi(a,"metadata",new ml),Y(b.providerData,(function(t){xl(a,t)})),function(a,b){a.b=b.b,a.a=b.a}(a.b,b.b),Zi(a,"refreshToken",a.b.a),cl(a.O,b.O.b))}function Ll(a){return a.I().then((function(b){var t=a.isAnonymous;return function(a,b){return ou(a.a,La,{idToken:b}).then(D(a.Ic,a))}(a,b).then((function(){return t||Rl(a,"isAnonymous",!1),b}))}))}function jl(a,b){b[na]&&a.xa!=b[na]&&(pl(a.b,b),a.dispatchEvent(new sl("tokenChanged")),El(a,b[na]),Rl(a,"refreshToken",a.b.a))}function Vl(a,b){return Ll(a).then((function(){if(Z(Ol(a),b))return Tl(a).then((function(){throw new u("provider-already-linked")}))}))}function Fl(a,b,t){return nr({user:a,credential:Ho(b),additionalUserInfo:b=no(b),operationType:t})}function Bl(a,b){return jl(a,b),a.reload().then((function(){return a}))}function Ul(a,b,t,e,n){if(!Mi())return Me(new u("operation-not-supported-in-this-environment"));if(a.h&&!n)return Me(a.h);var o=eo(t.providerId),g=$i(a.uid+":::"),c=null;(!Vi()||Ii())&&a.s&&t.isOAuthProvider&&(c=wu(a.s,a.l,a.m,b,t,null,g,r.a.SDK_VERSION||null,null,null,a.tenantId));var l=yi(c,o&&o.ta,o&&o.sa);return e=e().then((function(){if(ql(a),!n)return a.I().then((function(){}))})).then((function(){return Lc(a.i,l,b,t,g,!!c,a.tenantId)})).then((function(){return new De((function(p,t){a.la(b,null,new u("cancelled-popup-request"),a.g||null),a.f=p,a.w=t,a.g=g,a.c=Fc(a.i,a,b,l,g)}))})).then((function(p){return l&&gi(l),p?nr(p):null})).o((function(p){throw l&&gi(l),p})),zl(a,e,n)}function $l(a,b,t,e,n){if(!Mi())return Me(new u("operation-not-supported-in-this-environment"));if(a.h&&!n)return Me(a.h);var r=null,g=$i(a.uid+":::");return e=e().then((function(){if(ql(a),!n)return a.I().then((function(){}))})).then((function(){return a.fa=g,Tl(a)})).then((function(t){return a.ga&&(t=(t=a.ga).b.set(Wl,a.v(),t.a)),t})).then((function(){return Vc(a.i,b,t,g,a.tenantId)})).o((function(t){if(r=t,a.ga)return Kl(a.ga);throw r})).then((function(){if(r)throw r})),zl(a,e,n)}function ql(a){if(!a.i||!a.P){if(a.i&&!a.P)throw new u("internal-error");throw new u("auth-domain-config-required")}}function zl(a,b,t){var e=function(a,b,t){return a.h&&!t?(b.cancel(),Me(a.h)):b.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.h||a.dispatchEvent(new sl("userInvalidated")),a.h=t),t}))}(a,b,t);return a.N.push(e),e.ma((function(){tt(a.N,e)})),e.o((function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=em(t.v(),Sl(a),D(a.hc,a))),e||t}))}function Hl(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},t={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;t[na]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null;var e=new yl(b,t,a);return a.providerData&&Y(a.providerData,(function(t){t&&xl(e,nr(t))})),a.redirectEventId&&(e.fa=a.redirectEventId),e}function Gl(a){this.a=a,this.b=nc()}Qc.prototype.Pc=function(a){var b=this;return a.ob(this.a.b,this.c).then((function(t){var e=St(b.f);return delete e[Zc],delete e[tl],kt(e,t),b.g(e)}))},N(el,u),nl.prototype.ob=function(a,b,t){return b.type==po?function(a,b,t,e){return t.Fa().then((function(t){return t={idToken:t},void 0!==e&&(t.displayName=e),kt(t,{phoneVerificationInfo:$o(a.a)}),ou(b,Ra,t)}))}(this,a,b,t):function(a,b,t){return t.Fa().then((function(t){return kt(t={mfaPendingCredential:t},{phoneVerificationInfo:$o(a.a)}),ou(b,Ma,t)}))}(this,a,b)},N(il,nl),N(rl,il),N(sl,nn),(e=al.prototype).wc=function(a){cl(this,function(a){var b=[];return Y(a.mfaInfo||[],(function(t){(t=or(t))&&b.push(t)})),b}(a.ed))},e.Ob=function(){return this.a.I().then((function(a){return new fo(a,null)}))},e.dc=function(a,b){var t=this,e=this.a.a;return this.Ob().then((function(t){return a.ob(e,t,b)})).then((function(e){return jl(t.a,e),t.a.reload()}))},e.$c=function(a){var b=this,t="string"==typeof a?a:a.uid,e=this.a.a;return this.a.I().then((function(n){return ou(e,ru,{idToken:n,mfaEnrollmentId:t})})).then((function(e){var n=J(b.b,(function(g){return g.uid!=t}));return cl(b,n),jl(b.a,e),b.a.reload().o((function(g){if("auth/user-token-expired"!=g.code)throw g}))}))},e.v=function(){return{multiFactor:{enrolledFactors:X(this.b,(function(a){return a.v()}))}}},ll.prototype.start=function(){this.a=this.c,function t(a,b){a.stop(),a.b=Nn(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=f.document,b=null;return Gi()||!a?Re():new De((function(t){b=function(){Gi()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)})).o((function(t){throw a.removeEventListener("visibilitychange",b,!1),t}))}()})).then((function(){return a.h()})).then((function(){t(a,!0)})).o((function(e){a.i(e)&&t(a,!1)}))}(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},hl.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:fl(this)}},hl.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Me(new u("user-token-expired")):a||!this.b||C()>fl(this)-3e4?this.a?vl(this,{grant_type:"refresh_token",refresh_token:this.a}):Re(null):Re({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},N(yl,En),yl.prototype.va=function(a){this.oa=a,aa(this.a,a)},yl.prototype.ja=function(){return this.oa},yl.prototype.Ea=function(){return it(this.W)},yl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Zi(yl.prototype,"providerId","firebase"),(e=yl.prototype).reload=function(){var a=this;return zl(this,Nl(this).then((function(){return Ll(a).then((function(){return Tl(a)})).then(Cl)})))},e.mc=function(a){return this.I(a).then((function(b){return new Xc(b)}))},e.I=function(a){var b=this;return zl(this,Nl(this).then((function(){return b.b.getToken(a)})).then((function(t){if(!t)throw new u("internal-error");return t.accessToken!=b.xa&&(El(b,t.accessToken),b.dispatchEvent(new sl("tokenChanged"))),Rl(b,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(a){if(!(a=a.users)||!a.length)throw new u("internal-error");Al(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?X(a,(function(b){return new gl(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),t=0;t<b.length;t++)xl(this,b[t]);Rl(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sl("userReloaded",{ed:a}))},e.Jc=function(a){return Xi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(a)},e.pb=function(a){var b=this,t=null;return zl(this,a.c(this.a,this.uid).then((function(e){return jl(b,e),t=Fl(b,e,"reauthenticate"),b.h=null,b.reload()})).then((function(){return t})),!0)},e.Ac=function(a){return Xi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(a)},e.mb=function(a){var b=this,t=null;return zl(this,Vl(this,a.providerId).then((function(){return b.I()})).then((function(t){return a.b(b.a,t)})).then((function(e){return t=Fl(b,e,"link"),Bl(b,e)})).then((function(){return t})))},e.Bc=function(a,b){var t=this;return zl(this,Vl(this,"phone").then((function(){return Jc(Sl(t),a,b,D(t.mb,t))})))},e.Kc=function(a,b){var t=this;return zl(this,Re().then((function(){return Jc(Sl(t),a,b,D(t.pb,t))})),!0)},e.xb=function(a){var b=this;return zl(this,this.I().then((function(t){return b.a.xb(t,a)})).then((function(t){return jl(b,t),b.reload()})))},e.cd=function(a){var b=this;return zl(this,this.I().then((function(t){return a.b(b.a,t)})).then((function(t){return jl(b,t),b.reload()})))},e.yb=function(a){var b=this;return zl(this,this.I().then((function(t){return b.a.yb(t,a)})).then((function(t){return jl(b,t),b.reload()})))},e.zb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Nl(this);var b=this;return zl(this,this.I().then((function(t){return b.a.zb(t,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(t){return jl(b,t),Rl(b,"displayName",t.displayName||null),Rl(b,"photoURL",t.photoUrl||null),Y(b.providerData,(function(t){"password"===t.providerId&&(Zi(t,"displayName",b.displayName),Zi(t,"photoURL",b.photoURL))})),Tl(b)})).then(Cl))},e.ad=function(a){var b=this;return zl(this,Ll(this).then((function(t){return Z(Ol(b),a)?function(a,b,t){return ou(a,Oa,{idToken:b,deleteProvider:t})}(b.a,t,[a]).then((function(t){var e={};return Y(t.providerUserInfo||[],(function(t){e[t.providerId]=!0})),Y(Ol(b),(function(t){e[t]||Pl(b,t)})),e[qo.PROVIDER_ID]||Zi(b,"phoneNumber",null),Tl(b)})):Tl(b).then((function(){throw new u("no-such-provider")}))})))},e.delete=function(){var a=this;return zl(this,this.I().then((function(b){return ou(a.a,Na,{idToken:b})})).then((function(){a.dispatchEvent(new sl("userDeleted"))}))).then((function(){for(var b=0;b<a.N.length;b++)a.N[b].cancel("app-deleted");bl(a,null),_l(a,null),a.N=[],a.D=!0,kl(a),Zi(a,"refreshToken",null),a.i&&Pc(a.i,a)}))},e.Cb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.fa||null)==b||"reauthViaRedirect"==a&&(this.fa||null)==b)},e.la=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.w?this.w(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?D(this.Hb,this):"reauthViaPopup"==a&&b==(this.g||null)?D(this.Ib,this):"linkViaRedirect"==a&&(this.fa||null)==b?D(this.Hb,this):"reauthViaRedirect"==a&&(this.fa||null)==b?D(this.Ib,this):null},e.Cc=function(a){var b=this;return Ul(this,"linkViaPopup",a,(function(){return Vl(b,a.providerId).then((function(){return Tl(b)}))}),!1)},e.Lc=function(a){return Ul(this,"reauthViaPopup",a,(function(){return Re()}),!0)},e.Dc=function(a){var b=this;return $l(this,"linkViaRedirect",a,(function(){return Vl(b,a.providerId)}),!1)},e.Mc=function(a){return $l(this,"reauthViaRedirect",a,(function(){return Re()}),!0)},e.Hb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return zl(this,this.I().then((function(g){return Ia(n.a,{requestUri:a,postBody:e,sessionId:b,idToken:g})})).then((function(g){return r=Fl(n,g,"link"),Bl(n,g)})).then((function(){return r})))},e.Ib=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return zl(this,Re().then((function(){return go(ka(n.a,{requestUri:a,sessionId:b,postBody:e,tenantId:t}),n.uid)})).then((function(t){return r=Fl(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()})).then((function(){return r})),!0)},e.qb=function(a){var b=this,t=null;return zl(this,this.I().then((function(e){return t=e,void 0===a||_t(a)?{}:Gr(new Lr(a))})).then((function(e){return b.a.qb(t,e)})).then((function(t){if(b.email!=t)return b.reload()})).then((function(){})))},e.Ab=function(a,b){var t=this,e=null;return zl(this,this.I().then((function(t){return e=t,void 0===b||_t(b)?{}:Gr(new Lr(b))})).then((function(n){return t.a.Ab(e,a,n)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.hc=function(a){var b=null,t=this;return zl(this,a=go(Re(a),t.uid).then((function(e){return b=Fl(t,e,"reauthenticate"),jl(t,e),t.h=null,t.reload()})).then((function(){return b})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&kt(a,this.metadata.v()),Y(this.providerData,(function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))})),kt(a,this.O.v()),a};var Wl={name:"redirectUser",F:"session"};function Kl(a){return oc(a.b,Wl,a.a)}function Yl(a){this.a=a,this.b=nc(),this.c=null,this.f=function(a){var b=Ql("local"),t=Ql("session"),e=Ql("none");return function(a,b,t){var e=rc(b,t),n=ic(a,b.F);return a.get(b,t).then((function(r){var g=null;try{g=Ui(f.localStorage.getItem(e))}catch(t){}if(g&&!r)return f.localStorage.removeItem(e),a.set(b,g,t);g&&r&&"localStorage"!=n.type&&f.localStorage.removeItem(e)}))}(a.b,b,a.a).then((function(){return a.b.get(t,a.a)})).then((function(n){return n?t:a.b.get(e,a.a).then((function(t){return t?e:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(Xl,a.a).then((function(t){return t?Ql(t):b}))}))}))})).then((function(t){return a.c=t,Jl(a,t.F)})).o((function(){a.c||(a.c=b)}))}(this),this.b.addListener(Ql("local"),this.a,D(this.g,this))}function Jl(a,b){var t,e=[];for(t in tc)tc[t]!==b&&e.push(oc(a.b,Ql(tc[t]),a.a));return e.push(oc(a.b,Xl,a.a)),function(a){return new De((function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,t){e--,n[p]=t,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)Le(a[o],A(r,o),g);else b(n)}))}(e)}Yl.prototype.g=function(){var a=this,b=Ql("local");ih(this,(function(){return Re().then((function(){return a.c&&"local"!=a.c.F?a.b.get(b,a.a):null})).then((function(t){if(t)return Jl(a,"local").then((function(){a.c=b}))}))}))};var Xl={name:"persistence",F:"session"};function Ql(a){return{name:"authUser",F:a}}function Zl(a,b){return ih(a,(function(){return a.b.set(a.c,b.v(),a.a)}))}function eh(a){return ih(a,(function(){return oc(a.b,a.c,a.a)}))}function nh(a,b){return ih(a,(function(){return a.b.get(a.c,a.a).then((function(t){return t&&b&&(t.authDomain=b),Hl(t||{})}))}))}function ih(a,b){return a.f=a.f.then(b,b),a.f}function rh(a){if(this.l=!1,Zi(this,"settings",new Kc),Zi(this,"app",a),!fh(this).options||!fh(this).options.apiKey)throw new u("invalid-api-key");a=r.a.SDK_VERSION?Oi(r.a.SDK_VERSION):null,this.b=new ta(fh(this).options&&fh(this).options.apiKey,L(x),a),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(D(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(D(this.yc,this)),lh(this,null),this.i=new Yl(fh(this).options.apiKey+":"+fh(this).name),this.B=new Gl(fh(this).options.apiKey+":"+fh(this).name),this.Z=mh(this,function(a){var b=fh(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(Wl,a.a).then((function(t){return t&&b&&(t.authDomain=b),Hl(t||{})}))}(a.B,fh(a).options.authDomain).then((function(t){return(a.D=t)&&(t.ga=a.B),Kl(a.B)}));return mh(a,b)}(a).then((function(){return nh(a.i,b)})).then((function(t){return t?(t.ga=a.B,a.D&&(a.D.fa||null)==(t.fa||null)?t:t.reload().then((function(){return Zl(a.i,t).then((function(){return t}))})).o((function(e){return"auth/network-request-failed"==e.code?t:eh(a.i)}))):null})).then((function(t){lh(a,t||null)}));return mh(a,t)}(this)),this.h=mh(this,function(a){return a.Z.then((function(){return uh(a)})).o((function(){})).then((function(){if(!a.l)return a.oa()})).o((function(){})).then((function(){if(!a.l){a.aa=!0;var b=a.i;b.b.addListener(Ql("local"),b.a,a.oa)}}))}(this)),this.aa=!1,this.oa=D(this.Xc,this),this.Ma=D(this.ca,this),this.xa=D(this.jc,this),this.ya=D(this.uc,this),this.za=D(this.vc,this),this.a=null,function(a){var b=fh(a).options.authDomain,t=fh(a).options.apiKey;b&&Mi()&&(a.Zb=a.Z.then((function(){if(!a.l){if(a.a=Uc(b,t,fh(a).name),xc(a.a,a),dh(a)&&Dl(dh(a)),a.D){Dl(a.D);var e=a.D;e.va(a.ja()),bl(e,a),wl(e=a.D,a.N),_l(e,a),a.D=null}return a.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=D(this.delete,this),this.INTERNAL.logFramework=D(this.Ec,this),this.s=0,En.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.ja()},set:function(b){this.va(b)},enumerable:!1}),a.$=null,Object.defineProperty(a,"ti",{get:function(){return this.S()},set:function(b){this.ub(b)},enumerable:!1}),a.R=null}(this),this.N=[]}function oh(a){nn.call(this,"languageCodeChanged"),this.g=a}function sh(a){nn.call(this,"frameworkChanged"),this.c=a}function ah(a){return a.Zb||Me(new u("auth-domain-config-required"))}function uh(a){if(!Mi())return Me(new u("operation-not-supported-in-this-environment"));var b=ah(a).then((function(){return a.a.pa()})).then((function(t){return t?nr(t):null}));return mh(a,b)}function ch(a,b){var t={};return t.apiKey=fh(a).options.apiKey,t.authDomain=fh(a).options.authDomain,t.appName=fh(a).name,a.Z.then((function(){return function(a,b,t,e){var n=new yl(a,b);return t&&(n.ga=t),e&&wl(n,e),n.reload().then((function(){return n}))}(t,b,a.B,a.Ea())})).then((function(t){return dh(a)&&t.uid==dh(a).uid?(Ml(dh(a),t),a.ca(t)):(lh(a,t),Dl(t),a.ca(t))})).then((function(){vh(a)}))}function lh(a,b){dh(a)&&(function(a,b){et(a.R,(function(t){return t==b}))}(dh(a),a.Ma),td(dh(a),"tokenChanged",a.xa),td(dh(a),"userDeleted",a.ya),td(dh(a),"userInvalidated",a.za),kl(dh(a))),b&&(b.R.push(a.Ma),pn(b,"tokenChanged",a.xa),pn(b,"userDeleted",a.ya),pn(b,"userInvalidated",a.za),0<a.s&&Il(b)),Zi(a,"currentUser",b),b&&(b.va(a.ja()),bl(b,a),wl(b,a.N),_l(b,a))}function hh(a,b){var t=null,e=null;return mh(a,b.then((function(n){return t=Ho(n),e=no(n),ch(a,n)}),(function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=em(t.v(),a,D(a.ic,a))),e||t})).then((function(){return nr({user:dh(a),credential:t,additionalUserInfo:e,operationType:"signIn"})})))}function fh(a){return a.app}function dh(a){return a.currentUser}function ph(a){return dh(a)&&dh(a)._lat||null}function vh(a){if(a.aa){for(var b=0;b<a.m.length;b++)a.m[b]&&a.m[b](ph(a));if(a.W!==a.getUid()&&a.O.length)for(a.W=a.getUid(),b=0;b<a.O.length;b++)a.O[b]&&a.O[b](ph(a))}}function mh(a,b){return a.P.push(b),b.ma((function(){tt(a.P,b)})),b}function gh(){}function yh(){this.a={},this.b=1e12}Yl.prototype.tb=function(a){var b=null,t=this;return function(a){var b=new u("invalid-persistence-type"),t=new u("unsupported-persistence-type");t:{for(e in tc)if(tc[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(Ei()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;default:if(!Ri()&&"none"!==a)throw t}}(a),ih(this,(function(){return a!=t.c.F?t.b.get(t.c,t.a).then((function(e){return b=e,Jl(t,a)})).then((function(){if(t.c=Ql(a),b)return t.b.set(t.c,b,t.a)})):Re()}))},N(rh,En),N(oh,nn),N(sh,nn),(e=rh.prototype).tb=function(a){return mh(this,a=this.i.tb(a))},e.va=function(a){this.$===a||this.l||(this.$=a,aa(this.b,this.$),this.dispatchEvent(new oh(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var a=f.navigator;this.va(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},e.Ec=function(a){this.N.push(a),ua(this.b,r.a.SDK_VERSION?Oi(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new sh(this.N))},e.Ea=function(){return it(this.N)},e.ub=function(a){this.R===a||this.l||(this.R=a,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:fh(this).options.apiKey,authDomain:fh(this).options.authDomain,appName:fh(this).name,currentUser:dh(this)&&dh(this).v()}},e.Cb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},e.la=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.w?this.w(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?D(this.gc,this):null},e.gc=function(a,b,t,e){var n=this,r={requestUri:a,postBody:e,sessionId:b,tenantId:t};return this.c&&(this.c.cancel(),this.c=null),n.Z.then((function(){return hh(n,Sa(n.b,r))}))},e.Vc=function(a){if(!Mi())return Me(new u("operation-not-supported-in-this-environment"));var b=this,t=eo(a.providerId),e=$i(),n=null;(!Vi()||Ii())&&fh(this).options.authDomain&&a.isOAuthProvider&&(n=wu(fh(this).options.authDomain,fh(this).options.apiKey,fh(this).name,"signInViaPopup",a,null,e,r.a.SDK_VERSION||null,null,null,this.S()));var o=yi(n,t&&t.ta,t&&t.sa);return mh(this,t=ah(this).then((function(g){return Lc(g,o,"signInViaPopup",a,e,!!n,b.S())})).then((function(){return new De((function(g,t){b.la("signInViaPopup",null,new u("cancelled-popup-request"),b.g),b.f=g,b.w=t,b.g=e,b.c=Fc(b.a,b,"signInViaPopup",o,e)}))})).then((function(g){return o&&gi(o),g?nr(g):null})).o((function(g){throw o&&gi(o),g})))},e.Wc=function(a){if(!Mi())return Me(new u("operation-not-supported-in-this-environment"));var b=this;return mh(this,ah(this).then((function(){return function(a){return ih(a,(function(){return a.b.set(Xl,a.c.F,a.a)}))}(b.i)})).then((function(){return Vc(b.a,"signInViaRedirect",a,void 0,b.S())})))},e.pa=function(){var a=this;return uh(this).then((function(b){return a.a&&zc(a.a.b),b})).o((function(b){throw a.a&&zc(a.a.b),b}))},e.bd=function(a){if(!a)return Me(new u("null-user"));if(this.R!=a.tenantId)return Me(new u("tenant-id-mismatch"));var b=this,t={};t.apiKey=fh(this).options.apiKey,t.authDomain=fh(this).options.authDomain,t.appName=fh(this).name;var e=function(a,b,t,e){var n=a.b,r={};return r[na]=n.b&&n.b.toString(),r.refreshToken=n.a,b=new yl(b||{apiKey:a.l,authDomain:a.s,appName:a.m},r),t&&(b.ga=t),e&&wl(b,e),Ml(b,a),b}(a,t,b.B,b.Ea());return mh(this,this.h.then((function(){if(fh(b).options.apiKey!=a.l)return e.reload()})).then((function(){return dh(b)&&a.uid==dh(b).uid?(Ml(dh(b),a),b.ca(a)):(lh(b,e),Dl(e),b.ca(e))})).then((function(){vh(b)})))},e.wb=function(){var a=this;return mh(this,this.h.then((function(){return a.a&&zc(a.a.b),dh(a)?(lh(a,null),eh(a.i).then((function(){vh(a)}))):Re()})))},e.Xc=function(){var a=this;return nh(this.i,fh(this).options.authDomain).then((function(b){if(!a.l){var t;if(t=dh(a)&&b){t=dh(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return Ml(dh(a),b),dh(a).I();(dh(a)||b)&&(lh(a,b),b&&(Dl(b),b.ga=a.B),a.a&&xc(a.a,a),vh(a))}}))},e.ca=function(a){return Zl(this.i,a)},e.jc=function(){vh(this),this.ca(dh(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(a){var b=this;return this.h.then((function(){return hh(b,Re(a))}))},e.xc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(dh(b))}))},e.yc=function(a){var b=this;!function(a,b){a.O.push(b),mh(a,a.h.then((function(){!a.l&&Z(a.O,b)&&a.W!==a.getUid()&&(a.W=a.getUid(),b(ph(a)))})))}(this,(function(){a.next(dh(b))}))},e.Gc=function(a,b,t){var e=this;return this.aa&&Promise.resolve().then((function(){_(a)?a(dh(e)):_(a.next)&&a.next(dh(e))})),this.$b(a,b,t)},e.Fc=function(a,b,t){var e=this;return this.aa&&Promise.resolve().then((function(){e.W=e.getUid(),_(a)?a(dh(e)):_(a.next)&&a.next(dh(e))})),this.ac(a,b,t)},e.kc=function(a){var b=this;return mh(this,this.h.then((function(){return dh(b)?dh(b).I(a).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(a){var b=this;return this.h.then((function(){return hh(b,ou(b.b,Za,{token:a}))})).then((function(t){var e=t.user;return Rl(e,"isAnonymous",!1),b.ca(e),t}))},e.Sc=function(a,b){var t=this;return this.h.then((function(){return hh(t,ou(t.b,tu,{email:a,password:b}))}))},e.cc=function(a,b){var t=this;return this.h.then((function(){return hh(t,ou(t.b,Aa,{email:a,password:b}))}))},e.Ya=function(a){var b=this;return this.h.then((function(){return hh(b,a.ia(b.b))}))},e.Qc=function(a){return Xi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(a)},e.vb=function(){var a=this;return this.h.then((function(){var b=dh(a);if(b&&b.isAnonymous){var t=nr({providerId:null,isNewUser:!1});return nr({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return hh(a,a.b.vb()).then((function(t){var e=t.user;return Rl(e,"isAnonymous",!0),a.ca(e),t}))}))},e.getUid=function(){return dh(this)&&dh(this).uid||null},e.bc=function(a){this.addAuthTokenListener(a),this.s++,0<this.s&&dh(this)&&Il(dh(this))},e.Nc=function(a){var b=this;Y(this.m,(function(t){t==a&&b.s--})),0>this.s&&(this.s=0),0==this.s&&dh(this)&&kl(dh(this)),this.removeAuthTokenListener(a)},e.addAuthTokenListener=function(a){var b=this;this.m.push(a),mh(this,this.h.then((function(){b.l||Z(b.m,a)&&a(ph(b))})))},e.removeAuthTokenListener=function(a){et(this.m,(function(b){return b==a}))},e.delete=function(){this.l=!0;for(var a=0;a<this.P.length;a++)this.P[a].cancel("app-deleted");return this.P=[],this.i&&(a=this.i).b.removeListener(Ql("local"),a.a,this.oa),this.a&&(Pc(this.a,this),zc(this.a.b)),Promise.resolve()},e.fc=function(a){return mh(this,function(a,b){return ou(a,Ca,{identifier:b,continueUri:Li()?pi():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,a))},e.zc=function(a){return!!Fo(a)},e.sb=function(a,b){var t=this;return mh(this,Re().then((function(){var t=new Lr(b);if(!t.c)throw new u("argument-error",Fr+" must be true when sending sign in link to email");return Gr(t)})).then((function(e){return t.b.sb(a,e)})).then((function(){})))},e.fd=function(a){return this.Pa(a).then((function(b){return b.data.email}))},e.jb=function(a,b){return mh(this,this.b.jb(a,b).then((function(){})))},e.Pa=function(a){return mh(this,this.b.Pa(a).then((function(b){return new fr(b)})))},e.fb=function(a){return mh(this,this.b.fb(a).then((function(){})))},e.rb=function(a,b){var t=this;return mh(this,Re().then((function(){return void 0===b||_t(b)?{}:Gr(new Lr(b))})).then((function(e){return t.b.rb(a,e)})).then((function(){})))},e.Uc=function(a,b){return mh(this,Jc(this,a,b,D(this.Ya,this)))},e.Tc=function(a,b){var t=this;return mh(this,Re().then((function(){var e=b||pi(),n=Vo(a,e);if(!(e=Fo(e)))throw new u("argument-error","Invalid email link!");if(e.tenantId!==t.S())throw new u("tenant-id-mismatch");return t.Ya(n)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var bh=null;function wh(a,b){return(b=_h(b))&&a.a[b]||null}function _h(a){return(a=void 0===a?1e12:a)?a.toString():null}function Sh(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=de(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():pn(this.f,"click",this.i)}function Ih(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function kh(){}function Eh(){}yh.prototype.render=function(a,b){return this.a[this.b.toString()]=new Sh(a,b),this.b++},yh.prototype.reset=function(a){var b=wh(this,a);a=_h(a),b&&a&&(b.delete(),delete this.a[a])},yh.prototype.getResponse=function(a){return(a=wh(this,a))?a.getResponse():null},yh.prototype.execute=function(a){(a=wh(this,a))&&a.execute()},Sh.prototype.getResponse=function(){return Ih(this),this.b},Sh.prototype.execute=function(){Ih(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout((function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()}),6e4)}),500))},Sh.prototype.delete=function(){Ih(this),this.g=!0,clearTimeout(this.a),this.a=null,td(this.f,"click",this.i)},Zi(kh,"FACTOR_ID","phone"),Eh.prototype.g=function(){return bh||(bh=new yh),Re(bh)},Eh.prototype.c=function(){};var Th=null;function Dh(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ah=new Tt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ch=new Hi(3e4,6e4);Dh.prototype.g=function(a){var b=this;return new De((function(t,e){var n=setTimeout((function(){e(new u("network-request-failed"))}),Ch.get());!f.grecaptcha||a!==b.f&&!b.b?(f[b.a]=function(){if(f.grecaptcha){b.f=a;var g=f.grecaptcha.render;f.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(n),t(f.grecaptcha)}else clearTimeout(n),e(new u("internal-error"));delete f[b.a]},Re(Ws(Pt(Ah,{onload:b.a,hl:a||""}))).o((function(){clearTimeout(n),e(new u("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),t(f.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var Nh=null;function Oh(a,b,t,e,n,r,g){if(Zi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=b,this.g=null,g?(Th||(Th=new Eh),g=Th):(Nh||(Nh=new Dh),g=Nh),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new u("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mh],!f.document)throw new u("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!de(b)||!this.i&&de(b).hasChildNodes())throw new u("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ta(a,r||null,n||null),this.w=e||function(){return null};var o=this;this.l=[];var c=this.a[xh];this.a[xh]=function(t){if(Lh(o,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Pi(c,f);"function"==typeof e&&e(t)}};var p=this.a[Ph];this.a[Ph]=function(){if(Lh(o,null),"function"==typeof p)p();else if("string"==typeof p){var t=Pi(p,f);"function"==typeof t&&t()}}}var xh="callback",Ph="expired-callback",Rh="sitekey",Mh="size";function Lh(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function jh(a,b){return a.h.push(b),b.ma((function(){tt(a.h,b)})),b}function Vh(a){if(a.D)throw new u("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(a,b,t){var e=!1;try{this.b=t||r.a.app()}catch(t){throw new u("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new u("invalid-api-key");t=this.b.options.apiKey;var n=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{e=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=r.a.SDK_VERSION?Oi(r.a.SDK_VERSION,o):null,Oh.call(this,t,a,b,(function(){try{var g=n.b.auth().ja()}catch(t){g=null}return g}),o,L(x),e)}function Bh(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new u("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].K(t[n])&&!r){if(b=b[n],0>n||n>=Uh.length)throw new u("internal-error","Argument validator received an unsupported number of arguments.");t=Uh[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.J+".";break t}e=null}}if(e)throw new u("argument-error",a+" failed: "+e)}(e=Oh.prototype).Ga=function(){var a=this;return this.f?this.f:this.f=jh(this,Re().then((function(){if(Li()&&!ki())return _i();throw new u("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.w())})).then((function(b){return a.g=b,ou(a.s,$a,{})})).then((function(b){a.a[Rh]=b.recaptchaSiteKey})).o((function(b){throw a.f=null,b})))},e.render=function(){Vh(this);var a=this;return jh(this,this.Ga().then((function(){if(null===a.c){var b=a.u;if(!a.i){var t=de(b);b=function(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!fe&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',Jt(g.name),'"'),g.type){r.push(' type="',Jt(g.type),'"');var o={};kt(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=be(n,r),g&&("string"==typeof g?r.className=g:Array.isArray(g)?r.className=g.join(" "):pe(r,g)),2<e.length&&ye(n,r,e),r}("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},e.verify=function(){Vh(this);var a=this;return jh(this,this.render().then((function(b){return new De((function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){et(a.l,(function(t){return t==b}))}(a,n),t(e))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},e.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Vh(this),this.D=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=de(this.u);for(var b;b=a.firstChild;)a.removeChild(b)}},N(Fh,Oh);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $h(a,b){return{name:a||"",J:"a valid string",optional:!!b,K:function(t){return"string"==typeof t}}}function qh(a,b){return{name:a||"",J:"a boolean",optional:!!b,K:function(t){return"boolean"==typeof t}}}function zh(a,b){return{name:a||"",J:"a valid object",optional:!!b,K:q}}function Hh(a,b){return{name:a||"",J:"a function",optional:!!b,K:_}}function Gh(a,b){return{name:a||"",J:"null",optional:!!b,K:function(t){return null===t}}}function Wh(a){return{name:a?a+"Credential":"credential",J:a?"a valid "+a+" credential":"a valid credential",optional:!1,K:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.ia||!t)}}}function Kh(a,b){return q(a)&&"string"==typeof a.type&&a.type===b&&_(a.Fa)}function Yh(a){return q(a)&&"string"==typeof a.uid}function Jh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(a){return!(!a||"string"!=typeof a.type||!_(a.verify))}}}function Xh(a,b,t,e){return{name:t||"",J:a.J+" or "+b.J,optional:!!e,K:function(t){return a.K(t)||b.K(t)}}}function Qh(a,b){for(var t in b){var e=b[t].name;a[e]=ef(e,a[t],b[t].j)}}function Zh(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:A((function(t){return this[t]}),t),set:A((function(t,e,g,n){Bh(t,[g],[n],!0),this[e]=n}),e,t,b[t].gb),enumerable:!0})}}function tf(a,b,t,e){a[b]=ef(b,t,e)}function ef(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return Bh(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}Qh(rh.prototype,{fb:{name:"applyActionCode",j:[$h("code")]},Pa:{name:"checkActionCode",j:[$h("code")]},jb:{name:"confirmPasswordReset",j:[$h("code"),$h("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[$h("email"),$h("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[$h("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[$h("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Xh(zh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Xh(zh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[$h("email"),Xh(zh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[$h("email"),zh("actionCodeSettings")]},tb:{name:"setPersistence",j:[$h("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Wh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Wh()]},Rc:{name:"signInWithCustomToken",j:[$h("token")]},Sc:{name:"signInWithEmailAndPassword",j:[$h("email"),$h("password")]},Tc:{name:"signInWithEmailLink",j:[$h("email"),$h("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[$h("phoneNumber"),Jh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Xh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(b){return!!(b&&b instanceof yl)}},Gh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$h(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[$h("code")]}}),Zh(rh.prototype,{lc:{name:"languageCode",gb:Xh($h(),Gh(),"languageCode")},ti:{name:"tenantId",gb:Xh($h(),Gh(),"tenantId")}}),rh.Persistence=tc,rh.Persistence.LOCAL="local",rh.Persistence.SESSION="session",rh.Persistence.NONE="none",Qh(yl.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[qh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Wh()]},mb:{name:"linkWithCredential",j:[Wh()]},Bc:{name:"linkWithPhoneNumber",j:[$h("phoneNumber"),Jh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wh()]},pb:{name:"reauthenticateWithCredential",j:[Wh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[$h("phoneNumber"),Jh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Xh(zh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$h(null,!0)]},ad:{name:"unlink",j:[$h("provider")]},xb:{name:"updateEmail",j:[$h("email")]},yb:{name:"updatePassword",j:[$h("password")]},cd:{name:"updatePhoneNumber",j:[Wh("phone")]},zb:{name:"updateProfile",j:[zh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[$h("email"),Xh(zh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(De.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zh(Kc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:qh("appVerificationDisabledForTesting")}}),Qh(Yc.prototype,{confirm:{name:"confirm",j:[$h("verificationCode")]}}),tf(mo,"fromJSON",(function(a){a="string"==typeof a?JSON.parse(a):a;for(var b,t=[Io,Lo,Uo,wo],e=0;e<t.length;e++)if(b=t[e](a))return b;return null}),[Xh($h(),zh(),"json")]),tf(jo,"credential",(function(a,b){return new Mo(a,b)}),[$h("email"),$h("password")]),Qh(Mo.prototype,{v:{name:"toJSON",j:[$h(null,!0)]}}),Qh(Do.prototype,{Aa:{name:"addScope",j:[$h("scope")]},Ia:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),tf(Do,"credential",Ao,[Xh($h(),zh(),"token")]),tf(jo,"credentialWithLink",Vo,[$h("email"),$h("emailLink")]),Qh(Co.prototype,{Aa:{name:"addScope",j:[$h("scope")]},Ia:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),tf(Co,"credential",No,[Xh($h(),zh(),"token")]),Qh(Oo.prototype,{Aa:{name:"addScope",j:[$h("scope")]},Ia:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),tf(Oo,"credential",xo,[Xh($h(),Xh(zh(),Gh()),"idToken"),Xh($h(),Gh(),"accessToken",!0)]),Qh(Po.prototype,{Ia:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),tf(Po,"credential",Ro,[Xh($h(),zh(),"token"),$h("secret",!0)]),Qh(To.prototype,{Aa:{name:"addScope",j:[$h("scope")]},credential:{name:"credential",j:[Xh($h(),Xh(zh(),Gh()),"optionsOrIdToken"),Xh($h(),Gh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Qh(_o.prototype,{v:{name:"toJSON",j:[$h(null,!0)]}}),Qh(yo.prototype,{v:{name:"toJSON",j:[$h(null,!0)]}}),tf(qo,"credential",zo,[$h("verificationId"),$h("verificationCode")]),Qh(qo.prototype,{cb:{name:"verifyPhoneNumber",j:[Xh($h(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Kh(t.session,po)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Kh(t.session,vo)&&Yh(t.multiFactorHint):t.session&&t.multiFactorUid?Kh(t.session,vo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Jh()]}}),Qh(Bo.prototype,{v:{name:"toJSON",j:[$h(null,!0)]}}),Qh(u.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Qh(Qo.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Qh(th.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Qh(el.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Qh(Qc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(a){return!!a&&!!a.ob}}]}}),Qh(al.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(a){return!!a&&!!a.ob}},$h("displayName",!0)]},$c:{name:"unenroll",j:[Xh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Yh},$h(),"multiFactorInfoIdentifier")]}}),Qh(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(Dr,"parseLink",Mr,[$h("link")]),tf(kh,"assertion",(function(a){return new rl(a)}),[Wh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:dr,VERIFY_AND_CHANGE_EMAIL:vr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:rh,AuthCredential:mo,Error:u};tf(a,"EmailAuthProvider",jo,[]),tf(a,"FacebookAuthProvider",Do,[]),tf(a,"GithubAuthProvider",Co,[]),tf(a,"GoogleAuthProvider",Oo,[]),tf(a,"TwitterAuthProvider",Po,[]),tf(a,"OAuthProvider",To,[$h("providerId")]),tf(a,"SAMLAuthProvider",Eo,[$h("providerId")]),tf(a,"PhoneAuthProvider",qo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(a){return!!(a&&a instanceof rh)}}]),tf(a,"RecaptchaVerifier",Fh,[Xh($h(),{name:"",J:"an HTML element",optional:!1,K:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),zh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(a){return!!(a&&a instanceof r.a.app.App)}}]),tf(a,"ActionCodeURL",Dr,[]),tf(a,"PhoneMultiFactorGenerator",kh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(b){return new rh(b=b.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(b){return{getUid:D((b=b.getProvider("auth").getImmediate()).getUid,b),getToken:D(b.kc,b),addAuthTokenListener:D(b.bc,b),removeAuthTokenListener:D(b.Nc,b)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.1"),r.a.INTERNAL.extendNamespace({User:yl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(21))},183:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(94),o=n(127),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,o=e.optional,c=this.normalizeInstanceIdentifier(n);try{var l=this.getOrInitializeService(c);if(!l){if(o)return null;throw Error("Service "+this.name+" is not available")}return l}catch(t){if(o)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var n=r.__values(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var c=r.__read(o.value,2),l=c[0],h=c[1],f=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService(f);h.resolve(d)}catch(t){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=c,e.ComponentContainer=h,e.Provider=l},184:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}var o;n.r(e),n.d(e,"LogLevel",(function(){return c})),n.d(e,"Logger",(function(){return m})),n.d(e,"setLogLevel",(function(){return y})),n.d(e,"setUserLogHandler",(function(){return w}));var c,l=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(c||(c={}));var h={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},f=c.INFO,d=((o={})[c.DEBUG]="log",o[c.VERBOSE]="log",o[c.INFO]="info",o[c.WARN]="warn",o[c.ERROR]="error",o),v=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var c=(new Date).toISOString(),l=d[e];if(!l)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[l].apply(console,r(["["+c+"]  "+t.name+":"],n))}},m=function(){function t(t){this.name=t,this._logLevel=f,this._logHandler=v,this._userLogHandler=null,l.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in c))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.DEBUG],t)),this._logHandler.apply(this,r([this,c.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.VERBOSE],t)),this._logHandler.apply(this,r([this,c.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.INFO],t)),this._logHandler.apply(this,r([this,c.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.WARN],t)),this._logHandler.apply(this,r([this,c.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.ERROR],t)),this._logHandler.apply(this,r([this,c.ERROR],t))},t}();function y(t){var e="string"==typeof t?h[t]:t;l.forEach((function(t){t.logLevel=e}))}function w(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=h[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];var h=o.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:c[n].toLowerCase(),message:h,args:o,type:e.name})}},r=0,o=l;r<o.length;r++){n(o[r])}}},185:function(t,e,n){"use strict";n(186)},186:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(6))&&"object"==typeof r&&"default"in r?r.default:r,c=n(95),l=n(187),h=n(128),component=n(188),f=n(189),d=o.SDK_VERSION,v=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.i=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.u=new t("google-credentials-uid"),t.s=new t("first-party-uid"),t}(),m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},y=function(t){function i(e,i){var n=t.call(this,i)||this;return n.code=e,n.message=i,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return c.__extends(i,t),i}(Error),w=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},_=function(){function t(){this.h=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.l=function(){},t.prototype.v=function(t){ln(!this.h,"Can only call setChangeListener() once."),this.h=t,t(v.UNAUTHENTICATED)},t.prototype.m=function(){ln(null!==this.h,"removeChangeListener() when no listener registered"),this.h=null},t}(),S=function(){function t(t){var e=this;this.g=null,this.currentUser=v.UNAUTHENTICATED,this.p=!1,this._=0,this.h=null,this.forceRefresh=!1,this.g=function(){e._++,e.currentUser=e.I(),e.p=!0,e.h&&e.h(e.currentUser)},this._=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.g):(this.g(null),t.get().then((function(t){e.auth=t,e.g&&e.auth.addAuthTokenListener(e.g)}),(function(){})))}return t.prototype.getToken=function(){var t=this;ln(null!=this.g,"getToken cannot be called after listener removed.");var e=this._,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((function(i){if(t._!==e)throw new y(m.ABORTED,"getToken aborted due to token change.");return i?(ln("string"==typeof i.accessToken,"Invalid tokenData returned from getToken():"+i),new w(i.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.l=function(){this.forceRefresh=!0},t.prototype.v=function(t){ln(!this.h,"Can only call setChangeListener() once."),this.h=t,this.p&&t(this.currentUser)},t.prototype.m=function(){ln(null!=this.g,"removeChangeListener() called twice"),ln(null!==this.h,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.g),this.g=null,this.h=null},t.prototype.I=function(){var t=this.auth&&this.auth.getUid();return ln(null===t||"string"==typeof t,"Received invalid UID: "+t),new v(t)},t}(),I=function(){function t(t,e){this.T=t,this.D=e,this.type="FirstParty",this.user=v.s}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.D},e=this.T.auth.R([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),k=function(){function t(t,e){this.T=t,this.D=e}return t.prototype.getToken=function(){return Promise.resolve(new I(this.T,this.D))},t.prototype.v=function(t){t(v.s)},t.prototype.m=function(){},t.prototype.l=function(){},t}();function E(t){if(!t)return new _;switch(t.type){case"gapi":var e=t.S;return ln(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new k(e,t.D||"0");case"provider":return t.S;default:throw new y(m.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function T(t,e){function i(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new y(m.INVALID_ARGUMENT,t)}return i.prototype=t.prototype,Object.assign(i,t),i}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A(t,e){return void 0!==t?t:e}function C(t,e){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Number(i);isNaN(n)||e(n,t[i])}}function N(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function O(t){for(var e in ln(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t,e){if(0!==e.length)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+X(e.length,"argument")+".")}function P(t,e,i){if(e.length!==i)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires "+X(i,"argument")+", but was called with "+X(e.length,"argument")+".")}function R(t,e,i){if(e.length<i)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires at least "+X(i,"argument")+", but was called with "+X(e.length,"argument")+".")}function q(t,e,i,n){if(e.length<i||e.length>n)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires between "+i+" and "+n+" arguments, but was called with "+X(e.length,"argument")+".")}function M(t,e,i,n){if(!(e instanceof Array)||e.length<n)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires its "+i+" argument to be an array with at least "+X(n,"element")+".")}function L(t,e,i,n){$(t,e,J(i)+" argument",n)}function j(t,e,i,n){void 0!==n&&L(t,e,i,n)}function V(t,e,i,n){$(t,e,i+" option",n)}function F(t,e,i,n){void 0!==n&&V(t,e,i,n)}function B(t,e,i,n,r){void 0!==n&&function(t,e,i,n,r){for(var u=[],s=0,o=r;s<o.length;s++){var c=o[s];if(c===n)return;u.push(H(c))}var l=H(n);throw new y(m.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+i+'". Acceptable values: '+u.join(", "))}(t,0,i,n,r)}function U(t,e,i,n){if(!e.some((function(t){return t===n})))throw new y(m.INVALID_ARGUMENT,"Invalid value "+H(n)+" provided to function "+t+"() for its "+J(i)+" argument. Acceptable values: "+e.join(", "))}function $(t,e,i,n){if(!("object"===e?z(n):"non-empty string"===e?"string"==typeof n&&""!==n:typeof n===e)){var r=H(n);throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires its "+i+" to be of type "+e+", but it was: "+r)}}function z(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function H(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":cn("Unknown wrong type: "+typeof t)}function G(t,e,i){if(void 0===i)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+J(e)+" argument, but it was undefined.")}function W(t,e,i){N(e,(function(e,n){if(i.indexOf(e)<0)throw new y(m.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+i.join(", "))}))}function K(t,e,i,n){var r=H(n);return new y(m.INVALID_ARGUMENT,"Function "+t+"() requires its "+J(i)+" argument to be a "+e+", but it was: "+r)}function Y(t,e,i){if(i<=0)throw new y(m.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+J(e)+" argument to be a positive number, but it was: "+i+".")}function J(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function X(t,e){return t+" "+e+(1===t?"":"s")}var rt=function(){function t(t){this.A=t}return t.fromBase64String=function(e){return new t(nn.C().atob(e))},t.fromUint8Array=function(e){return new t(Q(e))},t.prototype.toBase64=function(){return nn.C().btoa(this.A)},t.prototype.toUint8Array=function(){return Z(this.A)},t.prototype.P=function(){return 2*this.A.length},t.prototype.isEqual=function(t){return this.A===t.A},t.k=new t(""),t}();function Q(t){for(var e="",i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}function Z(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function tt(){if("undefined"==typeof Uint8Array)throw new y(m.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function et(){if(!nn.C().N)throw new y(m.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nt=function(){function t(t){et(),this.A=t}return t.fromBase64String=function(e){P("Blob.fromBase64String",arguments,1),L("Blob.fromBase64String","string",1,e),et();try{var i=nn.C().atob(e);return new t(i)}catch(t){throw new y(m.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(P("Blob.fromUint8Array",arguments,1),tt(),!(e instanceof Uint8Array))throw K("Blob.fromUint8Array","Uint8Array",1,e);var i=Q(e);return new t(i)},t.prototype.toBase64=function(){return P("Blob.toBase64",arguments,0),et(),nn.C().btoa(this.A)},t.prototype.toUint8Array=function(){P("Blob.toUint8Array",arguments,0),tt();var t=Z(this.A);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.A===t.A},t.prototype.O=function(){return 2*this.A.length},t.prototype.F=function(t){return fn(this.A,t.A)},t}(),it=T(nt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ot=function(){function t(t,e){if(P("GeoPoint",arguments,2),L("GeoPoint","number",1,t),L("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new y(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new y(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.V=t,this.U=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.V},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.U},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.V===t.V&&this.U===t.U},t.prototype.F=function(t){return fn(this.V,t.V)||fn(this.U,t.U)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new y(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new y(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new y(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new y(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,1e6*(e-1e3*i))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.F=function(t){return this.seconds===t.seconds?fn(this.nanoseconds,t.nanoseconds):fn(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),dt=function(){function t(t){this.timestamp=t}return t.j=function(e){var i=Math.floor(e/1e6);return new t(new st(i,e%1e6*1e3))},t.L=function(e){return new t(e)},t.q=function(){return t.MIN},t.prototype.B=function(t){return this.timestamp.F(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.M=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t.MIN=new t(new st(0,0)),t}(),at=function(){function t(t,e,i){void 0===e?e=0:e>t.length&&cn("offset "+e+" out of range "+t.length),void 0===i?i=t.length-e:i>t.length-e&&cn("length "+i+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.W(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){i.push(t)})):i.push(e),this.K(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.H=function(t){return t=void 0===t?1:t,ln(this.length>=t,"Can't call popFirst() with less segments"),this.K(this.segments,this.offset+t,this.length-t)},t.prototype.J=function(){return ln(!this.Y(),"Can't call popLast() on empty path"),this.K(this.segments,this.offset,this.length-1)},t.prototype.X=function(){return ln(!this.Y(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.$=function(){return this.get(this.length-1)},t.prototype.get=function(t){return ln(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.Y=function(){return 0===this.length},t.prototype.Z=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.tt=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])},t.prototype.nt=function(){return this.segments.slice(this.offset,this.limit())},t.W=function(t,e){for(var i=Math.min(t.length,e.length),n=0;n<i;n++){var r=t.get(n),u=e.get(n);if(r<u)return-1;if(r>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ut=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.K=function(t,e,n){return new i(t,e,n)},i.prototype.it=function(){return this.nt().join("/")},i.prototype.toString=function(){return this.it()},i.et=function(t){if(t.indexOf("//")>=0)throw new y(m.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new i(t.split("/").filter((function(t){return t.length>0})))},i.rt=new i([]),i}(at),ct=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.K=function(t,e,n){return new i(t,e,n)},i.ut=function(t){return ct.test(t)},i.prototype.it=function(){return this.nt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),i.ut(t)||(t="`"+t+"`"),t})).join(".")},i.prototype.toString=function(){return this.it()},i.prototype.st=function(){return 1===this.length&&"__name__"===this.get(0)},i.ot=function(){return new i(["__name__"])},i.ht=function(t){for(var e=[],n="",r=0,u=function(){if(0===n.length)throw new y(m.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},s=!1;r<t.length;){var o=t[r];if("\\"===o){if(r+1===t.length)throw new y(m.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new y(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else"`"===o?(s=!s,r++):"."!==o||s?(n+=o,r++):(u(),r++)}if(u(),s)throw new y(m.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(e)},i.rt=new i([]),i}(at),ht=function(){function t(e){this.path=e,ln(t.ct(e),"Invalid DocumentKey with an odd number of segments: "+e.nt().join("/"))}return t.prototype.at=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ut.W(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.W=function(t,e){return ut.W(t.path,e.path)},t.ct=function(t){return t.length%2==0},t.ft=function(e){return new t(new ut(e.slice()))},t.lt=function(e){return new t(ut.et(e))},t.EMPTY=new t(new ut([])),t}(),ft=function(){function t(t,e){this.W=t,this.root=e||vt.EMPTY}return t.prototype.dt=function(e,i){return new t(this.W,this.root.dt(e,i,this.W).copy(null,null,vt.vt,null,null))},t.prototype.remove=function(e){return new t(this.W,this.root.remove(e,this.W).copy(null,null,vt.vt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.Y();){var i=this.W(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,i=this.root;!i.Y();){var n=this.W(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1},t.prototype.Y=function(){return this.root.Y()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.wt=function(){return this.root.wt()},t.prototype.gt=function(){return this.root.gt()},t.prototype.bt=function(t){return this.root.bt(t)},t.prototype.forEach=function(t){this.bt((function(e,i){return t(e,i),!1}))},t.prototype.toString=function(){var t=[];return this.bt((function(e,i){return t.push(e+":"+i),!1})),"{"+t.join(", ")+"}"},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.yt=function(){return new pt(this.root,null,this.W,!1)},t.prototype._t=function(t){return new pt(this.root,t,this.W,!1)},t.prototype.It=function(){return new pt(this.root,null,this.W,!0)},t.prototype.Tt=function(t){return new pt(this.root,t,this.W,!0)},t}(),pt=function(){function t(t,e,i,n){this.Et=n,this.Dt=[];for(var r=1;!t.Y();)if(r=e?i(t.key,e):1,n&&(r*=-1),r<0)t=this.Et?t.left:t.right;else{if(0===r){this.Dt.push(t);break}this.Dt.push(t),t=this.Et?t.right:t.left}}return t.prototype.Rt=function(){ln(this.Dt.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.Y();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.Y();)this.Dt.push(t),t=t.left;return e},t.prototype.St=function(){return this.Dt.length>0},t.prototype.At=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),vt=function(){function t(e,i,n,r,u){this.key=e,this.value=i,this.color=null!=n?n:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=u?u:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,n,r,u){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=u?u:this.right)},t.prototype.Y=function(){return!1},t.prototype.bt=function(t){return this.left.bt(t)||t(this.key,this.value)||this.right.bt(t)},t.prototype.pt=function(t){return this.right.pt(t)||t(this.key,this.value)||this.left.pt(t)},t.prototype.min=function(){return this.left.Y()?this:this.left.min()},t.prototype.wt=function(){return this.min().key},t.prototype.gt=function(){return this.right.Y()?this.key:this.right.gt()},t.prototype.dt=function(t,e,i){var n=this,r=i(t,n.key);return(n=r<0?n.copy(null,null,null,n.left.dt(t,e,i),null):0===r?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.dt(t,e,i))).Ct()},t.prototype.Pt=function(){if(this.left.Y())return t.EMPTY;var e=this;return e.left.kt()||e.left.left.kt()||(e=e.Nt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Ct()},t.prototype.remove=function(e,i){var n,r=this;if(i(e,r.key)<0)r.left.Y()||r.left.kt()||r.left.left.kt()||(r=r.Nt()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.kt()&&(r=r.Ot()),r.right.Y()||r.right.kt()||r.right.left.kt()||(r=r.Ft()),0===i(e,r.key)){if(r.right.Y())return t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.Ct()},t.prototype.kt=function(){return this.color},t.prototype.Ct=function(){var t=this;return t.right.kt()&&!t.left.kt()&&(t=t.Vt()),t.left.kt()&&t.left.left.kt()&&(t=t.Ot()),t.left.kt()&&t.right.kt()&&(t=t.Ut()),t},t.prototype.Nt=function(){var t=this.Ut();return t.right.left.kt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Ot())).Vt()).Ut()),t},t.prototype.Ft=function(){var t=this.Ut();return t.left.left.kt()&&(t=(t=t.Ot()).Ut()),t},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Ot=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ut=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.xt=function(){var t=this.jt();return Math.pow(2,t)<=this.size+1},t.prototype.jt=function(){if(this.kt()&&this.left.kt())throw cn("Red node has red child("+this.key+","+this.value+")");if(this.right.kt())throw cn("Right child of ("+this.key+","+this.value+") is red");var t=this.left.jt();if(t!==this.right.jt())throw cn("Black depths differ");return t+(this.kt()?0:1)},t.EMPTY=null,t.RED=!0,t.vt=!1,t}(),mt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw cn("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw cn("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw cn("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw cn("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw cn("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,i,n,r){return this},t.prototype.dt=function(t,e,i){return new vt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.Y=function(){return!0},t.prototype.bt=function(t){return!1},t.prototype.pt=function(t){return!1},t.prototype.wt=function(){return null},t.prototype.gt=function(){return null},t.prototype.kt=function(){return!1},t.prototype.xt=function(){return!0},t.prototype.jt=function(){return 0},t}();vt.EMPTY=new mt;var gt=function(){function t(t){this.W=t,this.data=new ft(this.W)}return t.Lt=function(e){var i=new t(e.W);return e.forEach((function(t){i=i.add(t)})),i},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.wt()},t.prototype.last=function(){return this.data.gt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.bt((function(e,i){return t(e),!1}))},t.prototype.qt=function(t,e){for(var i=this.data._t(t[0]);i.St();){var n=i.Rt();if(this.W(n.key,t[1])>=0)return;e(n.key)}},t.prototype.Bt=function(t,e){var i;for(i=void 0!==e?this.data._t(e):this.data.yt();i.St();)if(!t(i.Rt().key))return},t.prototype.Mt=function(t){var e=this.data._t(t);return e.St()?e.Rt().key:null},t.prototype.yt=function(){return new yt(this.data.yt())},t.prototype._t=function(t){return new yt(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).dt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.Y=function(){return this.data.Y()},t.prototype.Qt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var i=this.data.yt(),n=e.data.yt();i.St();){var r=i.Rt().key,u=n.Rt().key;if(0!==this.W(r,u))return!1}return!0},t.prototype.nt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var i=new t(this.W);return i.data=e,i},t}(),yt=function(){function t(t){this.Gt=t}return t.prototype.Rt=function(){return this.Gt.Rt().key},t.prototype.St=function(){return this.Gt.St()},t}(),bt=function(){function t(){}return t.prototype.Wt=function(t,e){return new zt(e,t)},t.prototype.zt=function(t,e){return e},t.prototype.Kt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),wt=function(){function t(t){this.elements=t}return t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.zt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=It(t),i=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},n=0,r=this.elements;n<r.length;n++)i(r[n]);return new Jt(e)},t.prototype.Kt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&dn(e.elements,this.elements)},t}(),_t=function(){function t(t){this.elements=t}return t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.zt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=It(t),i=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},n=0,r=this.elements;n<r.length;n++)i(r[n]);return new Jt(e)},t.prototype.Kt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&dn(e.elements,this.elements)},t}(),St=function(){function t(t){this.Ht=t}return t.prototype.Wt=function(t,e){var i=this.Kt(t);if(i instanceof Bt&&this.Ht instanceof Bt){var n=i.Jt+this.Ht.Jt;return new Bt(n)}return n=i.Jt+this.Ht.Jt,new Ut(n)},t.prototype.zt=function(t,e){return ln(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.Kt=function(t){return t instanceof Vt?t:new Bt(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Ht.isEqual(e.Ht)},t}();function It(t){return t instanceof Jt?t.Jt.slice():[]}var kt=function(){function t(t){this.fields=t}return t.Yt=function(e){return new t(e)},t.Xt=function(e){var i=new gt(lt.W);return e.forEach((function(t){return i=i.add(t)})),new t(i)},t.prototype.$t=function(t){var e=!1;return this.fields.forEach((function(i){i.Z(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Et=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Tt=function(t,e){this.version=t,this.transformResults=e},Dt=function(){function t(t,e){this.updateTime=t,this.exists=e,ln(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Zt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.tn=function(t){return void 0!==this.updateTime?t instanceof Qt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Qt:(ln(this.Zt,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,i=t.updateTime,!((null!=e?!i||!e.isEqual(i):e!==i)||this.exists!==t.exists);var e,i},t.NONE=new t,t}(),At=function(){function t(){}return t.prototype.nn=function(t){null!=t&&ln(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.in=function(t){return t instanceof Qt?t.version:dt.MIN},t}(),Ct=function(t){function i(e,i,n){var r=t.call(this)||this;return r.key=e,r.value=i,r.en=n,r.type=0,r}return c.__extends(i,t),i.prototype.zt=function(t,e){this.nn(t),ln(null==e.transformResults,"Transform results received by SetMutation.");var i=e.version;return new Qt(this.key,i,{hasCommittedMutations:!0},this.value)},i.prototype.Wt=function(t,e,i){if(this.nn(t),!this.en.tn(t))return t;var n=At.in(t);return new Qt(this.key,n,{rn:!0},this.value)},i.prototype.un=function(t){return null},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.en.isEqual(t.en)},i}(At),Nt=function(t){function i(e,i,n,r){var u=t.call(this)||this;return u.key=e,u.data=i,u.sn=n,u.en=r,u.type=1,u}return c.__extends(i,t),i.prototype.zt=function(t,e){if(this.nn(t),ln(null==e.transformResults,"Transform results received by PatchMutation."),!this.en.tn(t))return new te(this.key,e.version);var i=this.on(t);return new Qt(this.key,e.version,{hasCommittedMutations:!0},i)},i.prototype.Wt=function(t,e,i){if(this.nn(t),!this.en.tn(t))return t;var n=At.in(t),r=this.on(t);return new Qt(this.key,n,{rn:!0},r)},i.prototype.un=function(t){return null},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.sn.isEqual(t.sn)&&this.en.isEqual(t.en)},i.prototype.on=function(t){var e;return e=t instanceof Qt?t.data():Kt.EMPTY,this.hn(e)},i.prototype.hn=function(t){var e=this,i=t.cn();return this.sn.fields.forEach((function(t){if(!t.Y()){var n=e.data.field(t);null!==n?i.set(t,n):i.delete(t)}})),i.an()},i}(At),Ot=function(t){function i(e,i){var n=t.call(this)||this;return n.key=e,n.fieldTransforms=i,n.type=2,n.en=Dt.exists(!0),n}return c.__extends(i,t),i.prototype.zt=function(t,e){if(this.nn(t),ln(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.en.tn(t))return new te(this.key,e.version);var i=this.fn(t),n=this.ln(t,e.transformResults),r=e.version,u=this.dn(i.data(),n);return new Qt(this.key,r,{hasCommittedMutations:!0},u)},i.prototype.Wt=function(t,e,i){if(this.nn(t),!this.en.tn(t))return t;var n=this.fn(t),r=this.vn(i,t,e),u=this.dn(n.data(),r);return new Qt(this.key,n.version,{rn:!0},u)},i.prototype.un=function(t){for(var e=null,i=0,n=this.fieldTransforms;i<n.length;i++){var r=n[i],u=t instanceof Qt?t.field(r.field):void 0,s=r.transform.Kt(u||null);null!=s&&(e=null==e?Kt.wn().set(r.field,s):e.set(r.field,s))}return e?e.an():null},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&dn(this.fieldTransforms,t.fieldTransforms)&&this.en.isEqual(t.en)},i.prototype.fn=function(t){return ln(t instanceof Qt,"Unknown MaybeDocument type "+t),ln(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},i.prototype.ln=function(t,e){var i=[];ln(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var n=0;n<e.length;n++){var r=this.fieldTransforms[n],u=r.transform,s=null;t instanceof Qt&&(s=t.field(r.field)),i.push(u.zt(s,e[n]))}return i},i.prototype.vn=function(t,e,i){for(var n=[],r=0,u=this.fieldTransforms;r<u.length;r++){var s=u[r],o=s.transform,c=null;e instanceof Qt&&(c=e.field(s.field)),null===c&&i instanceof Qt&&(c=i.field(s.field)),n.push(o.Wt(c,t))}return n},i.prototype.dn=function(t,e){ln(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var i=t.cn(),n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;i.set(r,e[n])}return i.an()},i}(At),xt=function(t){function i(e,i){var n=t.call(this)||this;return n.key=e,n.en=i,n.type=3,n}return c.__extends(i,t),i.prototype.zt=function(t,e){return this.nn(t),ln(null==e.transformResults,"Transform results received by DeleteMutation."),new Zt(this.key,e.version,{hasCommittedMutations:!0})},i.prototype.Wt=function(t,e,i){return this.nn(t),this.en.tn(t)?(t&&ln(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Zt(this.key,dt.q())):t},i.prototype.un=function(t){return null},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)},i}(At),Pt=function(t){function i(e,i){var n=t.call(this)||this;return n.key=e,n.en=i,n.type=4,n}return c.__extends(i,t),i.prototype.zt=function(t,e){cn("VerifyMutation should only be used in Transactions.")},i.prototype.Wt=function(t,e,i){cn("VerifyMutation should only be used in Transactions.")},i.prototype.un=function(t){cn("VerifyMutation should only be used in Transactions.")},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)},i}(At),Rt=function(){function t(t,e){this.mn=t,this.timestampsInSnapshots=e}return t.gn=function(e,i){switch(e.serverTimestamps){case"estimate":return new t(1,i);case"previous":return new t(2,i);case"none":case void 0:return new t(0,i);default:return cn("fromSnapshotOptions() called with invalid options.")}},t}(),Mt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.bn=function(t){return ln(this.pn!==t.pn,"Default compareTo should not be used for values of same type."),fn(this.pn,t.pn)},t}(),Lt=function(t){function i(){var e=t.call(this)||this;return e.pn=0,e.Jt=null,e}return c.__extends(i,t),i.prototype.value=function(t){return null},i.prototype.isEqual=function(t){return t instanceof i},i.prototype.B=function(t){return t instanceof i?0:this.bn(t)},i.prototype.P=function(){return 4},i.yn=new i,i}(Mt),jt=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=1,i}return c.__extends(i,t),i.prototype.value=function(t){return this.Jt},i.prototype.isEqual=function(t){return t instanceof i&&this.Jt===t.Jt},i.prototype.B=function(t){return t instanceof i?fn(this.Jt,t.Jt):this.bn(t)},i.prototype.P=function(){return 4},i.of=function(t){return t?i._n:i.In},i._n=new i(!0),i.In=new i(!1),i}(Mt),Vt=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=2,i}return c.__extends(i,t),i.prototype.value=function(t){return this.Jt},i.prototype.B=function(t){return t instanceof i?(e=this.Jt)<(n=t.Jt)?-1:e>n?1:e===n?0:isNaN(e)?isNaN(n)?0:-1:1:this.bn(t);var e,n},i.prototype.P=function(){return 8},i}(Mt);function Ft(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Bt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.isEqual=function(t){return t instanceof i&&Ft(this.Jt,t.Jt)},i}(Vt),Ut=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.isEqual=function(t){return t instanceof i&&Ft(this.Jt,t.Jt)},i.Tn=new i(NaN),i.POSITIVE_INFINITY=new i(1/0),i.NEGATIVE_INFINITY=new i(-1/0),i}(Vt),$t=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=4,i}return c.__extends(i,t),i.prototype.value=function(t){return this.Jt},i.prototype.isEqual=function(t){return t instanceof i&&this.Jt===t.Jt},i.prototype.B=function(t){return t instanceof i?fn(this.Jt,t.Jt):this.bn(t)},i.prototype.P=function(){return 2*this.Jt.length},i}(Mt),qt=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=3,i}return c.__extends(i,t),i.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Jt:this.Jt.toDate()},i.prototype.isEqual=function(t){return t instanceof i&&this.Jt.isEqual(t.Jt)},i.prototype.B=function(t){return t instanceof i?this.Jt.F(t.Jt):t instanceof zt?-1:this.bn(t)},i.prototype.P=function(){return 16},i}(Mt),zt=function(t){function i(e,i){var n=t.call(this)||this;return n.En=e,n.previousValue=i,n.pn=3,n}return c.__extends(i,t),i.prototype.value=function(t){return t&&1===t.mn?new qt(this.En).value(t):t&&2===t.mn&&this.previousValue?this.previousValue.value(t):null},i.prototype.isEqual=function(t){return t instanceof i&&this.En.isEqual(t.En)},i.prototype.B=function(t){return t instanceof i?this.En.F(t.En):t instanceof qt?1:this.bn(t)},i.prototype.toString=function(){return"<ServerTimestamp localTime="+this.En.toString()+">"},i.prototype.P=function(){return 16+(this.previousValue?this.previousValue.P():0)},i}(Mt),Ht=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=5,i}return c.__extends(i,t),i.prototype.value=function(t){return this.Jt},i.prototype.isEqual=function(t){return t instanceof i&&this.Jt.isEqual(t.Jt)},i.prototype.B=function(t){return t instanceof i?this.Jt.F(t.Jt):this.bn(t)},i.prototype.P=function(){return this.Jt.O()},i}(Mt),Gt=function(t){function i(e,i){var n=t.call(this)||this;return n.Dn=e,n.key=i,n.pn=6,n}return c.__extends(i,t),i.prototype.value=function(t){return this.key},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.Dn.isEqual(t.Dn)},i.prototype.B=function(t){if(t instanceof i){var e=this.Dn.B(t.Dn);return 0!==e?e:ht.W(this.key,t.key)}return this.bn(t)},i.prototype.P=function(){return this.Dn.projectId.length+this.Dn.database.length+this.key.toString().length},i}(Mt),Wt=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=7,i}return c.__extends(i,t),i.prototype.value=function(t){return this.Jt},i.prototype.isEqual=function(t){return t instanceof i&&this.Jt.isEqual(t.Jt)},i.prototype.B=function(t){return t instanceof i?this.Jt.F(t.Jt):this.bn(t)},i.prototype.P=function(){return 16},i}(Mt),Kt=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=9,i}return c.__extends(i,t),i.wn=function(){return new Yt(i.EMPTY.Jt)},i.prototype.value=function(t){var e={};return this.Jt.bt((function(i,n){e[i]=n.value(t)})),e},i.prototype.forEach=function(t){this.Jt.bt(t)},i.prototype.isEqual=function(t){if(t instanceof i){for(var e=this.Jt.yt(),n=t.Jt.yt();e.St()&&n.St();){var r=e.Rt(),u=n.Rt();if(r.key!==u.key||!r.value.isEqual(u.value))return!1}return!e.St()&&!n.St()}return!1},i.prototype.B=function(t){if(t instanceof i){for(var e=this.Jt.yt(),n=t.Jt.yt();e.St()&&n.St();){var r=e.Rt(),u=n.Rt(),s=fn(r.key,u.key)||r.value.B(u.value);if(s)return s}return fn(e.St(),n.St())}return this.bn(t)},i.prototype.contains=function(t){return null!==this.field(t)},i.prototype.field=function(t){ln(!t.Y(),"Can't get field of empty path");var e=this;return t.forEach((function(t){e=e instanceof i?e.Jt.get(t):null})),e},i.prototype.sn=function(){var t=new gt(lt.W);return this.Jt.forEach((function(e,n){var r=new lt([e]);if(n instanceof i){var u=n.sn().fields;u.Y()?t=t.add(r):u.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),kt.Yt(t)},i.prototype.P=function(){var t=0;return this.Jt.bt((function(e,i){t+=e.length+i.P()})),t},i.prototype.toString=function(){return this.Jt.toString()},i.prototype.cn=function(){return new Yt(this.Jt)},i.EMPTY=new i(new ft(fn)),i}(Mt),Yt=function(){function t(t){this.Jt=t}return t.prototype.set=function(t,e){ln(!t.Y(),"Cannot set field for empty path on ObjectValue");var i=t.X();if(1===t.length)this.Jt=this.Jt.dt(i,e);else{var n=this.Jt.get(i),r=(n instanceof Kt?n:Kt.EMPTY).cn().set(t.H(),e).an();this.Jt=this.Jt.dt(i,r)}return this},t.prototype.delete=function(t){ln(!t.Y(),"Cannot delete field for empty path on ObjectValue");var e=t.X();if(1===t.length)this.Jt=this.Jt.remove(e);else{var i=this.Jt.get(e);if(i instanceof Kt){var n=i.cn().delete(t.H()).an();this.Jt=this.Jt.dt(t.X(),n)}}return this},t.prototype.an=function(){return new Kt(this.Jt)},t}(),Jt=function(t){function i(e){var i=t.call(this)||this;return i.Jt=e,i.pn=8,i}return c.__extends(i,t),i.prototype.value=function(t){return this.Jt.map((function(e){return e.value(t)}))},i.prototype.contains=function(t){for(var e=0,i=this.Jt;e<i.length;e++)if(i[e].isEqual(t))return!0;return!1},i.prototype.forEach=function(t){this.Jt.forEach(t)},i.prototype.isEqual=function(t){if(t instanceof i){if(this.Jt.length!==t.Jt.length)return!1;for(var e=0;e<this.Jt.length;e++)if(!this.Jt[e].isEqual(t.Jt[e]))return!1;return!0}return!1},i.prototype.B=function(t){if(t instanceof i){for(var e=Math.min(this.Jt.length,t.Jt.length),n=0;n<e;n++){var r=this.Jt[n].B(t.Jt[n]);if(r)return r}return fn(this.Jt.length,t.Jt.length)}return this.bn(t)},i.prototype.P=function(){return this.Jt.reduce((function(t,e){return t+e.P()}),0)},i.prototype.toString=function(){return"["+this.Jt.map((function(t){return t.toString()})).join(",")+"]"},i}(Mt),Xt=function(){function t(t,e){this.key=t,this.version=e}return t.Rn=function(t,e){return ht.W(t.key,e.key)},t}(),Qt=function(t){function i(e,i,n,r,u,s){var o=t.call(this,e,i)||this;return o.Sn=r,o.proto=u,o.converter=s,ln(void 0!==o.Sn||void 0!==o.proto&&void 0!==o.converter,"If objectValue is not defined, proto and converter need to be set."),o.rn=!!n.rn,o.hasCommittedMutations=!!n.hasCommittedMutations,o}return c.__extends(i,t),i.prototype.field=function(t){if(this.Sn)return this.Sn.field(t);this.An||(this.An=new Map);var e=t.it(),i=this.An.get(e);if(void 0===i){var n=this.Cn(t);i=void 0===n?null:this.converter(n),this.An.set(e,i)}return i},i.prototype.data=function(){var t=this;if(!this.Sn){var e=Kt.wn();N(this.proto.fields||{},(function(i,n){e.set(new lt([i]),t.converter(n))})),this.Sn=e.an(),this.An=void 0}return this.Sn},i.prototype.value=function(){return this.data().value()},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.rn===t.rn&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.rn+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.rn||this.hasCommittedMutations},enumerable:!0,configurable:!0}),i.prototype.Cn=function(t){ln(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.X()]:void 0,i=1;i<t.length;++i){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(i)]}return e},i.Pn=function(t,e,i){var n=e.field(t),r=i.field(t);return null!==n&&null!==r?n.B(r):cn("Trying to compare documents on fields that don't exist")},i}(Xt),Zt=function(t){function i(e,i,n){var r=t.call(this,e,i)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}return c.__extends(i,t),i.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},i}(Xt),te=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},i}(Xt);function ee(t){return null==t}function ne(t){return-0===t&&1/t==-1/0}function ie(t){return"number"==typeof t&&Number.isInteger(t)&&!ne(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var re,oe,se=function(){function t(t,e,i,n,r,u,s){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===u&&(u=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=u,this.endAt=s,this.kn=null}return t.prototype.canonicalId=function(){if(null===this.kn){var t=this.path.it();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,i=this.filters;e<i.length;e++)t+=i[e].canonicalId(),t+=",";t+="|ob:";for(var n=0,r=this.orderBy;n<r.length;n++)t+=r[n].canonicalId(),t+=",";ee(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.kn=t}return this.kn},t.prototype.toString=function(){var t=this.path.it();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),ee(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Nn=function(){return ht.ct(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),ae=function(){function t(t,e,i,n,r,u,s,o){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===u&&(u="F"),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.On=i,this.filters=n,this.limit=r,this.Fn=u,this.startAt=s,this.endAt=o,this.Vn=null,this.Un=null,this.startAt&&this.xn(this.startAt),this.endAt&&this.xn(this.endAt)}return t.jn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Vn){var t=this.Ln(),e=this.qn();if(null!==t&&null===e)t.st()?this.Vn=[ye]:this.Vn=[new ge(t),ye];else{ln(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Vn=[];for(var i=!1,n=0,r=this.On;n<r.length;n++){var u=r[n];this.Vn.push(u),u.field.st()&&(i=!0)}if(!i){var s=this.On.length>0?this.On[this.On.length-1].dir:ve.ASCENDING;this.Vn.push(s===ve.ASCENDING?ye:be)}}}return this.Vn},enumerable:!0,configurable:!0}),t.prototype.Bn=function(e){ln(null==this.Ln()||!(e instanceof ce)||!e.Mn()||e.field.isEqual(this.Ln()),"Query must only have one inequality field."),ln(!this.Nn(),"No filtering allowed for document query");var i=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.On.slice(),i,this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Qn=function(e){ln(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var i=this.On.concat([e]);return new t(this.path,this.collectionGroup,i,this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Gn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Wn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.zn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,e,this.endAt)},t.prototype.Kn=function(e){return new t(this.path,this.collectionGroup,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,e)},t.prototype.Hn=function(e){return new t(e,null,this.On.slice(),this.filters.slice(),this.limit,this.Fn,this.startAt,this.endAt)},t.prototype.Jn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.On.length||1===this.On.length&&this.On[0].field.st())},t.prototype.canonicalId=function(){return this.Yn().canonicalId()+"|lt:"+this.Fn},t.prototype.toString=function(){return"Query(target="+this.Yn().toString()+"; limitType="+this.Fn+")"},t.prototype.isEqual=function(t){return this.Yn().isEqual(t.Yn())&&this.Fn===t.Fn},t.prototype.Xn=function(t,e){for(var i=!1,n=0,r=this.orderBy;n<r.length;n++){var u=r[n],s=u.compare(t,e);if(0!==s)return s;i=i||u.field.st()}return ln(i,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.$n(t)&&this.Zn(t)&&this.ti(t)&&this.ni(t)},t.prototype.ii=function(){return!ee(this.limit)&&"F"===this.Fn},t.prototype.ei=function(){return!ee(this.limit)&&"L"===this.Fn},t.prototype.qn=function(){return this.On.length>0?this.On[0].field:null},t.prototype.Ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var i=e[t];if(i instanceof ce&&i.Mn())return i.field}return null},t.prototype.ri=function(t){for(var e=0,i=this.filters;e<i.length;e++){var n=i[e];if(n instanceof ce&&t.indexOf(n.op)>=0)return n.op}return null},t.prototype.Nn=function(){return this.Yn().Nn()},t.prototype.ui=function(){return null!==this.collectionGroup},t.prototype.Yn=function(){if(!this.Un)if("F"===this.Fn)this.Un=new se(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,i=this.orderBy;e<i.length;e++){var n=i[e],r=n.dir===ve.DESCENDING?ve.ASCENDING:ve.DESCENDING;t.push(new ge(n.field,r))}var u=this.endAt?new me(this.endAt.position,!this.endAt.before):null,s=this.startAt?new me(this.startAt.position,!this.startAt.before):null;this.Un=new se(this.path,this.collectionGroup,t,this.filters,this.limit,u,s)}return this.Un},t.prototype.$n=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.at(this.collectionGroup)&&this.path.Z(e):ht.ct(this.path)?this.path.isEqual(e):this.path.tt(e)},t.prototype.Zn=function(t){for(var e=0,i=this.On;e<i.length;e++){var n=i[e];if(!n.field.st()&&null===t.field(n.field))return!1}return!0},t.prototype.ti=function(t){for(var e=0,i=this.filters;e<i.length;e++)if(!i[e].matches(t))return!1;return!0},t.prototype.ni=function(t){return!(this.startAt&&!this.startAt.si(this.orderBy,t)||this.endAt&&this.endAt.si(this.orderBy,t))},t.prototype.xn=function(t){ln(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),ue=function(){function t(t){this.name=t}return t.et=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return cn("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),ce=function(t){function i(e,i,n){var r=t.call(this)||this;return r.field=e,r.op=i,r.value=n,r}return c.__extends(i,t),i.create=function(t,e,n){if(t.st())return e===ue.IN?(ln(n instanceof Jt,"Comparing on key with IN, but filter value not an ArrayValue"),ln(n.Jt.every((function(t){return t instanceof Gt})),"Comparing on key with IN, but an array value was not a RefValue"),new he(t,n)):(ln(n instanceof Gt,"Comparing on key, but filter value not a RefValue"),ln(e!==ue.ARRAY_CONTAINS&&e!==ue.ARRAY_CONTAINS_ANY,"'"+e.toString()+"' queries don't make sense on document keys."),new le(t,e,n));if(n.isEqual(Lt.yn)){if(e!==ue.EQUAL)throw new y(m.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new i(t,e,n)}if(n.isEqual(Ut.Tn)){if(e!==ue.EQUAL)throw new y(m.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new i(t,e,n)}return e===ue.ARRAY_CONTAINS?new fe(t,n):e===ue.IN?(ln(n instanceof Jt,"IN filter has invalid value: "+n.toString()),new de(t,n)):e===ue.ARRAY_CONTAINS_ANY?(ln(n instanceof Jt,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new pe(t,n)):new i(t,e,n)},i.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.pn===e.pn&&this.oi(e.B(this.value))},i.prototype.oi=function(t){switch(this.op){case ue.LESS_THAN:return t<0;case ue.LESS_THAN_OR_EQUAL:return t<=0;case ue.EQUAL:return 0===t;case ue.GREATER_THAN:return t>0;case ue.GREATER_THAN_OR_EQUAL:return t>=0;default:return cn("Unknown FieldFilter operator: "+this.op)}},i.prototype.Mn=function(){return[ue.LESS_THAN,ue.LESS_THAN_OR_EQUAL,ue.GREATER_THAN,ue.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},i.prototype.canonicalId=function(){return this.field.it()+this.op.toString()+this.value.toString()},i.prototype.isEqual=function(t){return t instanceof i&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},i.prototype.toString=function(){return this.field.it()+" "+this.op+" "+this.value.value()},i}((function(){})),le=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.matches=function(t){var e=this.value,i=ht.W(t.key,e.key);return this.oi(i)},i}(ce),he=function(t){function i(e,i){var n=t.call(this,e,ue.IN,i)||this;return n.value=i,n}return c.__extends(i,t),i.prototype.matches=function(t){return this.value.Jt.some((function(e){return t.key.isEqual(e.key)}))},i}(ce),fe=function(t){function i(e,i){return t.call(this,e,ue.ARRAY_CONTAINS,i)||this}return c.__extends(i,t),i.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Jt&&e.contains(this.value)},i}(ce),de=function(t){function i(e,i){var n=t.call(this,e,ue.IN,i)||this;return n.value=i,n}return c.__extends(i,t),i.prototype.matches=function(t){var e=this.value,i=t.field(this.field);return null!==i&&e.contains(i)},i}(ce),pe=function(t){function i(e,i){var n=t.call(this,e,ue.ARRAY_CONTAINS_ANY,i)||this;return n.value=i,n}return c.__extends(i,t),i.prototype.matches=function(t){var e=this,i=t.field(this.field);return i instanceof Jt&&i.Jt.some((function(t){return e.value.contains(t)}))},i}(ce),ve=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),me=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,i=this.position;e<i.length;e++)t+=i[e].toString();return t},t.prototype.si=function(t,e){ln(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var i=0,n=0;n<this.position.length;n++){var r=t[n],u=this.position[n];if(r.field.st())ln(u instanceof Gt,"Bound has a non-key value where the key path is being used."),i=ht.W(u.key,e.key);else{var s=e.field(r.field);ln(null!==s,"Field should exist since document matched the orderBy already."),i=u.B(s)}if(r.dir===ve.DESCENDING&&(i*=-1),0!==i)break}return this.before?i<=0:i<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var i=this.position[e],n=t.position[e];if(!i.isEqual(n))return!1}return!0},t}(),ge=function(){function t(t,e){this.field=t,void 0===e&&(e=ve.ASCENDING),this.dir=e,this.hi=t.st()}return t.prototype.compare=function(t,e){var i=this.hi?Qt.Rn(t,e):Qt.Pn(this.field,t,e);switch(this.dir){case ve.ASCENDING:return i;case ve.DESCENDING:return-1*i;default:return cn("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.it()+this.dir.toString()},t.prototype.toString=function(){return this.field.it()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ye=new ge(lt.ot(),ve.ASCENDING),be=new ge(lt.ot(),ve.DESCENDING),we=function(){function t(t,e,i,n,r,u,s){void 0===r&&(r=dt.MIN),void 0===u&&(u=dt.MIN),void 0===s&&(s=rt.k),this.target=t,this.targetId=e,this.ci=i,this.sequenceNumber=n,this.ai=r,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return t.prototype.fi=function(e){return new t(this.target,this.targetId,this.ci,e,this.ai,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.li=function(e,i){return new t(this.target,this.targetId,this.ci,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.di=function(e){return new t(this.target,this.targetId,this.ci,this.sequenceNumber,this.ai,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.ci===t.ci&&this.sequenceNumber===t.sequenceNumber&&this.ai.isEqual(t.ai)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),_e=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Se(t){switch(t){case m.OK:return cn("Treated status OK as error");case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0;default:return cn("Unknown status code: "+t)}}function Ie(t){if(void 0===t)return an("GRPC error has no .code"),m.UNKNOWN;switch(t){case re.OK:return m.OK;case re.CANCELLED:return m.CANCELLED;case re.UNKNOWN:return m.UNKNOWN;case re.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case re.INTERNAL:return m.INTERNAL;case re.UNAVAILABLE:return m.UNAVAILABLE;case re.UNAUTHENTICATED:return m.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case re.NOT_FOUND:return m.NOT_FOUND;case re.ALREADY_EXISTS:return m.ALREADY_EXISTS;case re.PERMISSION_DENIED:return m.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case re.ABORTED:return m.ABORTED;case re.OUT_OF_RANGE:return m.OUT_OF_RANGE;case re.UNIMPLEMENTED:return m.UNIMPLEMENTED;case re.DATA_LOSS:return m.DATA_LOSS;default:return cn("Unknown status code: "+t)}}function ke(t){if(void 0===t)return re.OK;switch(t){case m.OK:return re.OK;case m.CANCELLED:return re.CANCELLED;case m.UNKNOWN:return re.UNKNOWN;case m.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case m.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case m.INTERNAL:return re.INTERNAL;case m.UNAVAILABLE:return re.UNAVAILABLE;case m.UNAUTHENTICATED:return re.UNAUTHENTICATED;case m.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case m.NOT_FOUND:return re.NOT_FOUND;case m.ALREADY_EXISTS:return re.ALREADY_EXISTS;case m.PERMISSION_DENIED:return re.PERMISSION_DENIED;case m.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case m.ABORTED:return re.ABORTED;case m.OUT_OF_RANGE:return re.OUT_OF_RANGE;case m.UNIMPLEMENTED:return re.UNIMPLEMENTED;case m.DATA_LOSS:return re.DATA_LOSS;default:return cn("Unknown status code: "+t)}}(oe=re||(re={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var Ee=new ft(ht.W);function Te(){return Ee}function De(){return Te()}var Ae=new ft(ht.W);function Ce(){return Ae}var Ne=new ft(ht.W);function Oe(){return Ne}var xe=new gt(ht.W);function Pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=xe,n=0,r=t;n<r.length;n++){var u=r[n];i=i.add(u)}return i}var Re=new gt(fn);function Me(){return Re}var Le=function(){function t(t){this.W=t?function(e,i){return t(e,i)||ht.W(e.key,i.key)}:function(t,e){return ht.W(t.key,e.key)},this.vi=Ce(),this.wi=new ft(this.W)}return t.mi=function(e){return new t(e.W)},t.prototype.has=function(t){return null!=this.vi.get(t)},t.prototype.get=function(t){return this.vi.get(t)},t.prototype.first=function(){return this.wi.wt()},t.prototype.last=function(){return this.wi.gt()},t.prototype.Y=function(){return this.wi.Y()},t.prototype.indexOf=function(t){var e=this.vi.get(t);return e?this.wi.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.wi.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.wi.bt((function(e,i){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.vi.dt(t.key,t),e.wi.dt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.vi.remove(t),this.wi.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var i=this.wi.yt(),n=e.wi.yt();i.St();){var r=i.Rt().key,u=n.Rt().key;if(!r.isEqual(u))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var n=new t;return n.W=this.W,n.vi=e,n.wi=i,n},t}(),je=function(){function t(){this.gi=new ft(ht.W)}return t.prototype.track=function(t){var e=t.doc.key,i=this.gi.get(e);i?0!==t.type&&3===i.type?this.gi=this.gi.dt(e,t):3===t.type&&1!==i.type?this.gi=this.gi.dt(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.gi=this.gi.dt(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.gi=this.gi.dt(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.gi=this.gi.remove(e):1===t.type&&2===i.type?this.gi=this.gi.dt(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.gi=this.gi.dt(e,{type:2,doc:t.doc}):cn("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(i)):this.gi=this.gi.dt(e,t)},t.prototype.bi=function(){var t=[];return this.gi.bt((function(e,i){t.push(i)})),t},t}(),Ve=function(){function t(t,e,i,n,r,u,s,o){this.query=t,this.docs=e,this.pi=i,this.docChanges=n,this.yi=r,this.fromCache=u,this._i=s,this.Ii=o}return t.Ti=function(e,i,n,r){var u=[];return i.forEach((function(t){u.push({type:0,doc:t})})),new t(e,i,Le.mi(i),u,n,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.yi.Y()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this._i===t._i&&this.yi.isEqual(t.yi)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.pi.isEqual(t.pi)))return!1;var e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(var n=0;n<e.length;n++)if(e[n].type!==i[n].type||!e[n].doc.isEqual(i[n].doc))return!1;return!0},t}(),Fe=function(){function t(t,e,i,n,r){this.ai=t,this.Ei=e,this.Di=i,this.Ri=n,this.Si=r}return t.Ai=function(e,i){var n,r=((n={})[e]=Be.Ci(e,i),n);return new t(dt.MIN,r,Me(),Te(),Pe())},t}(),Be=function(){function t(t,e,i,n,r){this.resumeToken=t,this.Pi=e,this.ki=i,this.Ni=n,this.Oi=r}return t.Ci=function(e,i){return new t(rt.k,i,Pe(),Pe(),Pe())},t}(),Ue=function(t,e,i,n){this.Fi=t,this.removedTargetIds=e,this.key=i,this.Vi=n},$e=function(t,e){this.targetId=t,this.Ui=e},qe=function(t,e,i,n){void 0===i&&(i=rt.k),void 0===n&&(n=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n},ze=function(){function t(){this.xi=0,this.ji=We(),this.Li=rt.k,this.qi=!1,this.Bi=!0}return Object.defineProperty(t.prototype,"Pi",{get:function(){return this.qi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Li},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mi",{get:function(){return 0!==this.xi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Qi",{get:function(){return this.Bi},enumerable:!0,configurable:!0}),t.prototype.Gi=function(t){t.P()>0&&(this.Bi=!0,this.Li=t)},t.prototype.Wi=function(){var t=Pe(),e=Pe(),i=Pe();return this.ji.forEach((function(n,r){switch(r){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:i=i.add(n);break;default:cn("Encountered invalid change type: "+r)}})),new Be(this.Li,this.qi,t,e,i)},t.prototype.zi=function(){this.Bi=!1,this.ji=We()},t.prototype.Ki=function(t,e){this.Bi=!0,this.ji=this.ji.dt(t,e)},t.prototype.Hi=function(t){this.Bi=!0,this.ji=this.ji.remove(t)},t.prototype.Ji=function(){this.xi+=1},t.prototype.Yi=function(){this.xi-=1},t.prototype.Xi=function(){this.Bi=!0,this.qi=!0},t}(),He=function(){function t(t){this.$i=t,this.Zi={},this.te=Te(),this.ne=Ge(),this.ie=new gt(fn)}return t.prototype.ee=function(t){for(var e=0,i=t.Fi;e<i.length;e++){var n=i[e];t.Vi instanceof Qt?this.re(n,t.Vi):t.Vi instanceof Zt&&this.ue(n,t.key,t.Vi)}for(var r=0,u=t.removedTargetIds;r<u.length;r++)n=u[r],this.ue(n,t.key,t.Vi)},t.prototype.se=function(t){var e=this;this.oe(t,(function(i){var n=e.he(i);switch(t.state){case 0:e.ce(i)&&n.Gi(t.resumeToken);break;case 1:n.Yi(),n.Mi||n.zi(),n.Gi(t.resumeToken);break;case 2:n.Yi(),n.Mi||e.removeTarget(i),ln(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.ce(i)&&(n.Xi(),n.Gi(t.resumeToken));break;case 4:e.ce(i)&&(e.ae(i),n.Gi(t.resumeToken));break;default:cn("Unknown target watch change state: "+t.state)}}))},t.prototype.oe=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):C(this.Zi,e)},t.prototype.fe=function(t){var e=t.targetId,i=t.Ui.count,n=this.le(e);if(n){var r=n.target;if(r.Nn())if(0===i){var u=new ht(r.path);this.ue(e,u,new Zt(u,dt.q()))}else ln(1===i,"Single document existence filter with count: "+i);else this.de(e)!==i&&(this.ae(e),this.ie=this.ie.add(e))}},t.prototype.ve=function(t){var e=this,i={};C(this.Zi,(function(n,r){var u=e.le(n);if(u){if(r.Pi&&u.target.Nn()){var s=new ht(u.target.path);null!==e.te.get(s)||e.we(n,s)||e.ue(n,s,new Zt(s,t))}r.Qi&&(i[n]=r.Wi(),r.zi())}}));var n=Pe();this.ne.forEach((function(t,i){var r=!0;i.Bt((function(t){var i=e.le(t);return!i||2===i.ci||(r=!1,!1)})),r&&(n=n.add(t))}));var r=new Fe(t,i,this.ie,this.te,n);return this.te=Te(),this.ne=Ge(),this.ie=new gt(fn),r},t.prototype.re=function(t,e){if(this.ce(t)){var i=this.we(t,e.key)?2:0;this.he(t).Ki(e.key,i),this.te=this.te.dt(e.key,e),this.ne=this.ne.dt(e.key,this.me(e.key).add(t))}},t.prototype.ue=function(t,e,i){if(this.ce(t)){var n=this.he(t);this.we(t,e)?n.Ki(e,1):n.Hi(e),this.ne=this.ne.dt(e,this.me(e).delete(t)),i&&(this.te=this.te.dt(e,i))}},t.prototype.removeTarget=function(t){delete this.Zi[t]},t.prototype.de=function(t){var e=this.he(t).Wi();return this.$i.ge(t).size+e.ki.size-e.Oi.size},t.prototype.Ji=function(t){this.he(t).Ji()},t.prototype.he=function(t){return this.Zi[t]||(this.Zi[t]=new ze),this.Zi[t]},t.prototype.me=function(t){var e=this.ne.get(t);return e||(e=new gt(fn),this.ne=this.ne.dt(t,e)),e},t.prototype.ce=function(t){var e=null!==this.le(t);return e||sn("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.le=function(t){var e=this.Zi[t];return e&&e.Mi?null:this.$i.be(t)},t.prototype.ae=function(t){var e=this;ln(!this.Zi[t].Mi,"Should only reset active targets"),this.Zi[t]=new ze,this.$i.ge(t).forEach((function(i){e.ue(t,i,null)}))},t.prototype.we=function(t,e){return this.$i.ge(t).has(e)},t}();function Ge(){return new ft(ht.W)}function We(){return new ft(ht.W)}var Ke,Ye,Je=((Ke={})[ve.ASCENDING.name]="ASCENDING",Ke[ve.DESCENDING.name]="DESCENDING",Ke),Xe=((Ye={})[ue.LESS_THAN.name]="LESS_THAN",Ye[ue.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ye[ue.GREATER_THAN.name]="GREATER_THAN",Ye[ue.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ye[ue.EQUAL.name]="EQUAL",Ye[ue.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ye[ue.IN.name]="IN",Ye[ue.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Ye),Qe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ze(t,e){ln(!ee(t),e+" is missing")}function tn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):cn("can't parse "+t)}var en=function(){function t(t,e){this.Dn=t,this.options=e}return t.prototype.pe=function(t){var e=void 0===t.code?m.UNKNOWN:Ie(t.code);return new y(e,t.message||"")},t.prototype.ye=function(t){return this.options._e||ee(t)?t:{value:t}},t.prototype.Ie=function(t){var e;return ee(e="object"==typeof t?t.value:t)?null:e},t.prototype.G=function(t){return this.options._e?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.Te(t);ln(!!t,"Cannot deserialize null or undefined timestamp.");var e=tn(t.seconds||"0"),i=t.nanos||0;return new st(e,i)},t.prototype.Te=function(t){var e=0,i=Qe.exec(t);if(ln(!!i,"invalid timestamp: "+t),i[1]){var n=i[1];n=(n+"000000000").substr(0,9),e=Number(n)}var r=new Date(t),u=Math.floor(r.getTime()/1e3);return new st(u,e)},t.prototype.Ee=function(t){return this.options._e?t.toBase64():t.toUint8Array()},t.prototype.De=function(t){return this.options._e?(ln(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),rt.fromBase64String(t||"")):(ln(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),rt.fromUint8Array(t||new Uint8Array))},t.prototype.Re=function(t){return"string"==typeof t?(ln(this.options._e,"Expected bytes to be passed in as Uint8Array, but got a string instead."),nt.fromBase64String(t)):(ln(!this.options._e,"Expected bytes to be passed in as Uint8Array, but got a string instead."),nt.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.G(t.G())},t.prototype.fromVersion=function(t){return ln(!!t,"Trying to deserialize version that isn't set"),dt.L(this.L(t))},t.prototype.Se=function(t,e){return this.Ae(t).child("documents").child(e).it()},t.prototype.Ce=function(t){var e=ut.et(t);return ln(this.Pe(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.ke=function(t){return this.Se(this.Dn,t.path)},t.prototype.Ne=function(t){var e=this.Ce(t);return ln(e.get(1)===this.Dn.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.Dn.projectId),ln(!e.get(3)&&!this.Dn.database||e.get(3)===this.Dn.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.Dn.database),new ht(this.Oe(e))},t.prototype.Fe=function(t){return this.Se(this.Dn,t)},t.prototype.Ve=function(t){var e=this.Ce(t);return 4===e.length?ut.rt:this.Oe(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return new ut(["projects",this.Dn.projectId,"databases",this.Dn.database]).it()},enumerable:!0,configurable:!0}),t.prototype.Ae=function(t){return new ut(["projects",t.projectId,"databases",t.database])},t.prototype.Oe=function(t){return ln(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.H(5)},t.prototype.Pe=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.xe=function(t){if(t instanceof Lt)return{nullValue:"NULL_VALUE"};if(t instanceof jt)return{booleanValue:t.value()};if(t instanceof Bt)return{integerValue:""+t.value()};if(t instanceof Ut){var e=t.value();if(this.options._e){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"};if(ne(e))return{doubleValue:"-0"}}return{doubleValue:t.value()}}return t instanceof $t?{stringValue:t.value()}:t instanceof Kt?{mapValue:this.je(t)}:t instanceof Jt?{arrayValue:this.Le(t)}:t instanceof qt?{timestampValue:this.G(t.Jt)}:t instanceof Wt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ht?{bytesValue:this.Ee(t.value())}:t instanceof Gt?{referenceValue:this.Se(t.Dn,t.key.path)}:cn("Unknown FieldValue "+JSON.stringify(t))},t.prototype.qe=function(t){var e=this;if("nullValue"in t)return Lt.yn;if("booleanValue"in t)return jt.of(t.booleanValue);if("integerValue"in t)return new Bt(tn(t.integerValue));if("doubleValue"in t){if(this.options._e){if("NaN"===t.doubleValue)return Ut.Tn;if("Infinity"===t.doubleValue)return Ut.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ut.NEGATIVE_INFINITY;if("-0"===t.doubleValue)return new Ut(-0)}return new Ut(t.doubleValue)}if("stringValue"in t)return new $t(t.stringValue);if("mapValue"in t)return this.Be(t.mapValue.fields||{});if("arrayValue"in t){Ze(t.arrayValue,"arrayValue");var i=t.arrayValue.values||[];return new Jt(i.map((function(t){return e.qe(t)})))}if("timestampValue"in t)return Ze(t.timestampValue,"timestampValue"),new qt(this.L(t.timestampValue));if("geoPointValue"in t){Ze(t.geoPointValue,"geoPointValue");var n=t.geoPointValue.latitude||0,r=t.geoPointValue.longitude||0;return new Wt(new ot(n,r))}if("bytesValue"in t){Ze(t.bytesValue,"bytesValue");var u=this.Re(t.bytesValue);return new Ht(u)}if("referenceValue"in t){Ze(t.referenceValue,"referenceValue");var s=this.Ce(t.referenceValue),o=new mn(s.get(1),s.get(3)),c=new ht(this.Oe(s));return new Gt(o,c)}return cn("Unknown Value proto "+JSON.stringify(t))},t.prototype.Me=function(t,e){return{name:this.ke(t),fields:this.Qe(e)}},t.prototype.Ge=function(t){return ln(!t.rn,"Can't serialize documents with mutations."),{name:this.ke(t.key),fields:this.Qe(t.data()),updateTime:this.G(t.version.G())}},t.prototype.We=function(t,e){var i=this,n=this.Ne(t.name),r=this.fromVersion(t.updateTime);return new Qt(n,r,{hasCommittedMutations:!!e},void 0,t,(function(t){return i.qe(t)}))},t.prototype.Qe=function(t){var e=this,i={};return t.forEach((function(t,n){i[t]=e.xe(n)})),i},t.prototype.Be=function(t){var e=this,i=t,n=Kt.wn();return N(i,(function(t,i){n.set(new lt([t]),e.qe(i))})),n.an()},t.prototype.je=function(t){return{fields:this.Qe(t)}},t.prototype.Le=function(t){var e=this,i=[];return t.forEach((function(t){i.push(e.xe(t))})),{values:i}},t.prototype.ze=function(t){var e=this;ln(!!t.found,"Tried to deserialize a found document from a missing document."),Ze(t.found.name,"doc.found.name"),Ze(t.found.updateTime,"doc.found.updateTime");var i=this.Ne(t.found.name),n=this.fromVersion(t.found.updateTime);return new Qt(i,n,{},void 0,t.found,(function(t){return e.qe(t)}))},t.prototype.Ke=function(t){ln(!!t.missing,"Tried to deserialize a missing document from a found document."),ln(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.Ne(t.missing),i=this.fromVersion(t.readTime);return new Zt(e,i)},t.prototype.He=function(t){return"found"in t?this.ze(t):"missing"in t?this.Ke(t):cn("invalid batch get response: "+JSON.stringify(t))},t.prototype.Je=function(t){switch(t){case 1:return"ADD";case 3:return"CURRENT";case 0:return"NO_CHANGE";case 2:return"REMOVE";case 4:return"RESET";default:return cn("Unknown WatchTargetChangeState: "+t)}},t.prototype.Ye=function(t){if(t instanceof $e)return{filter:{count:t.Ui.count,targetId:t.targetId}};if(t instanceof Ue){if(t.Vi instanceof Qt){var e=t.Vi;return{documentChange:{document:{name:this.ke(e.key),fields:this.Qe(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.Fi,removedTargetIds:t.removedTargetIds}}}if(t.Vi instanceof Zt)return e=t.Vi,{documentDelete:{document:this.ke(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.Vi)return{documentRemove:{document:this.ke(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof qe){var i=void 0;return t.cause&&(i={code:ke(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Je(t.state),targetIds:t.targetIds,resumeToken:this.Ee(t.resumeToken),cause:i}}}return cn("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Xe=function(t){var e,i=this;if("targetChange"in t){Ze(t.targetChange,"targetChange");var n=this.$e(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],u=this.De(t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&this.pe(s);e=new qe(n,r,u,o||null)}else if("documentChange"in t){Ze(t.documentChange,"documentChange");var c=t.documentChange;Ze(c.document,"documentChange.name"),Ze(c.document.name,"documentChange.document.name"),Ze(c.document.updateTime,"documentChange.document.updateTime");var l=this.Ne(c.document.name),a=this.fromVersion(c.document.updateTime),h=new Qt(l,a,{},void 0,c.document,(function(t){return i.qe(t)})),f=c.targetIds||[],d=c.removedTargetIds||[];e=new Ue(f,d,h.key,h)}else if("documentDelete"in t){Ze(t.documentDelete,"documentDelete");var v=t.documentDelete;Ze(v.document,"documentDelete.document"),l=this.Ne(v.document),a=v.readTime?this.fromVersion(v.readTime):dt.q(),h=new Zt(l,a),d=v.removedTargetIds||[],e=new Ue([],d,h.key,h)}else if("documentRemove"in t){Ze(t.documentRemove,"documentRemove");var m=t.documentRemove;Ze(m.document,"documentRemove"),l=this.Ne(m.document),d=m.removedTargetIds||[],e=new Ue([],d,l,null)}else{if(!("filter"in t))return cn("Unknown change type "+JSON.stringify(t));Ze(t.filter,"filter");var y=t.filter;Ze(y.targetId,"filter.targetId");var g=y.count||0,b=new _e(g),p=y.targetId;e=new $e(p,b)}return e},t.prototype.$e=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:cn("Got unexpected TargetChange.state: "+t)},t.prototype.Ze=function(t){if(!("targetChange"in t))return dt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?dt.MIN:e.readTime?this.fromVersion(e.readTime):dt.MIN},t.prototype.tr=function(t){var e,i=this;if(t instanceof Ct)e={update:this.Me(t.key,t.value)};else if(t instanceof xt)e={delete:this.ke(t.key)};else if(t instanceof Nt)e={update:this.Me(t.key,t.data),updateMask:this.nr(t.sn)};else if(t instanceof Ot)e={transform:{document:this.ke(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return i.ir(t)}))}};else{if(!(t instanceof Pt))return cn("Unknown mutation type "+t.type);e={verify:this.ke(t.key)}}return t.en.Zt||(e.currentDocument=this.er(t.en)),e},t.prototype.rr=function(t){var e=this,i=t.currentDocument?this.ur(t.currentDocument):Dt.NONE;if(t.update){Ze(t.update.name,"name");var n=this.Ne(t.update.name),r=this.Be(t.update.fields||{});if(t.updateMask){var u=this.sr(t.updateMask);return new Nt(n,r,u,i)}return new Ct(n,r,i)}if(t.delete)return n=this.Ne(t.delete),new xt(n,i);if(t.transform){n=this.Ne(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.or(t)}));return ln(!0===i.exists,'Transforms only support precondition "exists == true"'),new Ot(n,s)}return t.verify?(n=this.Ne(t.verify),new Pt(n,i)):cn("unknown mutation proto: "+JSON.stringify(t))},t.prototype.er=function(t){return ln(!t.Zt,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cn("Unknown precondition")},t.prototype.ur=function(t){return void 0!==t.updateTime?Dt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Dt.exists(t.exists):Dt.NONE},t.prototype.hr=function(t,e){var i=this,n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(dt.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map((function(t){return i.qe(t)}))),new Tt(n,r)},t.prototype.cr=function(t,e){var i=this;return t&&t.length>0?(ln(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return i.hr(t,e)}))):[]},t.prototype.ir=function(t){var e=this,i=t.transform;if(i instanceof bt)return{fieldPath:t.field.it(),setToServerValue:"REQUEST_TIME"};if(i instanceof wt)return{fieldPath:t.field.it(),appendMissingElements:{values:i.elements.map((function(t){return e.xe(t)}))}};if(i instanceof _t)return{fieldPath:t.field.it(),removeAllFromArray:{values:i.elements.map((function(t){return e.xe(t)}))}};if(i instanceof St)return{fieldPath:t.field.it(),increment:this.xe(i.Ht)};throw cn("Unknown transform: "+t.transform)},t.prototype.or=function(t){var e=this,i=null;if("setToServerValue"in t)ln("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),i=bt.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];i=new wt(n.map((function(t){return e.qe(t)})))}else if("removeAllFromArray"in t)n=t.removeAllFromArray.values||[],i=new _t(n.map((function(t){return e.qe(t)})));else if("increment"in t){var r=this.qe(t.increment);ln(r instanceof Vt,"NUMERIC_ADD transform requires a NumberValue"),i=new St(r)}else cn("Unknown transform proto: "+JSON.stringify(t));var u=lt.ht(t.fieldPath);return new Et(u,i)},t.prototype.ar=function(t){return{documents:[this.Fe(t.path)]}},t.prototype.lr=function(t){var e=t.documents.length;ln(1===e,"DocumentsTarget contained other than 1 document: "+e);var i=t.documents[0];return ae.jn(this.Ve(i)).Yn()},t.prototype.dr=function(t){var e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(ln(i.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Fe(i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(ln(i.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Fe(i.J()),e.structuredQuery.from=[{collectionId:i.$()}]);var n=this.vr(t.filters);n&&(e.structuredQuery.where=n);var r=this.wr(t.orderBy);r&&(e.structuredQuery.orderBy=r);var u=this.ye(t.limit);return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=this.mr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.mr(t.endAt)),e},t.prototype.gr=function(t){var e=this.Ve(t.parent),i=t.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){ln(1===n,"StructuredQuery.from with more than one collection is not supported.");var u=i.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}var s=[];i.where&&(s=this.br(i.where));var o=[];i.orderBy&&(o=this.pr(i.orderBy));var c=null;i.limit&&(c=this.Ie(i.limit));var l=null;i.startAt&&(l=this.yr(i.startAt));var a=null;return i.endAt&&(a=this.yr(i.endAt)),new ae(e,r,o,s,c,"F",l,a).Yn()},t.prototype._r=function(t){var e=this.Ir(t.ci);return null==e?null:{"goog-listen-tags":e}},t.prototype.Ir=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cn("Unrecognized query purpose: "+t)}},t.prototype.Yn=function(t){var e,i=t.target;return(e=i.Nn()?{documents:this.ar(i)}:{query:this.dr(i)}).targetId=t.targetId,t.resumeToken.P()>0&&(e.resumeToken=this.Ee(t.resumeToken)),e},t.prototype.vr=function(t){var e=this;if(0!==t.length){var i=t.map((function(t){return t instanceof ce?e.Tr(t):cn("Unrecognized filter: "+JSON.stringify(t))}));return 1===i.length?i[0]:{compositeFilter:{op:"AND",filters:i}}}},t.prototype.br=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Er(t)]:void 0!==t.fieldFilter?[this.Dr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.br(t)})).reduce((function(t,e){return t.concat(e)})):cn("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.wr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Rr(t)}))},t.prototype.pr=function(t){var e=this;return t.map((function(t){return e.Sr(t)}))},t.prototype.mr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.xe(t)}))}},t.prototype.yr=function(t){var e=this,i=!!t.before,n=t.values.map((function(t){return e.qe(t)}));return new me(n,i)},t.prototype.Ar=function(t){return Je[t.name]},t.prototype.Cr=function(t){switch(t){case"ASCENDING":return ve.ASCENDING;case"DESCENDING":return ve.DESCENDING;default:return}},t.prototype.Pr=function(t){return Xe[t.name]},t.prototype.kr=function(t){switch(t){case"EQUAL":return ue.EQUAL;case"GREATER_THAN":return ue.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ue.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ue.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ue.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ue.ARRAY_CONTAINS;case"IN":return ue.IN;case"ARRAY_CONTAINS_ANY":return ue.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return cn("Unspecified operator");default:return cn("Unknown operator")}},t.prototype.Nr=function(t){return{fieldPath:t.it()}},t.prototype.Or=function(t){return lt.ht(t.fieldPath)},t.prototype.Rr=function(t){return{field:this.Nr(t.field),direction:this.Ar(t.dir)}},t.prototype.Sr=function(t){return new ge(this.Or(t.field),this.Cr(t.direction))},t.prototype.Dr=function(t){return ce.create(this.Or(t.fieldFilter.field),this.kr(t.fieldFilter.op),this.qe(t.fieldFilter.value))},t.prototype.Tr=function(t){if(t.op===ue.EQUAL){if(t.value.isEqual(Ut.Tn))return{unaryFilter:{field:this.Nr(t.field),op:"IS_NAN"}};if(t.value.isEqual(Lt.yn))return{unaryFilter:{field:this.Nr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.Nr(t.field),op:this.Pr(t.op),value:this.xe(t.value)}}},t.prototype.Er=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.Or(t.unaryFilter.field);return ce.create(e,ue.EQUAL,Ut.Tn);case"IS_NULL":var i=this.Or(t.unaryFilter.field);return ce.create(i,ue.EQUAL,Lt.yn);case"OPERATOR_UNSPECIFIED":return cn("Unspecified filter");default:return cn("Unknown filter")}},t.prototype.nr=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.it())})),{fieldPaths:e}},t.prototype.sr=function(t){var e=(t.fieldPaths||[]).map((function(t){return lt.ht(t)}));return kt.Xt(e)},t}(),nn=function(){function t(){}return t.Fr=function(e){t.platform&&cn("Platform already defined"),t.platform=e},t.C=function(){return t.platform||cn("Platform not set"),t.platform},t}(),rn=new l.Logger("@firebase/firestore");function li(){return rn.logLevel===l.LogLevel.DEBUG?0:rn.logLevel===l.LogLevel.SILENT?2:1}function on(t){switch(t){case 0:rn.logLevel=l.LogLevel.DEBUG;break;case 1:rn.logLevel=l.LogLevel.ERROR;break;case 2:rn.logLevel=l.LogLevel.SILENT;break;default:rn.error("Firestore ("+d+"): Invalid value passed to `setLogLevel`")}}function sn(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(rn.logLevel<=l.LogLevel.DEBUG){var u=i.map(un);rn.debug.apply(rn,c.__spreadArrays(["Firestore ("+d+") ["+t+"]: "+e],u))}}function an(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(rn.logLevel<=l.LogLevel.ERROR){var n=e.map(un);rn.error.apply(rn,c.__spreadArrays(["Firestore ("+d+"): "+t],n))}}function un(t){if("string"==typeof t)return t;var e=nn.C();try{return e.Vr(t)}catch(e){return t}}function cn(t){var e="FIRESTORE ("+d+") INTERNAL ASSERTION FAILED: "+t;throw an(e),new Error(e)}function ln(t,e){t||cn(e)}var hn=function(){function t(){}return t.Ur=function(){for(var t="";t.length<20;)nn.C().randomBytes(40).forEach((function(e){t.length<20&&e<=247&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(e%62))}));return ln(20===t.length,"Invalid auto ID: "+t),t},t}();function fn(t,e){return t<e?-1:t>e?1:0}function dn(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].isEqual(e[i]))return!1;return!0}function pn(t){return t+"\0"}var vn=function(t,e,i,n,r){this.Dn=t,this.persistenceKey=e,this.host=i,this.ssl=n,this.forceLongPolling=r},mn=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"xr",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.B=function(t){return fn(this.projectId,t.projectId)||fn(this.database,t.database)},t}(),gn=function(){function t(t,e,i,n){this.batchId=t,this.En=e,this.baseMutations=i,this.mutations=n,ln(n.length>0,"Cannot create an empty mutation batch")}return t.prototype.zt=function(t,e,i){e&&ln(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var n=i.jr;ln(n.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+n.length+").");for(var r=0;r<this.mutations.length;r++){var u=this.mutations[r];if(u.key.isEqual(t)){var s=n[r];e=u.zt(e,s)}}return e},t.prototype.Wt=function(t,e){e&&ln(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var i=0,n=this.baseMutations;i<n.length;i++)(o=n[i]).key.isEqual(t)&&(e=o.Wt(e,e,this.En));for(var r=e,u=0,s=this.mutations;u<s.length;u++){var o;(o=s[u]).key.isEqual(t)&&(e=o.Wt(e,r,this.En))}return e},t.prototype.Lr=function(t){var e=this,i=t;return this.mutations.forEach((function(n){var r=e.Wt(n.key,t.get(n.key));r&&(i=i.dt(n.key,r))})),i},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Pe())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&dn(this.mutations,t.mutations)&&dn(this.baseMutations,t.baseMutations)},t}(),yn=function(){function t(t,e,i,n,r){this.batch=t,this.qr=e,this.jr=i,this.streamToken=n,this.Br=r}return t.from=function(e,i,n,r){ln(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var u=Oe(),s=e.mutations,o=0;o<s.length;o++)u=u.dt(s[o].key,n[o].version);return new t(e,i,n,r,u)},t}(),bn=function(){function t(t){this.Mr=t,this.Qr={}}return t.prototype.get=function(t){var e=this.Mr(t),i=this.Qr[e];if(void 0!==i)for(var n=0,r=i;n<r.length;n++){var u=r[n],s=u[0],o=u[1];if(s.isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var i=this.Mr(t),n=this.Qr[i];if(void 0!==n){for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return void(n[r]=[t,e]);n.push([t,e])}else this.Qr[i]=[[t,e]]},t.prototype.delete=function(t){var e=this.Mr(t),i=this.Qr[e];if(void 0===i)return!1;for(var n=0;n<i.length;n++)if(i[n][0].isEqual(t))return 1===i.length?delete this.Qr[e]:i.splice(n,1),!0;return!1},t.prototype.forEach=function(t){N(this.Qr,(function(e,i){for(var n=0,r=i;n<r.length;n++){var u=r[n],s=u[0],o=u[1];t(s,o)}}))},t.prototype.Y=function(){return O(this.Qr)},t}(),wn=function(){function t(t,e,i,n){this.targetId=t,this.fromCache=e,this.Gr=i,this.Wr=n}return t.zr=function(e,i){for(var n=Pe(),r=Pe(),u=0,s=i.docChanges;u<s.length;u++){var o=s[u];switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}}return new t(e,i.fromCache,n,r)},t}(),_n=function(){function t(t,e){var i=this;this.previousValue=t,e&&(e.Kr=function(t){return i.Hr(t)},this.Jr=function(t){return e.Yr(t)})}return t.prototype.Hr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Jr&&this.Jr(t),t},t.Xr=-1,t}(),Sn=function(){var t=this;this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))},In=function(){function t(t,e,i,n,r){this.$r=t,this.Zr=e,this.tu=i,this.op=n,this.nu=r,this.iu=new Sn,this.then=this.iu.promise.then.bind(this.iu.promise),this.catch=this.iu.promise.catch.bind(this.iu.promise),this.iu.promise.catch((function(t){}))}return t.eu=function(e,i,n,r,u){var s=new t(e,i,Date.now()+n,r,u);return s.start(n),s},t.prototype.start=function(t){var e=this;this.ru=setTimeout((function(){return e.uu()}),t)},t.prototype.su=function(){return this.uu()},t.prototype.cancel=function(t){null!==this.ru&&(this.clearTimeout(),this.iu.reject(new y(m.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.uu=function(){var t=this;this.$r.ou((function(){return null!==t.ru?(t.clearTimeout(),t.op().then((function(e){return t.iu.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ru&&(this.nu(this),clearTimeout(this.ru),this.ru=null)},t}(),kn=function(){function t(){this.hu=Promise.resolve(),this.cu=!1,this.au=[],this.fu=null,this.lu=!1,this.du=[]}return Object.defineProperty(t.prototype,"vu",{get:function(){return this.cu},enumerable:!0,configurable:!0}),t.prototype.ou=function(t){this.enqueue(t)},t.prototype.wu=function(t){this.mu(),this.gu(t)},t.prototype.bu=function(t){return this.mu(),this.gu(t)},t.prototype.pu=function(t){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(e){switch(e.label){case 0:return this.mu(),this.cu?[3,2]:(this.cu=!0,[4,this.bu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.mu(),this.cu?new Promise((function(t){})):this.gu(t)},t.prototype.gu=function(t){var e=this,i=this.hu.then((function(){return e.lu=!0,t().catch((function(t){e.fu=t,e.lu=!1;var i=t.stack||t.message||"";throw an("INTERNAL UNHANDLED ERROR: ",i),i.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.lu=!1,t}))}));return this.hu=i,i},t.prototype.yu=function(t,e,i){var n=this;this.mu(),ln(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.du.indexOf(t)>-1&&(e=0);var r=In.eu(this,t,e,i,(function(t){return n._u(t)}));return this.au.push(r),r},t.prototype.mu=function(){this.fu&&cn("AsyncQueue is already failed: "+(this.fu.stack||this.fu.message))},t.prototype.Iu=function(){ln(this.lu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.Tu=function(){return c.__awaiter(this,void 0,void 0,(function(){var t;return c.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.hu];case 1:e.sent(),e.label=2;case 2:if(t!==this.hu)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Eu=function(t){for(var e=0,i=this.au;e<i.length;e++)if(i[e].Zr===t)return!0;return!1},t.prototype.Du=function(t){var e=this;return this.Tu().then((function(){ln("all"===t||e.Eu(t),"Attempted to drain to missing operation "+t),e.au.sort((function(t,e){return t.tu-e.tu}));for(var i=0,n=e.au;i<n.length;i++){var r=n[i];if(r.su(),"all"!==t&&r.Zr===t)break}return e.Tu()}))},t.prototype.Ru=function(t){this.du.push(t)},t.prototype._u=function(t){var e=this.au.indexOf(t);ln(e>=0,"Delayed operation not found."),this.au.splice(e,1)},t}(),En=function(){function t(t){var e=this;this.Su=null,this.Au=null,this.result=void 0,this.error=void 0,this.Cu=!1,this.Pu=!1,t((function(t){e.Cu=!0,e.result=t,e.Su&&e.Su(t)}),(function(t){e.Cu=!0,e.error=t,e.Au&&e.Au(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,i){var n=this;return this.Pu&&cn("Called next() or catch() twice for PersistencePromise"),this.Pu=!0,this.Cu?this.error?this.ku(i,this.error):this.Nu(e,this.result):new t((function(t,r){n.Su=function(i){n.Nu(e,i).next(t,r)},n.Au=function(e){n.ku(i,e).next(t,r)}}))},t.prototype.Ou=function(){var t=this;return new Promise((function(e,i){t.next(e,i)}))},t.prototype.Fu=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(e){return t.reject(e)}},t.prototype.Nu=function(e,i){return e?this.Fu((function(){return e(i)})):t.resolve(i)},t.prototype.ku=function(e,i){return e?this.Fu((function(){return e(i)})):t.reject(i)},t.resolve=function(e){return new t((function(t,i){t(e)}))},t.reject=function(e){return new t((function(t,i){i(e)}))},t.Vu=function(e){return new t((function(t,i){var n=0,r=0,u=!1;e.forEach((function(e){++n,e.next((function(){++r,u&&r===n&&t()}),(function(t){return i(t)}))})),u=!0,r===n&&t()}))},t.Uu=function(e){for(var i=t.resolve(!1),n=function(e){i=i.next((function(i){return i?t.resolve(i):e()}))},r=0,u=e;r<u.length;r++)n(u[r]);return i},t.forEach=function(t,e){var i=this,n=[];return t.forEach((function(t,r){n.push(e.call(i,t,r))})),this.Vu(n)},t}();function Tn(t,e){var i=t[0],n=t[1],r=e[0],u=e[1],s=fn(i,r);return 0===s?fn(n,u):s}var Dn=function(){function t(t){this.xu=t,this.buffer=new gt(Tn),this.ju=0}return t.prototype.Lu=function(){return++this.ju},t.prototype.qu=function(t){var e=[t,this.Lu()];if(this.buffer.size<this.xu)this.buffer=this.buffer.add(e);else{var i=this.buffer.last();Tn(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),An={Bu:!1,Mu:0,Qu:0,Gu:0},Cn=function(){function t(t,e,i){this.Wu=t,this.zu=e,this.Ku=i}return t.Hu=function(e){return new t(e,t.Ju,t.Yu)},t.Xu=-1,t.$u=1048576,t.Zu=41943040,t.Ju=10,t.Yu=1e3,t.ts=new t(t.Zu,t.Ju,t.Yu),t.DISABLED=new t(t.Xu,0,0),t}(),Nn=function(){function t(t,e){this.ns=t,this.$r=e,this.es=!1,this.rs=null}return t.prototype.start=function(t){ln(null===this.rs,"Cannot start an already started LruScheduler"),this.ns.params.Wu!==Cn.Xu&&this.us(t)},t.prototype.stop=function(){this.rs&&(this.rs.cancel(),this.rs=null)},Object.defineProperty(t.prototype,"ss",{get:function(){return null!==this.rs},enumerable:!0,configurable:!0}),t.prototype.us=function(t){var e=this;ln(null===this.rs,"Cannot schedule GC while a task is pending");var i=this.es?3e5:6e4;sn("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.rs=this.$r.yu("lru_garbage_collection",i,(function(){return e.rs=null,e.es=!0,t.os(e.ns).then((function(){return e.us(t)})).catch(Ln)}))},t}(),On=function(){function t(t,e){this.hs=t,this.params=e}return t.prototype.cs=function(t,e){return this.hs.as(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.fs=function(t,e){var i=this;if(0===e)return En.resolve(_n.Xr);var n=new Dn(e);return this.hs.oe(t,(function(t){return n.qu(t.sequenceNumber)})).next((function(){return i.hs.ls(t,(function(t){return n.qu(t)}))})).next((function(){return n.maxValue}))},t.prototype.ds=function(t,e,i){return this.hs.ds(t,e,i)},t.prototype.vs=function(t,e){return this.hs.vs(t,e)},t.prototype.ws=function(t,e){var i=this;return this.params.Wu===Cn.Xu?(sn("LruGarbageCollector","Garbage collection skipped; disabled"),En.resolve(An)):this.ms(t).next((function(n){return n<i.params.Wu?(sn("LruGarbageCollector","Garbage collection skipped; Cache size "+n+" is lower than threshold "+i.params.Wu),An):i.gs(t,e)}))},t.prototype.ms=function(t){return this.hs.ms(t)},t.prototype.gs=function(t,e){var i,n,r,u,s,o,c,l=this,a=Date.now();return this.cs(t,this.params.zu).next((function(e){return e>l.params.Ku?(sn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Ku+" from "+e),n=l.params.Ku):n=e,u=Date.now(),l.fs(t,n)})).next((function(n){return i=n,s=Date.now(),l.ds(t,i,e)})).next((function(e){return r=e,o=Date.now(),l.vs(t,i)})).next((function(t){return c=Date.now(),li()<=0&&sn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(u-a)+"ms\n\tDetermined least recently used "+n+" in "+(s-u)+"ms\n\tRemoved "+r+" targets in "+(o-s)+"ms\n\tRemoved "+t+" documents in "+(c-o)+"ms\nTotal Duration: "+(c-a)+"ms"),En.resolve({Bu:!0,Mu:n,Qu:r,Gu:t})}))},t}(),xn=function(){function t(){this.bs=new gt(Pn.Rn),this.ps=new gt(Pn.ys)}return t.prototype.Y=function(){return this.bs.Y()},t.prototype._s=function(t,e){var i=new Pn(t,e);this.bs=this.bs.add(i),this.ps=this.ps.add(i)},t.prototype.Is=function(t,e){var i=this;t.forEach((function(t){return i._s(t,e)}))},t.prototype.Ts=function(t,e){this.Es(new Pn(t,e))},t.prototype.Ds=function(t,e){var i=this;t.forEach((function(t){return i.Ts(t,e)}))},t.prototype.Rs=function(t){var e=this,i=ht.EMPTY,n=new Pn(i,t),r=new Pn(i,t+1),u=[];return this.ps.qt([n,r],(function(t){e.Es(t),u.push(t.key)})),u},t.prototype.Ss=function(){var t=this;this.bs.forEach((function(e){return t.Es(e)}))},t.prototype.Es=function(t){this.bs=this.bs.delete(t),this.ps=this.ps.delete(t)},t.prototype.As=function(t){var e=ht.EMPTY,i=new Pn(e,t),n=new Pn(e,t+1),r=Pe();return this.ps.qt([i,n],(function(t){r=r.add(t.key)})),r},t.prototype.Cs=function(t){var e=new Pn(t,0),i=this.bs.Mt(e);return null!==i&&t.isEqual(i.key)},t}(),Pn=function(){function t(t,e){this.key=t,this.Ps=e}return t.Rn=function(t,e){return ht.W(t.key,e.key)||fn(t.Ps,e.Ps)},t.ys=function(t,e){return fn(t.Ps,e.Ps)||ht.W(t.key,e.key)},t}(),Rn=function(){function t(){this.ks=new bn((function(t){return t.toString()})),this.Ns=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return ln(void 0!==this.Os,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Os},set:function(t){ln(void 0===this.Os||this.Os.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Os=t},enumerable:!0,configurable:!0}),t.prototype.Fs=function(t,e){this.Vs(),this.readTime=e,this.ks.set(t.key,t)},t.prototype.Us=function(t,e){this.Vs(),e&&(this.readTime=e),this.ks.set(t,null)},t.prototype.xs=function(t,e){this.Vs();var i=this.ks.get(e);return void 0!==i?En.resolve(i):this.js(t,e)},t.prototype.getEntries=function(t,e){return this.Ls(t,e)},t.prototype.apply=function(t){return this.Vs(),this.Ns=!0,this.qs(t)},t.prototype.Vs=function(){ln(!this.Ns,"Changes have already been applied.")},t}(),Mn=function(){function t(t,e,i){this.persistence=t,this.Bs=e,this.Ms=new xn,this.Qs=new ft(fn),this.Gs=new bn((function(t){return t.canonicalId()})),this.Ws=dt.MIN,ln(t.ss,"LocalStore was passed an unstarted persistence implementation"),this.persistence.Ks.zs(this.Ms),this.Hs=t.Js(i),this.Ys=t.Xs(),this.$s=t.Zs(),this.to=new Yn(this.Ys,this.Hs,this.persistence.no()),this.Bs.io(this.to)}return t.prototype.start=function(){return this.eo()},t.prototype.ro=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i,n,r=this;return c.__generator(this,(function(u){switch(u.label){case 0:return e=this.Hs,i=this.to,[4,this.persistence.runTransaction("Handle user change","readonly",(function(n){var u;return r.Hs.uo(n).next((function(s){return u=s,e=r.persistence.Js(t),i=new Yn(r.Ys,e,r.persistence.no()),e.uo(n)})).next((function(t){for(var e=[],r=[],s=Pe(),o=0,c=u;o<c.length;o++){var l=c[o];e.push(l.batchId);for(var a=0,h=l.mutations;a<h.length;a++){var f=h[a];s=s.add(f.key)}}for(var d=0,v=t;d<v.length;d++){l=v[d],r.push(l.batchId);for(var m=0,y=l.mutations;m<y.length;m++)f=y[m],s=s.add(f.key)}return i.so(n,s).next((function(t){return{oo:t,ho:e,co:r}}))}))}))];case 1:return n=u.sent(),this.Hs=e,this.to=i,this.Bs.io(this.to),[2,n]}}))}))},t.prototype.ao=function(t){var e,i=this,n=st.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Pe());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(u){return i.to.so(u,r).next((function(r){e=r;for(var s=[],o=0,c=t;o<c.length;o++){var l=c[o],a=l.un(e.get(l.key));null!=a&&s.push(new Nt(l.key,a,a.sn(),Dt.exists(!0)))}return i.Hs.fo(u,n,s,t)}))})).then((function(t){var i=t.Lr(e);return{batchId:t.batchId,ks:i}}))},t.prototype.lo=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(i){return e.Hs.do(i,t).next((function(t){return t?e.to.so(i,t):En.resolve(null)}))}))},t.prototype.vo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(i){var n=t.batch.keys(),r=e.Ys.wo({mo:!0});return e.Hs.vo(i,t.batch,t.streamToken).next((function(){return e.bo(i,t,r)})).next((function(){return r.apply(i)})).next((function(){return e.Hs.po(i)})).next((function(){return e.to.so(i,n)}))}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(i){var n;return e.Hs._o(i,t).next((function(t){return ln(null!==t,"Attempt to reject nonexistent batch!"),n=t.keys(),e.Hs.Io(i,t)})).next((function(){return e.Hs.po(i)})).next((function(){return e.to.so(i,n)}))}))},t.prototype.To=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Hs.To(e)}))},t.prototype.Eo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Hs.Eo(e)}))},t.prototype.Do=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(i){return e.Hs.Do(i,t)}))},t.prototype.Ro=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.$s.Ro(e)}))},t.prototype.So=function(e){var i=this,n=e.ai,r=this.Qs;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(u){var s=i.Ys.wo({mo:!0});r=i.Qs;var o=[];C(e.Ei,(function(e,s){var c=r.get(e);if(c){o.push(i.$s.Ao(u,s.Oi,e).next((function(){return i.$s.Co(u,s.ki,e)})));var l=s.resumeToken;if(l.P()>0){var a=c.li(l,n).fi(u.Po);r=r.dt(e,a),t.ko(c,a,s)&&o.push(i.$s.No(u,a))}}}));var c=Te(),l=Pe();if(e.Ri.forEach((function(t,e){l=l.add(t)})),o.push(s.getEntries(u,l).next((function(t){e.Ri.forEach((function(r,l){var a=t.get(r);l instanceof Zt&&l.version.isEqual(dt.MIN)?(s.Us(r,n),c=c.dt(r,l)):null==a||l.version.B(a.version)>0||0===l.version.B(a.version)&&a.hasPendingWrites?(ln(!dt.MIN.isEqual(n),"Cannot add a document when the remote version is zero"),s.Fs(l,n),c=c.dt(r,l)):sn("LocalStore","Ignoring outdated watch update for ",r,". Current version:",a.version," Watch version:",l.version),e.Si.has(r)&&o.push(i.persistence.Ks.Oo(u,r))}))}))),!n.isEqual(dt.MIN)){var a=i.$s.Ro(u).next((function(t){return ln(n.B(t)>=0,"Watch stream reverted to previous snapshot?? "+n+" < "+t),i.$s.Fo(u,u.Po,n)}));o.push(a)}return En.Vu(o).next((function(){return s.apply(u)})).next((function(){return i.to.Vo(u,c)}))})).then((function(t){return i.Qs=r,t}))},t.ko=function(t,e,i){return ln(e.resumeToken.P()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.P()||e.ai.M()-t.ai.M()>=this.Uo||i.ki.size+i.Ni.size+i.Oi.size>0},t.prototype.xo=function(t){for(var e=this,i=0,n=t;i<n.length;i++){var r=n[i],u=r.targetId;if(this.Ms.Is(r.Gr,u),this.Ms.Ds(r.Wr,u),!r.fromCache){var s=this.Qs.get(u);ln(null!==s,"Can't set limbo-free snapshot version for unknown target: "+u);var o=s.ai,c=s.di(o);this.Qs=this.Qs.dt(u,c)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(i){return En.forEach(t,(function(t){return En.forEach(t.Wr,(function(t){return e.persistence.Ks.Ts(i,t)}))}))}))},t.prototype.jo=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(i){return void 0===t&&(t=-1),e.Hs.Lo(i,t)}))},t.prototype.qo=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(i){return e.to.Bo(i,t)}))},t.prototype.Mo=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(i){var n;return e.$s.Qo(i,t).next((function(r){return r?(n=r,En.resolve(n)):e.$s.Go(i).next((function(r){return n=new we(t,r,0,i.Po),e.$s.Wo(i,n).next((function(){return n}))}))}))})).then((function(i){return null===e.Qs.get(i.targetId)&&(e.Qs=e.Qs.dt(i.targetId,i),e.Gs.set(t,i.targetId)),i}))},t.prototype.Qo=function(t,e){var i=this.Gs.get(e);return void 0!==i?En.resolve(this.Qs.get(i)):this.$s.Qo(t,e)},t.prototype.zo=function(t,e){var i=this,n=this.Qs.get(t);ln(null!==n,"Tried to release nonexistent target: "+t);var r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",r,(function(r){var u=i.Ms.Rs(t);return e?En.resolve():En.forEach(u,(function(t){return i.persistence.Ks.Ts(r,t)})).next((function(){i.persistence.Ks.removeTarget(r,n)}))})).then((function(){i.Qs=i.Qs.remove(t),i.Gs.delete(n.target)}))},t.prototype.Ko=function(t,e){var i=this,n=dt.MIN,r=Pe();return this.persistence.runTransaction("Execute query","readonly",(function(u){return i.Qo(u,t.Yn()).next((function(t){if(t)return n=t.lastLimboFreeSnapshotVersion,i.$s.Ho(u,t.targetId).next((function(t){r=t}))})).next((function(){return i.Bs.Jo(u,t,e?n:dt.MIN,e?r:Pe())})).next((function(t){return{documents:t,Yo:r}}))}))},t.prototype.Xo=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(i){return e.$s.Ho(i,t)}))},t.prototype.$o=function(){return this.persistence.$o()},t.prototype.Zo=function(t){this.Hs.th(t)},t.prototype.nh=function(t){this.persistence.nh(t)},t.prototype.bo=function(t,e,i){var n=this,r=e.batch,u=r.keys(),s=En.resolve();return u.forEach((function(n){s=s.next((function(){return i.xs(t,n)})).next((function(t){var u=t,s=e.Br.get(n);ln(null!==s,"ackVersions should contain every doc in the write."),(!u||u.version.B(s)<0)&&((u=r.zt(n,u,e))?i.Fs(u,e.qr):ln(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return n.Hs.Io(t,r)}))},t.prototype.os=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(i){return t.ws(i,e.Qs)}))},t.prototype.ih=function(t){var e=this,i=this.Qs.get(t);return i?Promise.resolve(i.target):this.persistence.runTransaction("Get target data","readonly",(function(i){return e.$s.be(i,t).next((function(t){return t?t.target:null}))}))},t.prototype.eh=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Ys.eh(e,t.Ws)})).then((function(e){var i=e.rh,n=e.readTime;return t.Ws=n,i}))},t.prototype.eo=function(){return c.__awaiter(this,void 0,void 0,(function(){var t,e=this;return c.__generator(this,(function(i){switch(i.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Ys.uh(t)}))];case 1:return t.Ws=i.sent(),[2]}}))}))},t.Uo=3e8,t}();function Ln(t){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(e){if(t.code!==m.FAILED_PRECONDITION||t.message!==Wn)throw t;return sn("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function jn(t,e){return ln(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function Vn(t,e,i){var n="firestore_mutations_"+t+"_"+i;return e.t()&&(n+="_"+e.uid),n}function Fn(t,e){return"firestore_targets_"+t+"_"+e}var Bn=function(){function t(t,e,i,n){this.user=t,this.batchId=e,this.state=i,this.error=n,ln(void 0!==n==("rejected"===i),"MutationMetadata must contain an error iff state is 'rejected'")}return t.sh=function(e,i,n){var r=JSON.parse(n),u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new y(r.error.code,r.error.message)),u?new t(e,i,r.state,s):(an("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+n),null)},t.prototype.oh=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Un=function(){function t(t,e,i){this.targetId=t,this.state=e,this.error=i,ln(void 0!==i==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.sh=function(e,i){var n=JSON.parse(i),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),u=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(u=new y(n.error.code,n.error.message)),r?new t(e,n.state,u):(an("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.oh=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$n=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.sh=function(e,i){for(var n=JSON.parse(i),r="object"==typeof n&&n.activeTargetIds instanceof Array,u=Me(),s=0;r&&s<n.activeTargetIds.length;++s)r=ie(n.activeTargetIds[s]),u=u.add(n.activeTargetIds[s]);return r?new t(e,u):(an("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),qn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.sh=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(an("SharedClientState","Failed to parse online state: "+e),null)},t}(),zn=function(){function t(){this.activeTargetIds=Me()}return t.prototype.hh=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ah=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.oh=function(){var t={activeTargetIds:this.activeTargetIds.nt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hn=function(){function t(e,i,n,r,u){if(this.fh=e,this.platform=i,this.persistenceKey=n,this.lh=r,this.dh=null,this.vh=null,this.Kr=null,this.wh={},this.mh=this.gh.bind(this),this.ss=!1,this.bh=[],!t.ph(this.platform))throw new y(m.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=u,this.yh=jn(this.persistenceKey,this.lh),this._h=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.wh[this.lh]=new zn,this.Ih=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Th=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Eh=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Dh=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.mh)}return t.ph=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return c.__awaiter(this,void 0,void 0,(function(){var t,e,i,n,r,s,o,l,h,a,f,d=this;return c.__generator(this,(function(u){switch(u.label){case 0:return ln(!this.ss,"WebStorageSharedClientState already started"),ln(null!==this.dh,"syncEngine property must be set before calling start()"),ln(null!==this.vh,"onlineStateHandler property must be set before calling start()"),[4,this.dh.$o()];case 1:for(t=u.sent(),e=0,i=t;e<i.length;e++)(n=i[e])!==this.lh&&(r=this.getItem(jn(this.persistenceKey,n)))&&(s=$n.sh(n,r))&&(this.wh[s.clientId]=s);for(this.Rh(),(o=this.storage.getItem(this.Dh))&&(l=this.Sh(o))&&this.Ah(l),h=0,a=this.bh;h<a.length;h++)f=a[h],this.gh(f);return this.bh=[],this.platform.window.addEventListener("unload",(function(){return d.shutdown()})),this.ss=!0,[2]}}))}))},t.prototype.Yr=function(t){this.setItem(this._h,JSON.stringify(t))},t.prototype.Ch=function(){var t=Me();return N(this.wh,(function(e,i){t=t.Qt(i.activeTargetIds)})),t},t.prototype.Ph=function(t){for(var e in this.wh)if(this.wh.hasOwnProperty(e)&&this.wh[e].activeTargetIds.has(t))return!0;return!1},t.prototype.kh=function(t){this.Nh(t,"pending")},t.prototype.Oh=function(t,e,i){this.Nh(t,e,i),this.Fh(t)},t.prototype.Vh=function(t){var e="not-current";if(this.Ph(t)){var i=this.storage.getItem(Fn(this.persistenceKey,t));if(i){var n=Un.sh(t,i);n&&(e=n.state)}}return this.Uh.hh(t),this.Rh(),e},t.prototype.xh=function(t){this.Uh.ah(t),this.Rh()},t.prototype.jh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype.Lh=function(t){this.removeItem(Fn(this.persistenceKey,t))},t.prototype.qh=function(t,e,i){this.Bh(t,e,i)},t.prototype.ro=function(t,e,i){var n=this;e.forEach((function(t){n.Fh(t)})),this.currentUser=t,i.forEach((function(t){n.kh(t)}))},t.prototype.Mh=function(t){this.Qh(t)},t.prototype.shutdown=function(){this.ss&&(this.platform.window.removeEventListener("storage",this.mh),this.removeItem(this.yh),this.ss=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return sn("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){sn("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){sn("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.gh=function(t){var e=this;if(t.storageArea===this.storage){if(sn("SharedClientState","EVENT",t.key,t.newValue),t.key===this.yh)return void an("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fh.ou((function(){return c.__awaiter(e,void 0,void 0,(function(){var e,i,n,r,s,o;return c.__generator(this,(function(u){if(!this.ss)return this.bh.push(t),[2];if(null===t.key)return[2];if(this.Ih.test(t.key)){if(null==t.newValue)return i=this.Gh(t.key),[2,this.Wh(i,null)];if(e=this.zh(t.key,t.newValue))return[2,this.Wh(e.clientId,e)]}else if(this.Th.test(t.key)){if(null!==t.newValue&&(n=this.Kh(t.key,t.newValue)))return[2,this.Hh(n)]}else if(this.Eh.test(t.key)){if(null!==t.newValue&&(r=this.Jh(t.key,t.newValue)))return[2,this.Yh(r)]}else if(t.key===this.Dh){if(null!==t.newValue&&(s=this.Sh(t.newValue)))return[2,this.Ah(s)]}else t.key===this._h&&(ln(!!this.Kr,"Missing sequenceNumberHandler"),(o=function(t){var e=_n.Xr;if(null!=t)try{var i=JSON.parse(t);ln("number"==typeof i,"Found non-numeric sequence number"),e=i}catch(t){an("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==_n.Xr&&this.Kr(o));return[2]}))}))}))}},Object.defineProperty(t.prototype,"Uh",{get:function(){return this.wh[this.lh]},enumerable:!0,configurable:!0}),t.prototype.Rh=function(){this.setItem(this.yh,this.Uh.oh())},t.prototype.Nh=function(t,e,i){var n=new Bn(this.currentUser,t,e,i),r=Vn(this.persistenceKey,this.currentUser,t);this.setItem(r,n.oh())},t.prototype.Fh=function(t){var e=Vn(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Qh=function(t){var e={clientId:this.lh,onlineState:t};this.storage.setItem(this.Dh,JSON.stringify(e))},t.prototype.Bh=function(t,e,i){var n=Fn(this.persistenceKey,t),r=new Un(t,e,i);this.setItem(n,r.oh())},t.prototype.Gh=function(t){var e=this.Ih.exec(t);return e?e[1]:null},t.prototype.zh=function(t,e){var i=this.Gh(t);return ln(null!==i,"Cannot parse client state key '"+t+"'"),$n.sh(i,e)},t.prototype.Kh=function(t,e){var i=this.Th.exec(t);ln(null!==i,"Cannot parse mutation batch key '"+t+"'");var n=Number(i[1]),r=void 0!==i[2]?i[2]:null;return Bn.sh(new v(r),n,e)},t.prototype.Jh=function(t,e){var i=this.Eh.exec(t);ln(null!==i,"Cannot parse query target key '"+t+"'");var n=Number(i[1]);return Un.sh(n,e)},t.prototype.Sh=function(t){return qn.sh(t)},t.prototype.Hh=function(t){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(sn("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.dh.Xh(t.batchId,t.state,t.error)]}))}))},t.prototype.Yh=function(t){return this.dh.$h(t.targetId,t.state,t.error)},t.prototype.Wh=function(t,e){var i=this,n=this.Ch();e?this.wh[t]=e:delete this.wh[t];var s=this.Ch(),r=[],o=[];return s.forEach((function(t){return c.__awaiter(i,void 0,void 0,(function(){return c.__generator(this,(function(e){return n.has(t)||r.push(t),[2]}))}))})),n.forEach((function(t){return c.__awaiter(i,void 0,void 0,(function(){return c.__generator(this,(function(e){return s.has(t)||o.push(t),[2]}))}))})),this.dh.Zh(r,o)},t.prototype.Ah=function(t){this.wh[t.clientId]&&this.vh(t.onlineState)},t}(),Gn=function(){function t(){this.tc=new zn,this.nc={},this.dh=null,this.vh=null,this.Kr=null}return t.prototype.kh=function(t){},t.prototype.Oh=function(t,e,i){},t.prototype.Vh=function(t){return this.tc.hh(t),this.nc[t]||"not-current"},t.prototype.qh=function(t,e,i){this.nc[t]=e},t.prototype.xh=function(t){this.tc.ah(t)},t.prototype.jh=function(t){return this.tc.activeTargetIds.has(t)},t.prototype.Lh=function(t){delete this.nc[t]},t.prototype.Ch=function(){return this.tc.activeTargetIds},t.prototype.Ph=function(t){return this.tc.activeTargetIds.has(t)},t.prototype.start=function(){return this.tc=new zn,Promise.resolve()},t.prototype.ro=function(t,e,i){},t.prototype.Mh=function(t){},t.prototype.shutdown=function(){},t.prototype.Yr=function(t){},t}(),Wn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kn=function(){function t(){this.ic=[]}return t.prototype.ec=function(t){this.ic.push(t)},t.prototype.rc=function(){this.ic.forEach((function(t){return t()}))},t}(),Yn=function(){function t(t,e,i){this.uc=t,this.Hs=e,this.sc=i}return t.prototype.Bo=function(t,e){var i=this;return this.Hs.oc(t,e).next((function(n){return i.hc(t,e,n)}))},t.prototype.hc=function(t,e,i){return this.uc.xs(t,e).next((function(t){for(var n=0,r=i;n<r.length;n++)t=r[n].Wt(e,t);return t}))},t.prototype.cc=function(t,e,i){var n=De();return e.forEach((function(t,e){for(var r=0,u=i;r<u.length;r++)e=u[r].Wt(t,e);n=n.dt(t,e)})),n},t.prototype.so=function(t,e){var i=this;return this.uc.getEntries(t,e).next((function(e){return i.Vo(t,e)}))},t.prototype.Vo=function(t,e){var i=this;return this.Hs.ac(t,e).next((function(n){var r=i.cc(t,e,n),u=Te();return r.forEach((function(t,e){e||(e=new Zt(t,dt.q())),u=u.dt(t,e)})),u}))},t.prototype.Jo=function(t,e,i){return e.Nn()?this.fc(t,e.path):e.ui()?this.lc(t,e,i):this.dc(t,e,i)},t.prototype.fc=function(t,e){return this.Bo(t,new ht(e)).next((function(t){var e=Ce();return t instanceof Qt&&(e=e.dt(t.key,t)),e}))},t.prototype.lc=function(t,e,i){var n=this;ln(e.path.Y(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,u=Ce();return this.sc.vc(t,r).next((function(s){return En.forEach(s,(function(s){var o=e.Hn(s.child(r));return n.dc(t,o,i).next((function(t){t.forEach((function(t,e){u=u.dt(t,e)}))}))})).next((function(){return u}))}))},t.prototype.dc=function(t,e,i){var n,r,u=this;return this.uc.Jo(t,e,i).next((function(i){return n=i,u.Hs.wc(t,e)})).next((function(e){return r=e,u.mc(t,r,n).next((function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var u=i[e],s=0,o=u.mutations;s<o.length;s++){var c=o[s],l=c.key,a=n.get(l),h=c.Wt(a,a,u.En);n=h instanceof Qt?n.dt(l,h):n.remove(l)}}))})).next((function(){return n.forEach((function(t,i){e.matches(i)||(n=n.remove(t))})),n}))},t.prototype.mc=function(t,e,i){for(var n=Pe(),r=0,u=e;r<u.length;r++)for(var s=0,o=u[r].mutations;s<o.length;s++){var c=o[s];c instanceof Nt&&null===i.get(c.key)&&(n=n.add(c.key))}var l=i;return this.uc.getEntries(t,n).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Qt&&(l=l.dt(t,e))})),l}))},t}(),Jn=function(){function t(){}return t.prototype.io=function(t){this.gc=t},t.prototype.Jo=function(t,e,i,n){var r=this;return ln(void 0!==this.gc,"setLocalDocumentsView() not called"),e.Jn()||i.isEqual(dt.MIN)?this.bc(t,e):this.gc.so(t,n).next((function(u){var s=r.pc(e,u);return(e.ii()||e.ei())&&r.yc(e.Fn,s,n,i)?r.bc(t,e):(li()<=0&&sn("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),e.toString()),r.gc.Jo(t,e,i).next((function(t){return s.forEach((function(e){t=t.dt(e.key,e)})),t})))}))},t.prototype.pc=function(t,e){var i=new gt((function(e,i){return t.Xn(e,i)}));return e.forEach((function(e,n){n instanceof Qt&&t.matches(n)&&(i=i.add(n))})),i},t.prototype.yc=function(t,e,i,n){if(i.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.B(n)>0)},t.prototype.bc=function(t,e){return li()<=0&&sn("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.gc.Jo(t,e,dt.MIN)},t}();function Xn(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=Zn(e)),e=Qn(t.get(i),e);return Zn(e)}function Qn(t,e){for(var i=e,n=t.length,r=0;r<n;r++){var u=t.charAt(r);switch(u){case"\0":i+="";break;case"":i+="";break;default:i+=u}}return i}function Zn(t){return t+""}function ti(t){var e=t.length;if(ln(e>=2,"Invalid path "+t),2===e)return ln(""===t.charAt(0)&&""===t.charAt(1),"Non-empty path "+t+" had length 2"),ut.rt;for(var i=e-2,n=[],r="",u=0;u<e;){var s=t.indexOf("",u);switch((s<0||s>i)&&cn('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"":var o=t.substring(u,s),c=void 0;0===r.length?c=o:(c=r+=o,r=""),n.push(c);break;case"":r+=t.substring(u,s),r+="\0";break;case"":r+=t.substring(u,s+1);break;default:cn('Invalid encoded resource path: "'+t+'"')}u=s+2}return new ut(n)}var ei=function(){function t(){this._c=new ni}return t.prototype.Ic=function(t,e){return this._c.add(e),En.resolve()},t.prototype.vc=function(t,e){return En.resolve(this._c.getEntries(e))},t}(),ni=function(){function t(){this.index={}}return t.prototype.add=function(t){ln(t.length%2==1,"Expected a collection path.");var e=t.$(),i=t.J(),n=this.index[e]||new gt(ut.W),r=!n.has(i);return this.index[e]=n.add(i),r},t.prototype.has=function(t){var e=t.$(),i=t.J(),n=this.index[e];return n&&n.has(i)},t.prototype.getEntries=function(t){return(this.index[t]||new gt(ut.W)).nt()},t}(),ii=function(){function t(t,e){this.sc=t,this.Ks=e,this.Hs=[],this.Tc=1,this.lastStreamToken=rt.k,this.Ec=new gt(Pn.Rn)}return t.prototype.Dc=function(t){return En.resolve(0===this.Hs.length)},t.prototype.vo=function(t,e,i){var n=e.batchId,r=this.Rc(n,"acknowledged");ln(0===r,"Can only acknowledge the first batch in the mutation queue");var u=this.Hs[r];return ln(n===u.batchId,"Queue ordering failure: expected batch "+n+", got batch "+u.batchId),this.lastStreamToken=i,En.resolve()},t.prototype.Eo=function(t){return En.resolve(this.lastStreamToken)},t.prototype.Do=function(t,e){return this.lastStreamToken=e,En.resolve()},t.prototype.fo=function(t,e,i,n){ln(0!==n.length,"Mutation batches should not be empty");var r=this.Tc;this.Tc++,this.Hs.length>0&&ln(this.Hs[this.Hs.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var u=new gn(r,e,i,n);this.Hs.push(u);for(var s=0,o=n;s<o.length;s++){var c=o[s];this.Ec=this.Ec.add(new Pn(c.key,r)),this.sc.Ic(t,c.key.path.J())}return En.resolve(u)},t.prototype._o=function(t,e){return En.resolve(this.Sc(e))},t.prototype.do=function(t,e){var i=this.Sc(e);return ln(null!=i,"Failed to find local mutation batch."),En.resolve(i.keys())},t.prototype.Lo=function(t,e){var i=e+1,n=this.Ac(i),r=n<0?0:n;return En.resolve(this.Hs.length>r?this.Hs[r]:null)},t.prototype.To=function(){return En.resolve(0===this.Hs.length?-1:this.Tc-1)},t.prototype.uo=function(t){return En.resolve(this.Hs.slice())},t.prototype.oc=function(t,e){var i=this,n=new Pn(e,0),r=new Pn(e,Number.POSITIVE_INFINITY),u=[];return this.Ec.qt([n,r],(function(t){ln(e.isEqual(t.key),"Should only iterate over a single key's batches");var n=i.Sc(t.Ps);ln(null!==n,"Batches in the index must exist in the main table"),u.push(n)})),En.resolve(u)},t.prototype.ac=function(t,e){var i=this,n=new gt(fn);return e.forEach((function(t){var e=new Pn(t,0),r=new Pn(t,Number.POSITIVE_INFINITY);i.Ec.qt([e,r],(function(e){ln(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),n=n.add(e.Ps)}))})),En.resolve(this.Cc(n))},t.prototype.wc=function(t,e){ln(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,n=i.length+1,r=i;ht.ct(r)||(r=r.child(""));var u=new Pn(new ht(r),0),s=new gt(fn);return this.Ec.Bt((function(t){var e=t.key.path;return!!i.Z(e)&&(e.length===n&&(s=s.add(t.Ps)),!0)}),u),En.resolve(this.Cc(s))},t.prototype.Cc=function(t){var e=this,i=[];return t.forEach((function(t){var n=e.Sc(t);null!==n&&i.push(n)})),i},t.prototype.Io=function(t,e){var i=this;ln(0===this.Rc(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Hs.shift();var n=this.Ec;return En.forEach(e.mutations,(function(r){var u=new Pn(r.key,e.batchId);return n=n.delete(u),i.Ks.Pc(t,r.key)})).next((function(){i.Ec=n}))},t.prototype.th=function(t){},t.prototype.Cs=function(t,e){var i=new Pn(e,0),n=this.Ec.Mt(i);return En.resolve(e.isEqual(n&&n.key))},t.prototype.po=function(t){return 0===this.Hs.length&&ln(this.Ec.Y(),"Document leak -- detected dangling mutation references when queue is empty."),En.resolve()},t.prototype.Rc=function(t,e){var i=this.Ac(t);return ln(i>=0&&i<this.Hs.length,"Batches must exist to be "+e),i},t.prototype.Ac=function(t){return 0===this.Hs.length?0:t-this.Hs[0].batchId},t.prototype.Sc=function(t){var e=this.Ac(t);if(e<0||e>=this.Hs.length)return null;var i=this.Hs[e];return ln(i.batchId===t,"If found batch must match"),i},t}(),ri=function(){function t(t,e){this.sc=t,this.kc=e,this.docs=new ft(ht.W),this.size=0}return t.prototype.Fs=function(t,e,i){ln(!i.isEqual(dt.MIN),"Cannot add a document with a read time of zero");var n=e.key,r=this.docs.get(n),u=r?r.size:0,s=this.kc(e);return this.docs=this.docs.dt(n,{Nc:e,size:s,readTime:i}),this.size+=s-u,this.sc.Ic(t,n.path.J())},t.prototype.Us=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.xs=function(t,e){var i=this.docs.get(e);return En.resolve(i?i.Nc:null)},t.prototype.getEntries=function(t,e){var i=this,n=De();return e.forEach((function(t){var e=i.docs.get(t);n=n.dt(t,e?e.Nc:null)})),En.resolve(n)},t.prototype.Jo=function(t,e,i){ln(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Ce(),r=new ht(e.path.child("")),u=this.docs._t(r);u.St();){var s=u.Rt(),o=s.key,c=s.value,l=c.Nc,a=c.readTime;if(!e.path.Z(o.path))break;a.B(i)<=0||l instanceof Qt&&e.matches(l)&&(n=n.dt(l.key,l))}return En.resolve(n)},t.prototype.Oc=function(t,e){return En.forEach(this.docs,(function(t){return e(t)}))},t.prototype.eh=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.uh=function(t){return En.resolve(dt.MIN)},t.prototype.wo=function(e){return new t.Fc(this)},t.prototype.Vc=function(t){return En.resolve(this.size)},t.Fc=function(t){function i(e){var i=t.call(this)||this;return i.Uc=e,i}return c.__extends(i,t),i.prototype.qs=function(t){var e=this,i=[];return this.ks.forEach((function(n,r){r?i.push(e.Uc.Fs(t,r,e.readTime)):e.Uc.Us(n)})),En.Vu(i)},i.prototype.js=function(t,e){return this.Uc.xs(t,e)},i.prototype.Ls=function(t,e){return this.Uc.getEntries(t,e)},i}(Rn),t}(),oi=function(){function t(t,e){this.xc=t,ln((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.jc(void 0!==e?e:this.xc)}return t.prototype.next=function(){var t=this.Lc;return this.Lc+=2,t},t.prototype.after=function(t){return this.jc(t+2),this.next()},t.prototype.jc=function(t){ln((1&t)===this.xc,"Cannot supply target ID from different generator ID"),this.Lc=t},t.qc=function(){return new t(0,2)},t.Bc=function(){return new t(1)},t}(),si=function(){function t(t){this.persistence=t,this.Mc=new bn((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=dt.MIN,this.highestTargetId=0,this.Qc=0,this.Gc=new xn,this.targetCount=0,this.Wc=oi.qc()}return t.prototype.oe=function(t,e){return this.Mc.forEach((function(t,i){return e(i)})),En.resolve()},t.prototype.Ro=function(t){return En.resolve(this.lastRemoteSnapshotVersion)},t.prototype.zc=function(t){return En.resolve(this.Qc)},t.prototype.Go=function(t){var e=this.Wc.after(this.highestTargetId);return this.highestTargetId=e,En.resolve(e)},t.prototype.Fo=function(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Qc&&(this.Qc=e),En.resolve()},t.prototype.Kc=function(t){this.Mc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Qc&&(this.Qc=t.sequenceNumber)},t.prototype.Wo=function(t,e){return ln(!this.Mc.has(e.target),"Adding a target that already exists"),this.Kc(e),this.targetCount+=1,En.resolve()},t.prototype.No=function(t,e){return ln(this.Mc.has(e.target),"Updating a non-existent target"),this.Kc(e),En.resolve()},t.prototype.Hc=function(t,e){return ln(this.targetCount>0,"Removing a target from an empty cache"),ln(this.Mc.has(e.target),"Removing a non-existent target from the cache"),this.Mc.delete(e.target),this.Gc.Rs(e.targetId),this.targetCount-=1,En.resolve()},t.prototype.ds=function(t,e,i){var n=this,r=0,u=[];return this.Mc.forEach((function(s,o){o.sequenceNumber<=e&&null===i.get(o.targetId)&&(n.Mc.delete(s),u.push(n.Jc(t,o.targetId)),r++)})),En.Vu(u).next((function(){return r}))},t.prototype.Yc=function(t){return En.resolve(this.targetCount)},t.prototype.Qo=function(t,e){var i=this.Mc.get(e)||null;return En.resolve(i)},t.prototype.be=function(t,e){return cn("Not yet implemented.")},t.prototype.Co=function(t,e,i){this.Gc.Is(e,i);var n=this.persistence.Ks,r=[];return n&&e.forEach((function(e){r.push(n._s(t,e))})),En.Vu(r)},t.prototype.Ao=function(t,e,i){this.Gc.Ds(e,i);var n=this.persistence.Ks,r=[];return n&&e.forEach((function(e){r.push(n.Ts(t,e))})),En.Vu(r)},t.prototype.Jc=function(t,e){return this.Gc.Rs(e),En.resolve()},t.prototype.Ho=function(t,e){var i=this.Gc.As(e);return En.resolve(i)},t.prototype.Cs=function(t,e){return En.resolve(this.Gc.Cs(e))},t}(),ai="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ui=function(){function t(t,e){var i=this;this.clientId=t,this.Xc={},this.$c=new _n(0),this.Zc=!1,this.Zc=!0,this.Ks=e(this),this.$s=new si(this),this.sc=new ei,this.uc=new ri(this.sc,(function(t){return i.Ks.ta(t)}))}return t.prototype.shutdown=function(){return this.Zc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ss",{get:function(){return this.Zc},enumerable:!0,configurable:!0}),t.prototype.$o=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.na=function(t){return t(!0)},t.prototype.ia=function(){},t.prototype.nh=function(t){},t.prototype.no=function(){return this.sc},t.prototype.Js=function(t){var e=this.Xc[t.i()];return e||(e=new ii(this.sc,this.Ks),this.Xc[t.i()]=e),e},t.prototype.Zs=function(){return this.$s},t.prototype.Xs=function(){return this.uc},t.prototype.runTransaction=function(t,e,i){var n=this;sn("MemoryPersistence","Starting transaction:",t);var r=new ci(this.$c.next());return this.Ks.ea(),i(r).next((function(t){return n.Ks.ra(r).next((function(){return t}))})).Ou().then((function(t){return r.rc(),t}))},t.prototype.ua=function(t,e){return En.Uu((i=this.Xc,n=[],N(i,(function(t,e){return n.push(e)})),n).map((function(i){return function(){return i.Cs(t,e)}})));var i,n},t}(),ci=function(t){function i(e){var i=t.call(this)||this;return i.Po=e,i}return c.__extends(i,t),i}(Kn),hi=function(){function t(t){this.persistence=t,this.sa=null,this.oa=null}return Object.defineProperty(t.prototype,"ha",{get:function(){if(this.oa)return this.oa;throw cn("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.zs=function(t){this.sa=t},t.prototype._s=function(t,e){return this.ha.delete(e),En.resolve()},t.prototype.Ts=function(t,e){return this.ha.add(e),En.resolve()},t.prototype.Pc=function(t,e){return this.ha.add(e),En.resolve()},t.prototype.removeTarget=function(t,e){var i=this,n=this.persistence.Zs();return n.Ho(t,e.targetId).next((function(t){t.forEach((function(t){return i.ha.add(t)}))})).next((function(){return n.Hc(t,e)}))},t.prototype.ea=function(){this.oa=new Set},t.prototype.ra=function(t){var e=this,i=this.persistence.Xs().wo();return En.forEach(this.ha,(function(n){return e.ca(t,n).next((function(t){t||i.Us(n)}))})).next((function(){return e.oa=null,i.apply(t)}))},t.prototype.Oo=function(t,e){var i=this;return this.ca(t,e).next((function(t){t?i.ha.delete(e):i.ha.add(e)}))},t.prototype.ta=function(t){return 0},t.prototype.ca=function(t,e){var i=this;return En.Uu([function(){return i.persistence.Zs().Cs(t,e)},function(){return i.persistence.ua(t,e)},function(){return En.resolve(i.sa.Cs(e))}])},t}(),fi=function(){function t(){}return t.prototype.initialize=function(t,e,i,n,r,u){if(u.aa)throw new y(m.FAILED_PRECONDITION,ai);return this.clientId=n,Promise.resolve()},t.prototype.fa=function(){var t=!1;return{ss:t,start:function(){return t=!0},stop:function(){return t=!1}}},t.prototype.la=function(){return ln(!!this.clientId,"initialize() not called"),new ui(this.clientId,(function(t){return new hi(t)}))},t.prototype.da=function(){return new Gn},t.prototype.clearPersistence=function(){throw new y(m.FAILED_PRECONDITION,ai)},t}(),di=function(){function t(t,e,i,n,r){void 0===i&&(i=1e3),void 0===n&&(n=1.5),void 0===r&&(r=6e4),this.fh=t,this.Zr=e,this.va=i,this.wa=n,this.ma=r,this.ga=0,this.ba=null,this.pa=Date.now(),this.reset()}return t.prototype.reset=function(){this.ga=0},t.prototype.ya=function(){this.ga=this.ma},t.prototype._a=function(t){var e=this;this.cancel();var i=Math.floor(this.ga+this.Ia()),n=Math.max(0,Date.now()-this.pa),r=Math.max(0,i-n);this.ga>0&&sn("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.ga+" ms, delay with jitter: "+i+" ms, last attempt: "+n+" ms ago)"),this.ba=this.fh.yu(this.Zr,r,(function(){return e.pa=Date.now(),t()})),this.ga*=this.wa,this.ga<this.va&&(this.ga=this.va),this.ga>this.ma&&(this.ga=this.ma)},t.prototype.cancel=function(){null!==this.ba&&(this.ba.cancel(),this.ba=null)},t.prototype.Ia=function(){return(Math.random()-.5)*this.ga},t}(),pi=function(){function t(t,e,i,n,r,u){this.fh=t,this.Ta=i,this.connection=n,this.Ea=r,this.listener=u,this.state=0,this.Da=0,this.Ra=null,this.stream=null,this.Sa=new di(t,e)}return t.prototype.Aa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ca=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(ln(0===this.state,"Already started"),this.auth()):this.Pa()},t.prototype.stop=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.Aa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ka=function(){ln(!this.Aa(),"Can only inhibit backoff in a stopped state"),this.state=0,this.Sa.reset()},t.prototype.Na=function(){var t=this;this.Ca()&&null===this.Ra&&(this.Ra=this.fh.yu(this.Ta,6e4,(function(){return t.Oa()})))},t.prototype.Fa=function(t){this.Va(),this.stream.send(t)},t.prototype.Oa=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){return this.Ca()?[2,this.close(0)]:[2]}))}))},t.prototype.Va=function(){this.Ra&&(this.Ra.cancel(),this.Ra=null)},t.prototype.close=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(i){switch(i.label){case 0:return ln(this.Aa(),"Only started streams should be closed."),ln(3===t||ee(e),"Can't provide an error when not in an error state."),this.Va(),this.Sa.cancel(),this.Da++,3!==t?this.Sa.reset():e&&e.code===m.RESOURCE_EXHAUSTED?(an(e.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.Sa.ya()):e&&e.code===m.UNAUTHENTICATED&&this.Ea.l(),null!==this.stream&&(this.Ua(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.xa(e)];case 1:return i.sent(),[2]}}))}))},t.prototype.Ua=function(){},t.prototype.auth=function(){var t=this;ln(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.ja(this.Da),i=this.Da;this.Ea.getToken().then((function(e){t.Da===i&&t.La(e)}),(function(i){e((function(){var e=new y(m.UNKNOWN,"Fetching auth token failed: "+i.message);return t.qa(e)}))}))},t.prototype.La=function(t){var e=this;ln(1===this.state,"Trying to start stream in a non-starting state");var i=this.ja(this.Da);this.stream=this.Ba(t),this.stream.Ma((function(){i((function(){return ln(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Ma()}))})),this.stream.xa((function(t){i((function(){return e.qa(t)}))})),this.stream.onMessage((function(t){i((function(){return e.onMessage(t)}))}))},t.prototype.Pa=function(){var t=this;ln(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.Sa._a((function(){return c.__awaiter(t,void 0,void 0,(function(){return c.__generator(this,(function(t){return ln(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),ln(this.Aa(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.qa=function(t){return ln(this.Aa(),"Can't handle server close on non-started stream"),sn("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ja=function(t){var e=this;return function(i){e.fh.ou((function(){return e.Da===t?i():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),vi=function(t){function i(e,i,n,r,u){var s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",i,n,u)||this;return s.serializer=r,s}return c.__extends(i,t),i.prototype.Ba=function(t){return this.connection.Qa("Listen",t)},i.prototype.onMessage=function(t){this.Sa.reset();var e=this.serializer.Xe(t),i=this.serializer.Ze(t);return this.listener.Ga(e,i)},i.prototype.watch=function(t){var e={};e.database=this.serializer.Ue,e.addTarget=this.serializer.Yn(t);var i=this.serializer._r(t);i&&(e.labels=i),this.Fa(e)},i.prototype.Wa=function(t){var e={};e.database=this.serializer.Ue,e.removeTarget=t,this.Fa(e)},i}(pi),mi=function(t){function i(e,i,n,r,u){var s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",i,n,u)||this;return s.serializer=r,s.za=!1,s.lastStreamToken=rt.k,s}return c.__extends(i,t),Object.defineProperty(i.prototype,"Ka",{get:function(){return this.za},enumerable:!0,configurable:!0}),i.prototype.start=function(){this.za=!1,t.prototype.start.call(this)},i.prototype.Ua=function(){this.za&&this.Ha([])},i.prototype.Ba=function(t){return this.connection.Qa("Write",t)},i.prototype.onMessage=function(t){if(ln(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.De(t.streamToken),this.za){this.Sa.reset();var e=this.serializer.cr(t.writeResults,t.commitTime),i=this.serializer.fromVersion(t.commitTime);return this.listener.Ja(i,e)}return ln(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.za=!0,this.listener.Ya()},i.prototype.Xa=function(){ln(this.Ca(),"Writing handshake requires an opened stream"),ln(!this.za,"Handshake already completed");var t={};t.database=this.serializer.Ue,this.Fa(t)},i.prototype.Ha=function(t){var e=this;ln(this.Ca(),"Writing mutations requires an opened stream"),ln(this.za,"Handshake must be complete before writing mutations"),ln(this.lastStreamToken.P()>0,"Trying to write mutation without a token");var i={streamToken:this.serializer.Ee(this.lastStreamToken),writes:t.map((function(t){return e.serializer.tr(t)}))};this.Fa(i)},i}(pi),gi=function(){function t(t,e,i,n){this.fh=t,this.connection=e,this.credentials=i,this.serializer=n}return t.prototype.$a=function(t){return new mi(this.fh,this.connection,this.credentials,this.serializer,t)},t.prototype.Za=function(t){return new vi(this.fh,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,i={database:this.serializer.Ue,writes:t.map((function(t){return e.serializer.tr(t)}))};return this.tf("Commit",i).then((function(t){return e.serializer.cr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,i={database:this.serializer.Ue,documents:t.map((function(t){return e.serializer.ke(t)}))};return this.nf("BatchGetDocuments",i).then((function(i){var n=Te();i.forEach((function(t){var i=e.serializer.He(t);n=n.dt(i.key,i)}));var r=[];return t.forEach((function(t){var e=n.get(t);ln(!!e,"Missing entity in write response for "+t),r.push(e)})),r}))},t.prototype.tf=function(t,e){var i=this;return this.credentials.getToken().then((function(n){return i.connection.tf(t,e,n)})).catch((function(t){throw t.code===m.UNAUTHENTICATED&&i.credentials.l(),t}))},t.prototype.nf=function(t,e){var i=this;return this.credentials.getToken().then((function(n){return i.connection.nf(t,e,n)})).catch((function(t){throw t.code===m.UNAUTHENTICATED&&i.credentials.l(),t}))},t}(),yi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];M("FieldPath",t,"fieldNames",1);for(var i=0;i<t.length;++i)if(L("FieldPath","string",i,t[i]),0===t[i].length)throw new y(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.if=new lt(t)}return t.documentId=function(){return t.ef},t.prototype.isEqual=function(e){if(!(e instanceof t))throw K("isEqual","FieldPath",1,e);return this.if.isEqual(e.if)},t.ef=new t(lt.ot().it()),t}(),bi=new RegExp("[~\\*/\\[\\]]"),wi=function(){function t(t){this.rf=t}return t.delete=function(){return x("FieldValue.delete",arguments),_i.instance},t.serverTimestamp=function(){return x("FieldValue.serverTimestamp",arguments),Si.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R("FieldValue.arrayUnion",arguments,1),new Ii(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R("FieldValue.arrayRemove",arguments,1),new ki(t)},t.increment=function(t){return L("FieldValue.increment","number",1,t),P("FieldValue.increment",arguments,1),new Ei(t)},t.prototype.isEqual=function(t){return this===t},t}(),_i=function(t){function i(){return t.call(this,"FieldValue.delete")||this}return c.__extends(i,t),i.instance=new i,i}(wi),Si=function(t){function i(){return t.call(this,"FieldValue.serverTimestamp")||this}return c.__extends(i,t),i.instance=new i,i}(wi),Ii=function(t){function i(e){var i=t.call(this,"FieldValue.arrayUnion")||this;return i.uf=e,i}return c.__extends(i,t),i}(wi),ki=function(t){function i(e){var i=t.call(this,"FieldValue.arrayRemove")||this;return i.uf=e,i}return c.__extends(i,t),i}(wi),Ei=function(t){function i(e){var i=t.call(this,"FieldValue.increment")||this;return i.sf=e,i}return c.__extends(i,t),i}(wi),Ti=T(wi,"Use FieldValue.<field>() instead."),Di=/^__.*__$/,Ai=function(){function t(t,e,i){this.data=t,this.sn=e,this.fieldTransforms=i}return t.prototype.hf=function(t,e){var i=[];return null!==this.sn?i.push(new Nt(t,this.data,this.sn,e)):i.push(new Ct(t,this.data,e)),this.fieldTransforms.length>0&&i.push(new Ot(t,this.fieldTransforms)),i},t}(),Ci=function(){function t(t,e,i){this.data=t,this.sn=e,this.fieldTransforms=i}return t.prototype.hf=function(t,e){var i=[new Nt(t,this.data,this.sn,e)];return this.fieldTransforms.length>0&&i.push(new Ot(t,this.fieldTransforms)),i},t}();function Ni(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cn("Unexpected case for UserDataSource: "+t)}}var Oi=function(){function t(t,e,i,n,r,u){this.cf=t,this.methodName=e,this.path=i,this.af=n,void 0===r&&this.ff(),this.af=void 0!==n&&n,this.fieldTransforms=r||[],this.sn=u||[]}return t.prototype.lf=function(e){var i=null==this.path?null:this.path.child(e),n=new t(this.cf,this.methodName,i,!1,this.fieldTransforms,this.sn);return n.df(e),n},t.prototype.vf=function(e){var i=null==this.path?null:this.path.child(e),n=new t(this.cf,this.methodName,i,!1,this.fieldTransforms,this.sn);return n.ff(),n},t.prototype.wf=function(e){return new t(this.cf,this.methodName,null,!0,this.fieldTransforms,this.sn)},t.prototype.mf=function(t){var e=null===this.path||this.path.Y()?"":" (found in field "+this.path.toString()+")";return new y(m.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.sn.find((function(e){return t.Z(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.Z(e.field)}))},t.prototype.ff=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.df(this.path.get(t))},t.prototype.df=function(t){if(0===t.length)throw this.mf("Document fields must not be empty");if(Ni(this.cf)&&Di.test(t))throw this.mf('Document fields cannot begin and end with "__"')},t}(),xi=function(t,e){this.Dn=t,this.key=e},Pi=function(){function t(t){this.gf=t}return t.prototype.bf=function(t,e){var i=new Oi(0,t,lt.rt);Mi("Data must be an object, but it was:",i,e);var n=this.pf(e,i);return new Ai(n,null,i.fieldTransforms)},t.prototype.yf=function(t,e,i){var n=new Oi(2,t,lt.rt);Mi("Data must be an object, but it was:",n,e);var r,u,s=this.pf(e,n);if(i){for(var o=new gt(lt.W),c=0,l=i;c<l.length;c++){var a=l[c],h=void 0;if(a instanceof yi)h=a.if;else{if("string"!=typeof a)throw cn("Expected stringOrFieldPath to be a string or a FieldPath");h=ji(t,a)}if(!n.contains(h))throw new y(m.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");o=o.add(h)}r=kt.Yt(o),u=n.fieldTransforms.filter((function(t){return r.$t(t.field)}))}else r=kt.Xt(n.sn),u=n.fieldTransforms;return new Ai(s,r,u)},t.prototype._f=function(t,e){var i=this,n=new Oi(1,t,lt.rt);Mi("Data must be an object, but it was:",n,e);var r=new gt(lt.W),u=Kt.wn();N(e,(function(e,s){var o=ji(t,e),c=n.vf(o);if((s=i.If(s,c))instanceof _i)r=r.add(o);else{var l=i.pf(s,c);null!=l&&(r=r.add(o),u.set(o,l))}}));var s=kt.Yt(r);return new Ci(u.an(),s,n.fieldTransforms)},t.prototype.Tf=function(t,e,i,n){var r=new Oi(1,t,lt.rt),u=[Li(t,e)],s=[i];if(n.length%2!=0)throw new y(m.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var o=0;o<n.length;o+=2)u.push(Li(t,n[o])),s.push(n[o+1]);var c=new gt(lt.W),l=Kt.wn();for(o=0;o<u.length;++o){var a=u[o],h=r.vf(a),f=this.If(s[o],h);if(f instanceof _i)c=c.add(a);else{var d=this.pf(f,h);null!=d&&(c=c.add(a),l.set(a,d))}}var v=kt.Yt(c);return new Ci(l.an(),v,r.fieldTransforms)},t.prototype.Ef=function(t,e,i){void 0===i&&(i=!1);var n=new Oi(i?4:3,t,lt.rt),r=this.pf(e,n);return ln(null!=r,"Parsed data should not be null."),ln(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.If=function(t,e){try{return this.gf(t)}catch(t){var i=Vi(t);throw e.mf(i)}},t.prototype.pf=function(t,e){if(Ri(t=this.If(t,e)))return Mi("Unsupported field value:",e,t),this.Df(t,e);if(t instanceof wi)return this.Rf(t,e),null;if(e.path&&e.sn.push(e.path),t instanceof Array){if(e.af&&4!==e.cf)throw e.mf("Nested arrays are not supported");return this.Sf(t,e)}return this.Af(t,e)},t.prototype.Df=function(t,e){var i=this,n=new ft(fn);return O(t)?e.path&&e.path.length>0&&e.sn.push(e.path):N(t,(function(t,r){var u=i.pf(r,e.lf(t));null!=u&&(n=n.dt(t,u))})),new Kt(n)},t.prototype.Sf=function(t,e){for(var i=[],n=0,r=0,u=t;r<u.length;r++){var s=u[r],o=this.pf(s,e.wf(n));null==o&&(o=Lt.yn),i.push(o),n++}return new Jt(i)},t.prototype.Rf=function(t,e){if(!Ni(e.cf))throw e.mf(t.rf+"() can only be used with update() and set()");if(null===e.path)throw e.mf(t.rf+"() is not currently supported inside arrays");if(t instanceof _i){if(2!==e.cf)throw 1===e.cf?(ln(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.mf("FieldValue.delete() can only appear at the top level of your update data")):e.mf("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.sn.push(e.path)}else if(t instanceof Si)e.fieldTransforms.push(new Et(e.path,bt.instance));else if(t instanceof Ii){var i=this.Cf(t.rf,t.uf),n=new wt(i);e.fieldTransforms.push(new Et(e.path,n))}else if(t instanceof ki){i=this.Cf(t.rf,t.uf);var r=new _t(i);e.fieldTransforms.push(new Et(e.path,r))}else if(t instanceof Ei){var u=this.Ef("FieldValue.increment",t.sf),s=new St(u);e.fieldTransforms.push(new Et(e.path,s))}else cn("Unknown FieldValue type: "+t)},t.prototype.Af=function(t,e){if(null===t)return Lt.yn;if("number"==typeof t)return ie(t)?new Bt(t):new Ut(t);if("boolean"==typeof t)return jt.of(t);if("string"==typeof t)return new $t(t);if(t instanceof Date)return new qt(st.fromDate(t));if(t instanceof st)return new qt(new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ot)return new Wt(t);if(t instanceof nt)return new Ht(t);if(t instanceof xi)return new Gt(t.Dn,t.key);throw e.mf("Unsupported field value: "+H(t))},t.prototype.Cf=function(t,e){var i=this;return e.map((function(e,n){var r=new Oi(3,t,lt.rt);return i.pf(e,r.wf(n))}))},t}();function Ri(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ot||t instanceof nt||t instanceof xi||t instanceof wi)}function Mi(t,e,i){if(!Ri(i)||!z(i)){var n=H(i);throw"an object"===n?e.mf(t+" a custom object"):e.mf(t+" "+n)}}function Li(t,e){if(e instanceof yi)return e.if;if("string"==typeof e)return ji(t,e);throw new y(m.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function ji(t,e){try{return function(t){if(t.search(bi)>=0)throw new y(m.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(yi.bind.apply(yi,c.__spreadArrays([void 0],t.split("."))))}catch(e){throw new y(m.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).if}catch(e){var i=Vi(e);throw new y(m.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+i)}}function Vi(t){return t instanceof Error?t.message:t.toString()}var Fi=function(){function t(t){this.Pf=t,this.kf=Oe(),this.mutations=[],this.Nf=!1,this.Of=null,this.Ff=new Set}return t.prototype.lookup=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i=this;return c.__generator(this,(function(n){switch(n.label){case 0:if(this.Vf(),this.mutations.length>0)throw new y(m.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.Pf.lookup(t)];case 1:return(e=n.sent()).forEach((function(t){t instanceof Zt||t instanceof Qt?i.Uf(t):cn("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.en(t))),this.Ff.add(t)},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.xf(t)))}catch(t){this.Of=t}this.Ff.add(t)},t.prototype.delete=function(t){this.write([new xt(t,this.en(t))]),this.Ff.add(t)},t.prototype.commit=function(){return c.__awaiter(this,void 0,void 0,(function(){var t,e=this;return c.__generator(this,(function(i){switch(i.label){case 0:if(this.Vf(),this.Of)throw this.Of;return t=this.kf,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,i){e.mutations.push(new Pt(t,e.en(t)))})),[4,this.Pf.commit(this.mutations)];case 1:return i.sent(),this.Nf=!0,[2]}}))}))},t.prototype.Uf=function(t){var e;if(t instanceof Qt)e=t.version;else{if(!(t instanceof Zt))throw cn("Document in a transaction was a "+t.constructor.name);e=dt.q()}var i=this.kf.get(t.key);if(null!==i){if(!e.isEqual(i))throw new y(m.ABORTED,"Document version changed between two reads.")}else this.kf=this.kf.dt(t.key,e)},t.prototype.en=function(t){var e=this.kf.get(t);return!this.Ff.has(t)&&e?Dt.updateTime(e):Dt.NONE},t.prototype.xf=function(t){var e=this.kf.get(t);if(!this.Ff.has(t)&&e){if(e.isEqual(dt.q()))throw new y(m.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dt.updateTime(e)}return Dt.exists(!0)},t.prototype.write=function(t){this.Vf(),this.mutations=this.mutations.concat(t)},t.prototype.Vf=function(){ln(!this.Nf,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Bi=function(){function t(t,e){this.$r=t,this.vh=e,this.state="Unknown",this.jf=0,this.Lf=null,this.qf=!0}return t.prototype.Bf=function(){var t=this;0===this.jf&&(this.Mf("Unknown"),ln(null===this.Lf,"onlineStateTimer shouldn't be started yet"),this.Lf=this.$r.yu("online_state_timeout",1e4,(function(){return t.Lf=null,ln("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Qf("Backend didn't respond within 10 seconds."),t.Mf("Offline"),Promise.resolve()})))},t.prototype.Gf=function(t){"Online"===this.state?(this.Mf("Unknown"),ln(0===this.jf,"watchStreamFailures must be 0"),ln(null===this.Lf,"onlineStateTimer must be null")):(this.jf++,this.jf>=1&&(this.Wf(),this.Qf("Connection failed 1 times. Most recent error: "+t.toString()),this.Mf("Offline")))},t.prototype.set=function(t){this.Wf(),this.jf=0,"Online"===t&&(this.qf=!1),this.Mf(t)},t.prototype.Mf=function(t){t!==this.state&&(this.state=t,this.vh(t))},t.prototype.Qf=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qf?(an(e),this.qf=!1):sn("OnlineStateTracker",e)},t.prototype.Wf=function(){null!==this.Lf&&(this.Lf.cancel(),this.Lf=null)},t}(),Ui=function(){function t(t,e,i,n,s){var r=this;this.zf=t,this.Pf=e,this.Kf=[],this.Hf={},this.Jf=null,this.networkEnabled=!1,this.isPrimary=!1,this.Yf=s,this.Yf.Xf((function(t){i.ou((function(){return c.__awaiter(r,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.$f()?(sn("RemoteStore","Restarting streams for network reachability change."),[4,this.Zf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.tl=new Bi(i,n),this.nl=this.Pf.Za({Ma:this.il.bind(this),xa:this.el.bind(this),Ga:this.rl.bind(this)}),this.ul=this.Pf.$a({Ma:this.sl.bind(this),xa:this.ol.bind(this),Ya:this.hl.bind(this),Ja:this.Ja.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return c.__awaiter(this,void 0,void 0,(function(){var t;return c.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.$f()?(t=this.ul,[4,this.zf.Eo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.cl()?this.al():this.tl.set("Unknown"),[4,this.fl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.ll()];case 1:return t.sent(),this.tl.set("Offline"),[2]}}))}))},t.prototype.ll=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return[4,this.ul.stop()];case 1:return t.sent(),[4,this.nl.stop()];case 2:return t.sent(),this.Kf.length>0&&(sn("RemoteStore","Stopping write stream with "+this.Kf.length+" pending writes"),this.Kf=[]),this.dl(),[2]}}))}))},t.prototype.shutdown=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return sn("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.ll()];case 1:return t.sent(),this.Yf.shutdown(),this.tl.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){D(this.Hf,t.targetId)||(this.Hf[t.targetId]=t,this.cl()?this.al():this.nl.Ca()&&this.vl(t))},t.prototype.wl=function(t){ln(D(this.Hf,t),"unlisten called on target no currently watched: "+t),delete this.Hf[t],this.nl.Ca()&&this.ml(t),O(this.Hf)&&(this.nl.Ca()?this.nl.Na():this.$f()&&this.tl.set("Unknown"))},t.prototype.be=function(t){return this.Hf[t]||null},t.prototype.ge=function(t){return this.dh.ge(t)},t.prototype.vl=function(t){this.Jf.Ji(t.targetId),this.nl.watch(t)},t.prototype.ml=function(t){this.Jf.Ji(t),this.nl.Wa(t)},t.prototype.al=function(){ln(this.cl(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Jf=new He(this),this.nl.start(),this.tl.Bf()},t.prototype.cl=function(){return this.$f()&&!this.nl.Aa()&&!O(this.Hf)},t.prototype.$f=function(){return this.isPrimary&&this.networkEnabled},t.prototype.dl=function(){this.Jf=null},t.prototype.il=function(){return c.__awaiter(this,void 0,void 0,(function(){var t=this;return c.__generator(this,(function(e){return C(this.Hf,(function(e,i){t.vl(i)})),[2]}))}))},t.prototype.el=function(t){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(e){return void 0===t&&ln(!this.cl(),"Watch stream was stopped gracefully while still needed."),this.dl(),this.cl()?(this.tl.Gf(t),this.al()):this.tl.set("Unknown"),[2]}))}))},t.prototype.rl=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){var i;return c.__generator(this,(function(n){switch(n.label){case 0:return this.tl.set("Online"),t instanceof qe&&2===t.state&&t.cause?[2,this.gl(t)]:(t instanceof Ue?this.Jf.ee(t):t instanceof $e?this.Jf.fe(t):(ln(t instanceof qe,"Expected watchChange to be an instance of WatchTargetChange"),this.Jf.se(t)),e.isEqual(dt.MIN)?[3,3]:[4,this.zf.Ro()]);case 1:return i=n.sent(),e.B(i)>=0?[4,this.bl(e)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.bl=function(t){var e=this;ln(!t.isEqual(dt.MIN),"Can't raise event for unknown SnapshotVersion");var i=this.Jf.ve(t);return C(i.Ei,(function(i,n){if(n.resumeToken.P()>0){var r=e.Hf[i];r&&(e.Hf[i]=r.li(n.resumeToken,t))}})),i.Di.forEach((function(t){var i=e.Hf[t];if(i){e.Hf[t]=i.li(rt.k,i.ai),e.ml(t);var n=new we(i.target,t,1,i.sequenceNumber);e.vl(n)}})),this.dh.So(i)},t.prototype.gl=function(t){var e=this;ln(!!t.cause,"Handling target error without a cause");var i=t.cause,n=Promise.resolve();return t.targetIds.forEach((function(t){n=n.then((function(){return c.__awaiter(e,void 0,void 0,(function(){return c.__generator(this,(function(e){return D(this.Hf,t)?(delete this.Hf[t],this.Jf.removeTarget(t),[2,this.dh.pl(t,i)]):[2]}))}))}))})),n},t.prototype.fl=function(){return c.__awaiter(this,void 0,void 0,(function(){var t,e;return c.__generator(this,(function(i){switch(i.label){case 0:return this.yl()?(t=this.Kf.length>0?this.Kf[this.Kf.length-1].batchId:-1,[4,this.zf.jo(t)]):[3,4];case 1:return null!==(e=i.sent())?[3,2]:(0===this.Kf.length&&this.ul.Na(),[3,4]);case 2:return this._l(e),[4,this.fl()];case 3:i.sent(),i.label=4;case 4:return this.Il()&&this.Tl(),[2]}}))}))},t.prototype.yl=function(){return this.$f()&&this.Kf.length<10},t.prototype.El=function(){return this.Kf.length},t.prototype._l=function(t){ln(this.yl(),"addToWritePipeline called when pipeline is full"),this.Kf.push(t),this.ul.Ca()&&this.ul.Ka&&this.ul.Ha(t.mutations)},t.prototype.Il=function(){return this.$f()&&!this.ul.Aa()&&this.Kf.length>0},t.prototype.Tl=function(){ln(this.Il(),"startWriteStream() called when shouldStartWriteStream() is false."),this.ul.start()},t.prototype.sl=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){return this.ul.Xa(),[2]}))}))},t.prototype.hl=function(){var t=this;return this.zf.Do(this.ul.lastStreamToken).then((function(){for(var e=0,i=t.Kf;e<i.length;e++){var n=i[e];t.ul.Ha(n.mutations)}})).catch(Ln)},t.prototype.Ja=function(t,e){var i=this;ln(this.Kf.length>0,"Got result for empty write pipeline");var n=this.Kf.shift(),r=yn.from(n,t,e,this.ul.lastStreamToken);return this.dh.Dl(r).then((function(){return i.fl()}))},t.prototype.ol=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e=this;return c.__generator(this,(function(i){return void 0===t&&ln(!this.Il(),"Write stream was stopped gracefully while still needed."),t&&this.Kf.length>0?[2,(this.ul.Ka?this.Rl(t):this.Sl(t)).then((function(){e.Il()&&e.Tl()}))]:[2]}))}))},t.prototype.Sl=function(t){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(e){return Se(t.code)?(sn("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.ul.lastStreamToken),this.ul.lastStreamToken=rt.k,[2,this.zf.Do(rt.k).catch(Ln)]):[2]}))}))},t.prototype.Rl=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i=this;return c.__generator(this,(function(n){return Se(r=t.code)&&r!==m.ABORTED?(e=this.Kf.shift(),this.ul.ka(),[2,this.dh.Al(e.batchId,t).then((function(){return i.fl()}))]):[2];var r}))}))},t.prototype.Cl=function(){return new Fi(this.Pf)},t.prototype.Zf=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.ll()];case 1:return t.sent(),this.tl.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Pl=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.$f()?(sn("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Zf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.kl=function(t){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.ll()];case 3:e.sent(),this.tl.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),$i=function(t){this.key=t},qi=function(t){this.key=t},zi=function(){function t(t,e){this.query=t,this.Nl=e,this.Ol=null,this.Pi=!1,this.Fl=Pe(),this.yi=Pe(),this.Vl=new Le(t.Xn.bind(t))}return Object.defineProperty(t.prototype,"Ul",{get:function(){return this.Nl},enumerable:!0,configurable:!0}),t.prototype.xl=function(t,e){var i=this,n=e?e.jl:new je,r=e?e.Vl:this.Vl,u=e?e.yi:this.yi,s=r,o=!1,c=this.query.ii()&&r.size===this.query.limit?r.last():null,l=this.query.ei()&&r.size===this.query.limit?r.first():null;if(t.bt((function(t,e){var a=r.get(t),h=e instanceof Qt?e:null;h&&(ln(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=i.query.matches(h)?h:null);var f=!!a&&i.yi.has(a.key),d=!!h&&(h.rn||i.yi.has(h.key)&&h.hasCommittedMutations),v=!1;a&&h?a.data().isEqual(h.data())?f!==d&&(n.track({type:3,doc:h}),v=!0):i.Ll(a,h)||(n.track({type:2,doc:h}),v=!0,(c&&i.query.Xn(h,c)>0||l&&i.query.Xn(h,l)<0)&&(o=!0)):!a&&h?(n.track({type:0,doc:h}),v=!0):a&&!h&&(n.track({type:1,doc:a}),v=!0,(c||l)&&(o=!0)),v&&(h?(s=s.add(h),u=d?u.add(t):u.delete(t)):(s=s.delete(t),u=u.delete(t)))})),this.query.ii()||this.query.ei())for(;s.size>this.query.limit;){var a=this.query.ii()?s.last():s.first();s=s.delete(a.key),u=u.delete(a.key),n.track({type:1,doc:a})}return ln(!o||!e,"View was refilled using docs that themselves needed refilling."),{Vl:s,jl:n,yc:o,yi:u}},t.prototype.Ll=function(t,e){return t.rn&&e.hasCommittedMutations&&!e.rn},t.prototype.qs=function(t,e,i){var n=this;ln(!t.yc,"Cannot apply changes that need a refill");var r=this.Vl;this.Vl=t.Vl,this.yi=t.yi;var u=t.jl.bi();u.sort((function(t,e){return function(t,e){var i=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cn("Unknown ChangeType: "+t)}};return i(t)-i(e)}(t.type,e.type)||n.query.Xn(t.doc,e.doc)})),this.ql(i);var s=e?this.Bl():[],o=0===this.Fl.size&&this.Pi?1:0,c=o!==this.Ol;return this.Ol=o,0!==u.length||c?{snapshot:new Ve(this.query,t.Vl,r,u,t.yi,0===o,c,!1),Ml:s}:{Ml:s}},t.prototype.Ql=function(t){return this.Pi&&"Offline"===t?(this.Pi=!1,this.qs({Vl:this.Vl,jl:new je,yi:this.yi,yc:!1},!1)):{Ml:[]}},t.prototype.Gl=function(t){return!this.Nl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).rn},t.prototype.ql=function(t){var e=this;t&&(t.ki.forEach((function(t){return e.Nl=e.Nl.add(t)})),t.Ni.forEach((function(t){return ln(e.Nl.has(t),"Modified document "+t+" not found in view.")})),t.Oi.forEach((function(t){return e.Nl=e.Nl.delete(t)})),this.Pi=t.Pi)},t.prototype.Bl=function(){var t=this;if(!this.Pi)return[];var e=this.Fl;this.Fl=Pe(),this.Vl.forEach((function(e){t.Gl(e.key)&&(t.Fl=t.Fl.add(e.key))}));var i=[];return e.forEach((function(e){t.Fl.has(e)||i.push(new qi(e))})),this.Fl.forEach((function(t){e.has(t)||i.push(new $i(t))})),i},t.prototype.Wl=function(t){this.Nl=t.Yo,this.Fl=Pe();var e=this.xl(t.documents);return this.qs(e,!0)},t.prototype.zl=function(){return Ve.Ti(this.query,this.Vl,this.yi,0===this.Ol)},t}(),Hi=function(){function t(t,e,i,n){this.$r=t,this.Kl=e,this.updateFunction=i,this.iu=n,this.Hl=5,this.Sa=new di(this.$r,"retry_transaction")}return t.prototype.run=function(){this.Jl()},t.prototype.Jl=function(){var t=this;this.Sa._a((function(){return c.__awaiter(t,void 0,void 0,(function(){var t,e,i=this;return c.__generator(this,(function(n){return t=this.Kl.Cl(),(e=this.Yl(t))&&e.then((function(e){i.$r.ou((function(){return t.commit().then((function(){i.iu.resolve(e)})).catch((function(t){i.Xl(t)}))}))})).catch((function(t){i.Xl(t)})),[2]}))}))}))},t.prototype.Yl=function(t){try{var e=this.updateFunction(t);return!ee(e)&&e.catch&&e.then?e:(this.iu.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.iu.reject(t),null}},t.prototype.Xl=function(t){var e=this;this.Hl>0&&this.$l(t)?(this.Hl-=1,this.$r.ou((function(){return e.Jl(),Promise.resolve()}))):this.iu.reject(t)},t.prototype.$l=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Se(e)}return!1},t}(),Gi=function(t,e,i){this.query=t,this.targetId=e,this.view=i},tr=function(t){this.key=t,this.Zl=!1},Wi=function(){function t(t,e,i,n){this.zf=t,this.Kl=e,this.td=i,this.currentUser=n,this.nd=null,this.ed=new bn((function(t){return t.canonicalId()})),this.rd={},this.ud=new ft(ht.W),this.sd={},this.od=new xn,this.hd={},this.ad=new Map,this.fd=oi.Bc(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"ld",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){ln(null!==t,"SyncEngine listener cannot be null"),ln(null===this.nd,"SyncEngine already has a subscriber."),this.nd=t},t.prototype.listen=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i,n,r,s;return c.__generator(this,(function(u){switch(u.label){case 0:return this.dd("listen()"),(n=this.ed.get(t))?(e=n.targetId,this.td.Vh(e),i=n.view.zl(),[3,4]):[3,1];case 1:return[4,this.zf.Mo(t.Yn())];case 2:return r=u.sent(),s=this.td.Vh(r.targetId),e=r.targetId,[4,this.vd(t,e,"current"===s)];case 3:i=u.sent(),this.isPrimary&&this.Kl.listen(r),u.label=4;case 4:return this.nd.Ga([i]),[2,e]}}))}))},t.prototype.vd=function(t,e,i){return c.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,l,h;return c.__generator(this,(function(u){switch(u.label){case 0:return[4,this.zf.Ko(t,!0)];case 1:return n=u.sent(),r=new zi(t,n.Yo),s=r.xl(n.documents),o=Be.Ci(e,i&&"Offline"!==this.onlineState),ln(0===(l=r.qs(s,!0===this.isPrimary,o)).Ml.length,"View returned limbo docs before target ack from the server."),ln(!!l.snapshot,"applyChanges for new view should always return a snapshot"),h=new Gi(t,e,r),this.ed.set(t,h),this.rd[e]||(this.rd[e]=[]),this.rd[e].push(t),[2,l.snapshot]}}))}))},t.prototype.wd=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i;return c.__generator(this,(function(n){switch(n.label){case 0:return[4,this.zf.Ko(t.query,!0)];case 1:return e=n.sent(),i=t.view.Wl(e),this.isPrimary&&this.md(t.targetId,i.Ml),[2,i]}}))}))},t.prototype.wl=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i,n=this;return c.__generator(this,(function(r){switch(r.label){case 0:return this.dd("unlisten()"),ln(!!(e=this.ed.get(t)),"Trying to unlisten on query not found:"+t),(i=this.rd[e.targetId]).length>1?(this.rd[e.targetId]=i.filter((function(e){return!e.isEqual(t)})),this.ed.delete(t),[2]):this.isPrimary?(this.td.xh(e.targetId),this.td.Ph(e.targetId)?[3,2]:[4,this.zf.zo(e.targetId,!1).then((function(){n.td.Lh(e.targetId),n.Kl.wl(e.targetId),n.gd(e.targetId)})).catch(Ln)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.gd(e.targetId),[4,this.zf.zo(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){var i;return c.__generator(this,(function(n){switch(n.label){case 0:return this.dd("write()"),[4,this.zf.ao(t)];case 1:return i=n.sent(),this.td.kh(i.batchId),this.bd(i.batchId,e),[4,this.pd(i.ks)];case 2:return n.sent(),[4,this.Kl.fl()];case 3:return n.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,i){new Hi(t,this.Kl,e,i).run()},t.prototype.So=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i=this;return c.__generator(this,(function(n){switch(n.label){case 0:this.dd("applyRemoteEvent()"),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.zf.So(t)];case 2:return e=n.sent(),N(t.Ei,(function(t,e){var n=i.sd[Number(t)];n&&(ln(e.ki.size+e.Ni.size+e.Oi.size<=1,"Limbo resolution for single document contains multiple changes."),e.ki.size>0?n.Zl=!0:e.Ni.size>0?ln(n.Zl,"Received change for limbo target document without add."):e.Oi.size>0&&(ln(n.Zl,"Received remove for limbo target document without add."),n.Zl=!1))})),[4,this.pd(e,t)];case 3:return n.sent(),[3,6];case 4:return[4,Ln(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Ql=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.dd("applyOnlineStateChange()");var i=[];this.ed.forEach((function(e,n){var r=n.view.Ql(t);ln(0===r.Ml.length,"OnlineState should not affect limbo documents."),r.snapshot&&i.push(r.snapshot)})),this.nd.yd(t),this.nd.Ga(i),this.onlineState=t,this.isPrimary&&this.td.Mh(t)}},t.prototype.pl=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){var i,n,r,s,o,l=this;return c.__generator(this,(function(u){switch(u.label){case 0:return this.dd("rejectListens()"),this.td.qh(t,"rejected",e),i=this.sd[t],(n=i&&i.key)?(this.ud=this.ud.remove(n),delete this.sd[t],r=(r=new ft(ht.W)).dt(n,new Zt(n,dt.q())),s=Pe().add(n),o=new Fe(dt.MIN,{},new gt(fn),r,s),[2,this.So(o)]):[3,1];case 1:return[4,this.zf.zo(t,!1).then((function(){return l.gd(t,e)})).catch(Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))},t.prototype.Xh=function(t,e,i){return c.__awaiter(this,void 0,void 0,(function(){var n;return c.__generator(this,(function(r){switch(r.label){case 0:return this.dd("applyBatchState()"),[4,this.zf.lo(t)];case 1:return null===(n=r.sent())?(sn("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Kl.fl()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this._d(t,i||null),this.zf.Zo(t)):cn("Unknown batchState: "+e),r.label=4;case 4:return[4,this.pd(n)];case 5:return r.sent(),[2]}}))}))},t.prototype.Dl=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i;return c.__generator(this,(function(n){switch(n.label){case 0:this.dd("applySuccessfulWrite()"),e=t.batch.batchId,this._d(e,null),this.Id(e),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.zf.vo(t)];case 2:return i=n.sent(),this.td.Oh(e,"acknowledged"),[4,this.pd(i)];case 3:return n.sent(),[3,6];case 4:return[4,Ln(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Al=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){var i;return c.__generator(this,(function(n){switch(n.label){case 0:this.dd("rejectFailedWrite()"),this._d(t,e),this.Id(t),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.zf.yo(t)];case 2:return i=n.sent(),this.td.Oh(t,"rejected",e),[4,this.pd(i)];case 3:return n.sent(),[3,6];case 4:return[4,Ln(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Td=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i;return c.__generator(this,(function(n){switch(n.label){case 0:return this.Kl.$f()||sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.zf.To()];case 1:return-1===(e=n.sent())?(t.resolve(),[2]):((i=this.ad.get(e)||[]).push(t),this.ad.set(e,i),[2])}}))}))},t.prototype.Id=function(t){(this.ad.get(t)||[]).forEach((function(t){t.resolve()})),this.ad.delete(t)},t.prototype.Ed=function(t){this.ad.forEach((function(e){e.forEach((function(e){e.reject(new y(m.CANCELLED,t))}))})),this.ad.clear()},t.prototype.bd=function(t,e){var i=this.hd[this.currentUser.i()];i||(i=new ft(fn)),i=i.dt(t,e),this.hd[this.currentUser.i()]=i},t.prototype._d=function(t,e){var i=this.hd[this.currentUser.i()];if(i){var n=i.get(t);n&&(ln(t===i.wt(),"Mutation callbacks processed out-of-order?"),e?n.reject(e):n.resolve(),i=i.remove(t)),this.hd[this.currentUser.i()]=i}},t.prototype.gd=function(t,e){var i=this;void 0===e&&(e=null),this.td.xh(t),ln(this.rd[t]&&0!==this.rd[t].length,"There are no queries mapped to target id "+t);for(var n=0,r=this.rd[t];n<r.length;n++){var u=r[n];this.ed.delete(u),e&&this.nd.Dd(u,e)}if(delete this.rd[t],this.isPrimary){var s=this.od.As(t);this.od.Rs(t),s.forEach((function(t){i.od.Cs(t)||i.Rd(t)}))}},t.prototype.Rd=function(t){var e=this.ud.get(t);null!==e&&(this.Kl.wl(e),this.ud=this.ud.remove(t),delete this.sd[e])},t.prototype.md=function(t,e){for(var i=0,n=e;i<n.length;i++){var r=n[i];r instanceof $i?(this.od._s(r.key,t),this.Sd(r)):r instanceof qi?(sn("SyncEngine","Document no longer in limbo: "+r.key),this.od.Ts(r.key,t),this.od.Cs(r.key)||this.Rd(r.key)):cn("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.Sd=function(t){var e=t.key;if(!this.ud.get(e)){sn("SyncEngine","New document in limbo: "+e);var i=this.fd.next(),n=ae.jn(e.path);this.sd[i]=new tr(e),this.Kl.listen(new we(n.Yn(),i,2,_n.Xr)),this.ud=this.ud.dt(e,i)}},t.prototype.Ad=function(){return this.ud},t.prototype.pd=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){var i,n,r,s=this;return c.__generator(this,(function(u){switch(u.label){case 0:return i=[],n=[],r=[],this.ed.forEach((function(u,o){r.push(Promise.resolve().then((function(){var e=o.view.xl(t);return e.yc?s.zf.Ko(o.query,!1).then((function(t){var i=t.documents;return o.view.xl(i,e)})):e})).then((function(t){var r=e&&e.Ei[o.targetId],u=o.view.qs(t,!0===s.isPrimary,r);if(s.md(o.targetId,u.Ml),u.snapshot){s.isPrimary&&s.td.qh(o.targetId,u.snapshot.fromCache?"not-current":"current"),i.push(u.snapshot);var c=wn.zr(o.targetId,u.snapshot);n.push(c)}})))})),[4,Promise.all(r)];case 1:return u.sent(),this.nd.Ga(i),[4,this.zf.xo(n)];case 2:return u.sent(),[2]}}))}))},t.prototype.dd=function(t){ln(null!==this.nd,"Trying to call "+t+" before calling subscribe().")},t.prototype.Pl=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i;return c.__generator(this,(function(n){switch(n.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Ed("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.zf.ro(t)]):[3,3];case 1:return i=n.sent(),this.td.ro(t,i.ho,i.co),[4,this.pd(i.oo)];case 2:n.sent(),n.label=3;case 3:return[4,this.Kl.Pl()];case 4:return n.sent(),[2]}}))}))},t.prototype.kl=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i,n,r,s,o,l=this;return c.__generator(this,(function(u){switch(u.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Kl.kl(!0)]);case 1:return u.sent(),s=this.td.Ch(),[4,this.Cd(s.nt())];case 2:for(e=u.sent(),i=0,n=e;i<n.length;i++)r=n[i],this.Kl.listen(r);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],o=Promise.resolve(),C(this.rd,(function(t,e){l.td.jh(t)?s.push(t):o=o.then((function(){return l.gd(t),l.zf.zo(t,!0)})),l.Kl.wl(t)})),[4,o]);case 4:return u.sent(),[4,this.Cd(s)];case 5:return u.sent(),this.Pd(),[4,this.Kl.kl(!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},t.prototype.Pd=function(){var t=this;C(this.sd,(function(e){t.Kl.wl(e)})),this.od.Ss(),this.sd=[],this.ud=new ft(ht.W)},t.prototype.Cd=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i,n,r,s,o,l,h,a,f,d,v,m;return c.__generator(this,(function(u){switch(u.label){case 0:e=[],i=[],n=0,r=t,u.label=1;case 1:return n<r.length?(s=r[n],o=void 0,(l=this.rd[s])&&0!==l.length?[4,this.zf.zo(s,!0)]:[3,8]):[3,14];case 2:return u.sent(),[4,this.zf.Mo(l[0].Yn())];case 3:o=u.sent(),h=0,a=l,u.label=4;case 4:return h<a.length?(f=a[h],ln(!!(d=this.ed.get(f)),"No query view found for "+f),[4,this.wd(d)]):[3,7];case 5:(v=u.sent()).snapshot&&i.push(v.snapshot),u.label=6;case 6:return h++,[3,4];case 7:return[3,12];case 8:return ln(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.zf.ih(s)];case 9:return ln(!!(m=u.sent()),"Target for id "+s+" not found"),[4,this.zf.Mo(m)];case 10:return o=u.sent(),[4,this.vd(this.kd(m),s,!1)];case 11:u.sent(),u.label=12;case 12:e.push(o),u.label=13;case 13:return n++,[3,1];case 14:return this.nd.Ga(i),[2,e]}}))}))},t.prototype.kd=function(t){return new ae(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.$o=function(){return this.zf.$o()},t.prototype.$h=function(t,e,i){return c.__awaiter(this,void 0,void 0,(function(){var n,r;return c.__generator(this,(function(u){switch(u.label){case 0:if(this.isPrimary)return sn("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.rd[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.zf.eh()];case 2:return n=u.sent(),r=Fe.Ai(t,"current"===e),[4,this.pd(n,r)];case 3:return u.sent(),[3,7];case 4:return[4,this.zf.zo(t,!0)];case 5:return u.sent(),this.gd(t,i),[3,7];case 6:cn("Unexpected target state: "+e),u.label=7;case 7:return[2]}}))}))},t.prototype.Zh=function(t,e){return c.__awaiter(this,void 0,void 0,(function(){var i,n,r,s,o,l,h,a,f,d=this;return c.__generator(this,(function(v){switch(v.label){case 0:if(!this.isPrimary)return[2];i=0,n=t,v.label=1;case 1:return i<n.length?(f=n[i],ln(!this.rd[f],"Trying to add an already active target"),[4,this.zf.ih(f)]):[3,6];case 2:return ln(!!(r=v.sent()),"Query data for active target "+f+" not found"),[4,this.zf.Mo(r)];case 3:return s=v.sent(),[4,this.vd(this.kd(r),s.targetId,!1)];case 4:v.sent(),this.Kl.listen(s),v.label=5;case 5:return i++,[3,1];case 6:o=function(t){return c.__generator(this,(function(e){switch(e.label){case 0:return l.rd[t]?[4,l.zf.zo(t,!1).then((function(){d.Kl.wl(t),d.gd(t)})).catch(Ln)]:[2,"continue"];case 1:return e.sent(),[2]}}))},l=this,h=0,a=e,v.label=7;case 7:return h<a.length?(f=a[h],[5,o(f)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.zf.nh(!0),this.Kl.enableNetwork()},t.prototype.disableNetwork=function(){return this.zf.nh(!1),this.Kl.disableNetwork()},t.prototype.ge=function(t){var e=this.sd[t];if(e&&e.Zl)return Pe().add(e.key);var i=Pe(),n=this.rd[t];if(!n)return i;for(var r=0,u=n;r<u.length;r++){var s=u[r],o=this.ed.get(s);ln(!!o,"No query view found for "+s),i=i.Qt(o.view.Ul)}return i},t}(),Ki=function(){this.Nd=null,this.targetId=0,this.listeners=[]},Yi=function(){function t(t){this.dh=t,this.Od=new bn((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Fd=new Set,this.dh.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,i=!1,n=this.Od.get(e);return n||(i=!0,n=new Ki,this.Od.set(e,n)),n.listeners.push(t),ln(!t.Ql(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),n.Nd&&t.Vd(n.Nd)&&this.Ud(),i?this.dh.listen(e).then((function(t){return n.targetId=t,t})):Promise.resolve(n.targetId)},t.prototype.wl=function(t){return c.__awaiter(this,void 0,void 0,(function(){var e,i,n,r;return c.__generator(this,(function(u){return e=t.query,i=!1,(n=this.Od.get(e))&&(r=n.listeners.indexOf(t))>=0&&(n.listeners.splice(r,1),i=0===n.listeners.length),i?(this.Od.delete(e),[2,this.dh.wl(e)]):[2]}))}))},t.prototype.Ga=function(t){for(var e=!1,i=0,n=t;i<n.length;i++){var r=n[i],u=r.query,s=this.Od.get(u);if(s){for(var o=0,c=s.listeners;o<c.length;o++)c[o].Vd(r)&&(e=!0);s.Nd=r}}e&&this.Ud()},t.prototype.Dd=function(t,e){var i=this.Od.get(t);if(i)for(var n=0,r=i.listeners;n<r.length;n++)r[n].onError(e);this.Od.delete(t)},t.prototype.yd=function(t){this.onlineState=t;var e=!1;this.Od.forEach((function(i,n){for(var r=0,u=n.listeners;r<u.length;r++)u[r].Ql(t)&&(e=!0)})),e&&this.Ud()},t.prototype.xd=function(t){this.Fd.add(t),t.next()},t.prototype.jd=function(t){this.Fd.delete(t)},t.prototype.Ud=function(){this.Fd.forEach((function(t){t.next()}))},t}(),Ji=function(){function t(t,e,i){this.query=t,this.Ld=e,this.qd=!1,this.Bd=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Vd=function(t){if(ln(t.docChanges.length>0||t._i,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],i=0,n=t.docChanges;i<n.length;i++){var r=n[i];3!==r.type&&e.push(r)}t=new Ve(t.query,t.docs,t.pi,e,t.yi,t.fromCache,t._i,!0)}var u=!1;return this.qd?this.Md(t)&&(this.Ld.next(t),u=!0):this.Qd(t,this.onlineState)&&(this.Gd(t),u=!0),this.Bd=t,u},t.prototype.onError=function(t){this.Ld.error(t)},t.prototype.Ql=function(t){this.onlineState=t;var e=!1;return this.Bd&&!this.qd&&this.Qd(this.Bd,t)&&(this.Gd(this.Bd),e=!0),e},t.prototype.Qd=function(t,e){if(ln(!this.qd,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var i="Offline"!==e;return this.options.Wd&&i?(ln(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.Y()||"Offline"===e},t.prototype.Md=function(t){if(t.docChanges.length>0)return!0;var e=this.Bd&&this.Bd.hasPendingWrites!==t.hasPendingWrites;return!(!t._i&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Gd=function(t){ln(!this.qd,"Trying to raise initial events for second time"),t=Ve.Ti(t.query,t.docs,t.yi,t.fromCache),this.qd=!0,this.Ld.next(t)},t}(),Xi=function(){function t(t,e,i,n){this.platform=t,this.zd=e,this.credentials=i,this.$r=n,this.clientId=hn.Ur()}return t.prototype.start=function(t,e){var i=this;this.Kd();var n=new Sn,r=new Sn,u=!1;return this.credentials.v((function(s){u?i.$r.ou((function(){return i.Pl(s)})):(u=!0,i.Hd(t,e,s,r).then((function(){return i.Jd(s)})).then(n.resolve,n.reject))})),this.$r.ou((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.Kd(),this.$r.enqueue((function(){return t.dh.enableNetwork()}))},t.prototype.Hd=function(t,e,i,n){return c.__awaiter(this,void 0,void 0,(function(){var r;return c.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,t.initialize(this.$r,this.zd,this.platform,this.clientId,i,e)];case 1:return u.sent(),this.persistence=t.la(),this.Yd=t.fa(),this.td=t.da(),n.resolve(),[3,3];case 2:if(r=u.sent(),n.reject(r),!this.Xd(r))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),[2,this.Hd(new fi,{aa:!1},i,n)];case 3:return[2]}}))}))},t.prototype.Xd=function(t){return"FirebaseError"===t.name?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Kd=function(){if(this.$r.vu)throw new y(m.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Jd=function(t){var e=this;return sn("FirestoreClient","Initializing. user=",t.uid),this.platform.$d(this.zd).then((function(i){return c.__awaiter(e,void 0,void 0,(function(){var e,n,s,r,o,l,a=this;return c.__generator(this,(function(h){switch(h.label){case 0:return e=new Jn,this.zf=new Mn(this.persistence,e,t),[4,this.zf.start()];case 1:return h.sent(),n=this.platform.Zd(),s=this.platform.tv(this.zd.Dn),r=new gi(this.$r,i,this.credentials,s),o=function(t){return a.dh.Ql(t,0)},l=function(t){return a.dh.Ql(t,1)},this.Kl=new Ui(this.zf,r,this.$r,o,n),this.dh=new Wi(this.zf,this.Kl,this.td,t),this.td.vh=l,this.Kl.dh=this.dh,this.td.dh=this.dh,this.nv=new Yi(this.dh),[4,this.td.start()];case 2:return h.sent(),[4,this.Kl.start()];case 3:return h.sent(),[4,this.persistence.na((function(t){return c.__awaiter(a,void 0,void 0,(function(){return c.__generator(this,(function(e){switch(e.label){case 0:return[4,this.dh.kl(t)];case 1:return e.sent(),t&&!this.Yd.ss?this.Yd.start(this.zf):t||this.Yd.stop(),[2]}}))}))}))];case 4:return h.sent(),[4,this.persistence.ia((function(){return c.__awaiter(a,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return h.sent(),[2]}}))}))}))},t.prototype.Pl=function(t){return this.$r.Iu(),sn("FirestoreClient","Credential Changed. Current user: "+t.uid),this.dh.Pl(t)},t.prototype.disableNetwork=function(){var t=this;return this.Kd(),this.$r.enqueue((function(){return t.dh.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.$r.pu((function(){return c.__awaiter(t,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.Yd.stop(),[4,this.Kl.shutdown()];case 1:return t.sent(),[4,this.td.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.m(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Kd();var e=new Sn;return this.$r.ou((function(){return t.dh.Td(e)})),e.promise},t.prototype.listen=function(t,e,i){var n=this;this.Kd();var r=new Ji(t,e,i);return this.$r.ou((function(){return n.nv.listen(r)})),r},t.prototype.wl=function(t){var e=this;this.iv||this.$r.ou((function(){return e.nv.wl(t)}))},t.prototype.ev=function(t){var e=this;return this.Kd(),this.$r.enqueue((function(){return e.zf.qo(t)})).then((function(t){if(t instanceof Qt)return t;if(t instanceof Zt)return null;throw new y(m.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.rv=function(t){var e=this;return this.Kd(),this.$r.enqueue((function(){return c.__awaiter(e,void 0,void 0,(function(){var e,i,n;return c.__generator(this,(function(r){switch(r.label){case 0:return[4,this.zf.Ko(t,!0)];case 1:return e=r.sent(),i=new zi(t,e.Yo),n=i.xl(e.documents),[2,i.qs(n,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.Kd();var i=new Sn;return this.$r.ou((function(){return e.dh.write(t,i)})),i.promise},t.prototype.Dn=function(){return this.zd.Dn},t.prototype.xd=function(t){var e=this;this.Kd(),this.$r.ou((function(){return e.nv.xd(t),Promise.resolve()}))},t.prototype.jd=function(t){this.iv||this.nv.jd(t)},Object.defineProperty(t.prototype,"iv",{get:function(){return this.$r.vu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Kd();var i=new Sn;return this.$r.ou((function(){return e.dh.runTransaction(e.$r,t,i),Promise.resolve()})),i.promise},t}(),Qi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.uv(this.observer.next,t)},t.prototype.error=function(t){this.uv(this.observer.error,t)},t.prototype.sv=function(){this.muted=!0},t.prototype.uv=function(t,e){var i=this;this.muted||setTimeout((function(){i.muted||t(e)}),0)},t}();function Zi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var i=t,n=0,r=["next","error","complete"];n<r.length;n++){var u=r[n];if(u in i&&"function"==typeof i[u])return!0}return!1}(t)}var hr=Cn.Xu,er=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new y(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else V("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=A(t.ssl,!0);if(W("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?an("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&an("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=A(t.timestampsInSnapshots,!0),F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Cn.Zu;else{if(t.cacheSizeBytes!==hr&&t.cacheSizeBytes<Cn.$u)throw new y(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Cn.$u);this.cacheSizeBytes=t.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),nr=function(){function t(e,i,n){var s=this;if(void 0===n&&(n=new fi),this.ov=null,this.hv=new kn,this.INTERNAL={delete:function(){return c.__awaiter(s,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.cv(),[4,this.av.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var r=e;this.ov=r,this.fv=t.lv(r),this.dv=r.name,this.vv=new S(i)}else{var o=e;if(!o.projectId)throw new y(m.INVALID_ARGUMENT,"Must provide projectId");this.fv=new mn(o.projectId,o.database),this.dv="[DEFAULT]",this.vv=new _}this.wv=n,this.mv=new er({}),this.gv=this.bv(this.fv)}return t.prototype.settings=function(t){if(P("Firestore.settings",arguments,1),L("Firestore.settings","object",1,t),D(t,"persistence"))throw new y(m.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new er(t);if(this.av&&!this.mv.isEqual(e))throw new y(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.mv=e,void 0!==e.credentials&&(this.vv=E(e.credentials))},t.prototype.enableNetwork=function(){return this.cv(),this.av.enableNetwork()},t.prototype.disableNetwork=function(){return this.cv(),this.av.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.av)throw new y(m.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&an("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=A(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.pv(this.wv,{aa:!0,cacheSizeBytes:this.mv.cacheSizeBytes,synchronizeTabs:e})},t.prototype.clearPersistence=function(){return c.__awaiter(this,void 0,void 0,(function(){var t,e=this;return c.__generator(this,(function(i){if(void 0!==this.av&&!this.av.iv)throw new y(m.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Sn,this.hv.wu((function(){return c.__awaiter(e,void 0,void 0,(function(){var e,i;return c.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this.yv(),[4,this.wv.clearPersistence(e)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return i=n.sent(),t.reject(i),[3,3];case 3:return[2]}}))}))})),[2,t.promise]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_v",{get:function(){return this.cv(),this.av.iv},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.cv(),this.av.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.cv(),Zi(t))return this.Iv(t);L("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.Iv(e)},t.prototype.Iv=function(t){var e=this,i=new Qi({next:function(){t.next&&t.next()},error:function(t){throw cn("Uncaught Error in onSnapshotsInSync")}});return this.av.xd(i),function(){i.sv(),e.av.jd(i)}},t.prototype.cv=function(){return this.av||this.pv(new fi,{aa:!1}),this.av},t.prototype.yv=function(){return new vn(this.fv,this.dv,this.mv.host,this.mv.ssl,this.mv.forceLongPolling)},t.prototype.pv=function(t,e){ln(!!this.mv.host,"FirestoreSettings.host is not set"),ln(!this.av,"configureClient() called multiple times");var i=this.yv();return this.av=new Xi(nn.C(),i,this.vv,this.hv),this.av.start(t,e)},t.prototype.bv=function(t){return new Pi((function(e){if(e instanceof or){var i=t,n=e.firestore.fv;if(!n.isEqual(i))throw new y(m.INVALID_ARGUMENT,"Document reference is for database "+n.projectId+"/"+n.database+" but should be for database "+i.projectId+"/"+i.database);return new xi(t,e.Tv)}return e}))},t.lv=function(t){var e=t.options;if(!D(e,"projectId"))throw new y(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var i=e.projectId;if(!i||"string"!=typeof i)throw new y(m.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new mn(i)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ov)throw new y(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ov},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return P("Firestore.collection",arguments,1),L("Firestore.collection","non-empty string",1,t),this.cv(),new lr(ut.et(t),this)},t.prototype.doc=function(t){return P("Firestore.doc",arguments,1),L("Firestore.doc","non-empty string",1,t),this.cv(),or.Ev(ut.et(t),this)},t.prototype.collectionGroup=function(t){if(P("Firestore.collectionGroup",arguments,1),L("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new y(m.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.cv(),new cr(new ae(ut.rt,t),this)},t.prototype.runTransaction=function(t){var e=this;return P("Firestore.runTransaction",arguments,1),L("Firestore.runTransaction","function",1,t),this.cv().transaction((function(i){return t(new ir(e,i))}))},t.prototype.batch=function(){return this.cv(),new rr(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(li()){case 0:return"debug";case 1:return"error";case 2:return"silent";default:return cn("Unknown log level: "+li())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(P("Firestore.setLogLevel",arguments,1),L("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":on(0);break;case"error":on(1);break;case"silent":on(2);break;default:throw new y(m.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Dv=function(){return this.mv.timestampsInSnapshots},t}(),ir=function(){function t(t,e){this.Rv=t,this.Sv=e}return t.prototype.get=function(t){var e=this;P("Transaction.get",arguments,1);var i=vr("Transaction.get",t,this.Rv);return this.Sv.lookup([i.Tv]).then((function(t){if(!t||1!==t.length)return cn("Mismatch in docs returned from document lookup.");var n=t[0];if(n instanceof Zt)return new ar(e.Rv,i.Tv,null,!1,!1,i.Av);if(n instanceof Qt)return new ar(e.Rv,i.Tv,n,!1,!1,i.Av);throw cn("BatchGetDocumentsRequest returned unexpected document type: "+n.constructor.name)}))},t.prototype.set=function(t,e,i){q("Transaction.set",arguments,2,3);var n=vr("Transaction.set",t,this.Rv);i=fr("Transaction.set",i);var r=gr(n.Av,e,"Transaction.set"),u=r[0],s=r[1],o=i.merge||i.mergeFields?this.Rv.gv.yf(s,u,i.mergeFields):this.Rv.gv.bf(s,u);return this.Sv.set(n.Tv,o),this},t.prototype.update=function(t,e,i){for(var n,r,u=[],s=3;s<arguments.length;s++)u[s-3]=arguments[s];return"string"==typeof e||e instanceof yi?(R("Transaction.update",arguments,3),n=vr("Transaction.update",t,this.Rv),r=this.Rv.gv.Tf("Transaction.update",e,i,u)):(P("Transaction.update",arguments,2),n=vr("Transaction.update",t,this.Rv),r=this.Rv.gv._f("Transaction.update",e)),this.Sv.update(n.Tv,r),this},t.prototype.delete=function(t){P("Transaction.delete",arguments,1);var e=vr("Transaction.delete",t,this.Rv);return this.Sv.delete(e.Tv),this},t}(),rr=function(){function t(t){this.Rv=t,this.Cv=[],this.Pv=!1}return t.prototype.set=function(t,e,i){q("WriteBatch.set",arguments,2,3),this.kv();var n=vr("WriteBatch.set",t,this.Rv);i=fr("WriteBatch.set",i);var r=gr(n.Av,e,"WriteBatch.set"),u=r[0],s=r[1],o=i.merge||i.mergeFields?this.Rv.gv.yf(s,u,i.mergeFields):this.Rv.gv.bf(s,u);return this.Cv=this.Cv.concat(o.hf(n.Tv,Dt.NONE)),this},t.prototype.update=function(t,e,i){for(var n,r,u=[],s=3;s<arguments.length;s++)u[s-3]=arguments[s];return this.kv(),"string"==typeof e||e instanceof yi?(R("WriteBatch.update",arguments,3),n=vr("WriteBatch.update",t,this.Rv),r=this.Rv.gv.Tf("WriteBatch.update",e,i,u)):(P("WriteBatch.update",arguments,2),n=vr("WriteBatch.update",t,this.Rv),r=this.Rv.gv._f("WriteBatch.update",e)),this.Cv=this.Cv.concat(r.hf(n.Tv,Dt.exists(!0))),this},t.prototype.delete=function(t){P("WriteBatch.delete",arguments,1),this.kv();var e=vr("WriteBatch.delete",t,this.Rv);return this.Cv=this.Cv.concat(new xt(e.Tv,Dt.NONE)),this},t.prototype.commit=function(){return c.__awaiter(this,void 0,void 0,(function(){return c.__generator(this,(function(t){return this.kv(),this.Pv=!0,this.Cv.length>0?[2,this.Rv.cv().write(this.Cv)]:[2]}))}))},t.prototype.kv=function(){if(this.Pv)throw new y(m.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),or=function(){function t(t,e,i){this.Tv=t,this.firestore=e,this.Av=i,this.av=this.firestore.cv()}return t.Ev=function(e,i,n){if(e.length%2!=0)throw new y(m.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.it()+" has "+e.length);return new t(new ht(e),i,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Tv.path.$()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lr(this.Tv.path.J(),this.firestore,this.Av)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Tv.path.it()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(P("DocumentReference.collection",arguments,1),L("DocumentReference.collection","non-empty string",1,t),!t)throw new y(m.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ut.et(t);return new lr(this.Tv.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw K("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Tv.isEqual(e.Tv)&&this.Av===e.Av},t.prototype.set=function(t,e){q("DocumentReference.set",arguments,1,2),e=fr("DocumentReference.set",e);var i=gr(this.Av,t,"DocumentReference.set"),n=i[0],r=i[1],u=e.merge||e.mergeFields?this.firestore.gv.yf(r,n,e.mergeFields):this.firestore.gv.bf(r,n);return this.av.write(u.hf(this.Tv,Dt.NONE))},t.prototype.update=function(t,e){for(var i,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return"string"==typeof t||t instanceof yi?(R("DocumentReference.update",arguments,2),i=this.firestore.gv.Tf("DocumentReference.update",t,e,n)):(P("DocumentReference.update",arguments,1),i=this.firestore.gv._f("DocumentReference.update",t)),this.av.write(i.hf(this.Tv,Dt.exists(!0)))},t.prototype.delete=function(){return P("DocumentReference.delete",arguments,0),this.av.write([new xt(this.Tv,Dt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];q("DocumentReference.onSnapshot",arguments,1,4);var i,n={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Zi(t[r])||(W("DocumentReference.onSnapshot",n=t[r],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),r++);var u={includeMetadataChanges:n.includeMetadataChanges};return Zi(t[r])?i=t[r]:(L("DocumentReference.onSnapshot","function",r,t[r]),j("DocumentReference.onSnapshot","function",r+1,t[r+1]),j("DocumentReference.onSnapshot","function",r+2,t[r+2]),i={next:t[r],error:t[r+1],complete:t[r+2]}),this.Nv(u,i)},t.prototype.Nv=function(t,e){var i=this,n=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(n=e.error.bind(e));var r=new Qi({next:function(t){if(e.next){ln(t.docs.size<=1,"Too many documents returned on a document query");var n=t.docs.get(i.Tv);e.next(new ar(i.firestore,i.Tv,n,t.fromCache,t.hasPendingWrites,i.Av))}},error:n}),u=this.av.listen(ae.jn(this.Tv.path),r,t);return function(){r.sv(),i.av.wl(u)}},t.prototype.get=function(t){var e=this;return q("DocumentReference.get",arguments,0,1),pr("DocumentReference.get",t),new Promise((function(i,n){t&&"cache"===t.source?e.firestore.cv().ev(e.Tv).then((function(t){i(new ar(e.firestore,e.Tv,t,!0,t instanceof Qt&&t.rn,e.Av))}),n):e.Ov(i,n,t)}))},t.prototype.Ov=function(t,e,i){var n=this.Nv({includeMetadataChanges:!0,Wd:!0},{next:function(r){n(),!r.exists&&r.metadata.fromCache?e(new y(m.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&i&&"server"===i.source?e(new y(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this.Tv,this.firestore,e)},t}(),sr=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ar=function(){function t(t,e,i,n,r,u){this.Rv=t,this.Tv=e,this.Fv=i,this.Vv=n,this.Uv=r,this.Av=u}return t.prototype.data=function(t){if(q("DocumentSnapshot.data",arguments,0,1),t=dr("DocumentSnapshot.data",t),this.Fv){if(this.Av){var e=new ur(this.Rv,this.Tv,this.Fv,this.Vv,this.Uv);return this.Av.fromFirestore(e,t)}return this.xv(this.Fv.data(),Rt.gn(t,this.Rv.Dv()))}},t.prototype.get=function(t,e){if(q("DocumentSnapshot.get",arguments,1,2),e=dr("DocumentSnapshot.get",e),this.Fv){var i=this.Fv.data().field(Li("DocumentSnapshot.get",t));if(null!==i)return this.jv(i,Rt.gn(e,this.Rv.Dv()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Tv.path.$()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new or(this.Tv,this.Rv,this.Av)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Fv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new sr(this.Uv,this.Vv)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw K("isEqual","DocumentSnapshot",1,e);return this.Rv===e.Rv&&this.Vv===e.Vv&&this.Tv.isEqual(e.Tv)&&(null===this.Fv?null===e.Fv:this.Fv.isEqual(e.Fv))&&this.Av===e.Av},t.prototype.xv=function(t,e){var i=this,n={};return t.forEach((function(t,r){n[t]=i.jv(r,e)})),n},t.prototype.jv=function(t,e){if(t instanceof Kt)return this.xv(t,e);if(t instanceof Jt)return this.Lv(t,e);if(t instanceof Gt){var i=t.value(e),n=this.Rv.cv().Dn();return t.Dn.isEqual(n)||an("Document "+this.Tv.path+" contains a document reference within a different database ("+t.Dn.projectId+"/"+t.Dn.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new or(i,this.Rv,this.Av)}return t.value(e)},t.prototype.Lv=function(t,e){var i=this;return t.Jt.map((function(t){return i.jv(t,e)}))},t}(),ur=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(i,t),i.prototype.data=function(e){var i=t.prototype.data.call(this,e);return ln(void 0!==i,"Document in a QueryDocumentSnapshot should exist"),i},i}(ar),cr=function(){function t(t,e,i){this.qv=t,this.firestore=e,this.Av=i}return t.prototype.where=function(e,i,n){P("Query.where",arguments,3),G("Query.where",3,n);var r,u=["<","<=","==",">=",">","array-contains","in","array-contains-any"];U("Query.where",u,2,i);var s=Li("Query.where",e),o=ue.et(i);if(s.st()){if(o===ue.ARRAY_CONTAINS||o===ue.ARRAY_CONTAINS_ANY)throw new y(m.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===ue.IN){this.Bv(n,o);for(var c=[],l=0,a=n;l<a.length;l++){var h=a[l];c.push(this.Mv(h))}r=new Jt(c)}else r=this.Mv(n)}else o!==ue.IN&&o!==ue.ARRAY_CONTAINS_ANY||this.Bv(n,o),r=this.firestore.gv.Ef("Query.where",n,o===ue.IN);var f=ce.create(s,o,r);return this.Qv(f),new t(this.qv.Bn(f),this.firestore,this.Av)},t.prototype.orderBy=function(e,i){var n;if(q("Query.orderBy",arguments,1,2),j("Query.orderBy","non-empty string",2,i),void 0===i||"asc"===i)n=ve.ASCENDING;else{if("desc"!==i)throw new y(m.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+i+"', expected 'asc' or 'desc'.");n=ve.DESCENDING}if(null!==this.qv.startAt)throw new y(m.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.qv.endAt)throw new y(m.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Li("Query.orderBy",e),u=new ge(r,n);return this.Gv(u),new t(this.qv.Qn(u),this.firestore,this.Av)},t.prototype.limit=function(e){return P("Query.limit",arguments,1),L("Query.limit","number",1,e),Y("Query.limit",1,e),new t(this.qv.Gn(e),this.firestore,this.Av)},t.prototype.limitToLast=function(e){return P("Query.limitToLast",arguments,1),L("Query.limitToLast","number",1,e),Y("Query.limitToLast",1,e),new t(this.qv.Wn(e),this.firestore,this.Av)},t.prototype.startAt=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];R("Query.startAt",arguments,1);var r=this.Wv("Query.startAt",e,i,!0);return new t(this.qv.zn(r),this.firestore,this.Av)},t.prototype.startAfter=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];R("Query.startAfter",arguments,1);var r=this.Wv("Query.startAfter",e,i,!1);return new t(this.qv.zn(r),this.firestore,this.Av)},t.prototype.endBefore=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];R("Query.endBefore",arguments,1);var r=this.Wv("Query.endBefore",e,i,!0);return new t(this.qv.Kn(r),this.firestore,this.Av)},t.prototype.endAt=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];R("Query.endAt",arguments,1);var r=this.Wv("Query.endAt",e,i,!1);return new t(this.qv.Kn(r),this.firestore,this.Av)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw K("isEqual","Query",1,e);return this.firestore===e.firestore&&this.qv.isEqual(e.qv)},t.prototype.withConverter=function(e){return new t(this.qv,this.firestore,e)},t.prototype.Wv=function(t,e,i,n){if(G(t,1,e),e instanceof ar){if(i.length>0)throw new y(m.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new y(m.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.zv(t,r.Fv,n)}var u=[e].concat(i);return this.Kv(t,u,n)},t.prototype.zv=function(t,e,i){for(var n=[],r=0,u=this.qv.orderBy;r<u.length;r++){var s=u[r];if(s.field.st())n.push(new Gt(this.firestore.fv,e.key));else{var o=e.field(s.field);if(o instanceof zt)throw new y(m.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===o){var c=s.field.it();throw new y(m.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}n.push(o)}}return new me(n,i)},t.prototype.Kv=function(t,e,i){var n=this.qv.On;if(e.length>n.length)throw new y(m.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],u=0;u<e.length;u++){var s=e[u];if(n[u].field.st()){if("string"!=typeof s)throw new y(m.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.qv.ui()&&-1!==s.indexOf("/"))throw new y(m.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var o=this.qv.path.child(ut.et(s));if(!ht.ct(o))throw new y(m.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+o+"' is not because it contains an odd number of segments.");var c=new ht(o);r.push(new Gt(this.firestore.fv,c))}else{var l=this.firestore.gv.Ef(t,s);r.push(l)}}return new me(r,i)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];q("Query.onSnapshot",arguments,1,4);var i,n={},r=0;return"object"!=typeof t[r]||Zi(t[r])||(W("Query.onSnapshot",n=t[r],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),r++),Zi(t[r])?i=t[r]:(L("Query.onSnapshot","function",r,t[r]),j("Query.onSnapshot","function",r+1,t[r+1]),j("Query.onSnapshot","function",r+2,t[r+2]),i={next:t[r],error:t[r+1],complete:t[r+2]}),this.Hv(this.qv),this.Nv(n,i)},t.prototype.Nv=function(t,e){var i=this,n=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(n=e.error.bind(e));var r=new Qi({next:function(t){e.next&&e.next(new br(i.firestore,i.qv,t,i.Av))},error:n}),u=this.firestore.cv(),s=u.listen(this.qv,r,t);return function(){r.sv(),u.wl(s)}},t.prototype.Hv=function(t){if(t.ei()&&0===t.On.length)throw new y(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return q("Query.get",arguments,0,1),pr("Query.get",t),this.Hv(this.qv),new Promise((function(i,n){t&&"cache"===t.source?e.firestore.cv().rv(e.qv).then((function(t){i(new br(e.firestore,e.qv,t,e.Av))}),n):e.Ov(i,n,t)}))},t.prototype.Ov=function(t,e,i){var n=this.Nv({includeMetadataChanges:!0,Wd:!0},{next:function(r){n(),r.metadata.fromCache&&i&&"server"===i.source?e(new y(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.Mv=function(t){if("string"==typeof t){if(""===t)throw new y(m.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.qv.ui()&&-1!==t.indexOf("/"))throw new y(m.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.qv.path.child(ut.et(t));if(!ht.ct(e))throw new y(m.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Gt(this.firestore.fv,new ht(e))}if(t instanceof or){var i=t;return new Gt(this.firestore.fv,i.Tv)}throw new y(m.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+H(t)+".")},t.prototype.Bv=function(t,e){if(!Array.isArray(t)||0===t.length)throw new y(m.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new y(m.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new y(m.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new y(m.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Qv=function(t){if(t instanceof ce){var e=[ue.ARRAY_CONTAINS,ue.ARRAY_CONTAINS_ANY],i=[ue.IN,ue.ARRAY_CONTAINS_ANY],n=e.indexOf(t.op)>=0,r=i.indexOf(t.op)>=0;if(t.Mn()){var u=this.qv.Ln();if(null!==u&&!u.isEqual(t.field))throw new y(m.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+u.toString()+"' and '"+t.field.toString()+"'");var s=this.qv.qn();null!==s&&this.Jv(t.field,s)}else if(r||n){var o=null;if(r&&(o=this.qv.ri(i)),null===o&&n&&(o=this.qv.ri(e)),null!=o)throw o===t.op?new y(m.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new y(m.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+o.toString()+"' filters.")}}},t.prototype.Gv=function(t){if(null===this.qv.qn()){var e=this.qv.Ln();null!==e&&this.Jv(e,t.field)}},t.prototype.Jv=function(t,e){if(!e.isEqual(t))throw new y(m.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),br=function(){function t(t,e,i,n){this.Rv=t,this.Yv=e,this.Xv=i,this.Av=n,this.$v=null,this.Zv=null,this.metadata=new sr(i.hasPendingWrites,i.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Xv.docs.Y()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Xv.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var i=this;q("QuerySnapshot.forEach",arguments,1,2),L("QuerySnapshot.forEach","function",1,t),this.Xv.docs.forEach((function(n){t.call(e,i.tw(n))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new cr(this.Yv,this.Rv,this.Av)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(W("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Xv.Ii)throw new y(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.$v&&this.Zv===e||(this.$v=function(t,e,i,n){if(i.pi.Y()){var r,u=0;return i.docChanges.map((function(e){var s=new ur(t,e.doc.key,e.doc,i.fromCache,i.yi.has(e.doc.key),n);return ln(0===e.type,"Invalid event type for first snapshot"),ln(!r||i.query.Xn(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:u++}}))}var s=i.pi;return i.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=new ur(t,e.doc.key,e.doc,i.fromCache,i.yi.has(e.doc.key),n),u=-1,o=-1;return 0!==e.type&&(ln((u=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),1!==e.type&&(o=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:mr(e.type),doc:r,oldIndex:u,newIndex:o}}))}(this.Rv,e,this.Xv,this.Av),this.Zv=e),this.$v},t.prototype.isEqual=function(e){if(!(e instanceof t))throw K("isEqual","QuerySnapshot",1,e);return this.Rv===e.Rv&&this.Yv.isEqual(e.Yv)&&this.Xv.isEqual(e.Xv)&&this.Av===e.Av},t.prototype.tw=function(t){return new ur(this.Rv,t.key,t,this.metadata.fromCache,this.Xv.yi.has(t.key),this.Av)},t}();c.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(br.prototype.docChanges,t,{get:function(){return function(){throw new y(m.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var lr=function(t){function i(e,i,n){var r=t.call(this,ae.jn(e),i,n)||this;if(r.nw=e,e.length%2!=1)throw new y(m.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.it()+" has "+e.length);return r}return c.__extends(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this.qv.path.$()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this.qv.path.J();return t.Y()?null:new or(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.qv.path.it()},enumerable:!0,configurable:!0}),i.prototype.doc=function(t){if(q("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=hn.Ur()),L("CollectionReference.doc","non-empty string",1,t),""===t)throw new y(m.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ut.et(t);return or.Ev(this.qv.path.child(e),this.firestore,this.Av)},i.prototype.add=function(t){P("CollectionReference.add",arguments,1);var e=this.Av?this.Av.toFirestore(t):t;L("CollectionReference.add","object",1,e);var i=this.doc();return i.set(t).then((function(){return i}))},i.prototype.withConverter=function(t){return new i(this.nw,this.firestore,t)},i}(cr);function fr(t,e){if(void 0===e)return{merge:!1};if(W(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),function(t,e,i,n,r){void 0!==n&&function(t,e,i,n,r){if(!(n instanceof Array))throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+H(n));for(var u=0;u<n.length;++u)if(!r(n[u]))throw new y(m.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+i+", but the value at index "+u+" was: "+H(n[u]))}(t,e,i,n,r)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof yi})),void 0!==e.mergeFields&&void 0!==e.merge)throw new y(m.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function dr(t,e){return void 0===e?{}:(W(t,e,["serverTimestamps"]),B(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function pr(t,e){j(t,"object",1,e),e&&(W(t,e,["source"]),B(t,0,"source",e.source,["default","server","cache"]))}function vr(t,e,i){if(e instanceof or){if(e.firestore!==i)throw new y(m.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw K(t,"DocumentReference",1,e)}function mr(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cn("Unknown change type: "+t)}}function gr(t,e,i){var n;return t?(n=t.toFirestore(e),i="toFirestore() in "+i):n=e,[n,i]}var yr=T(nr,"Use firebase.firestore() instead."),wr=T(ir,"Use firebase.firestore().runTransaction() instead."),_r=T(rr,"Use firebase.firestore().batch() instead."),Sr=T(or,"Use firebase.firestore().doc() instead."),Ir=T(ar),kr=T(ur),Er=T(cr),Tr=T(br),Dr=T(lr,"Use firebase.firestore().collection() instead."),Ar=function(){function e(t){this.db=t,12.2===e.iw(h.getUA())&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.ew=function(t,i,n){return ln(e.ph(),"IndexedDB not supported in current environment."),sn("SimpleDb","Opening database:",t),new En((function(r,u){var s=window.indexedDB.open(t,i);s.onsuccess=function(t){var i=t.target.result;r(new e(i))},s.onblocked=function(){u(new y(m.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?u(new y(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(e)},s.onupgradeneeded=function(e){sn("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var i=e.target.result;n.createOrUpgrade(i,s.transaction,e.oldVersion,Xr).next((function(){sn("SimpleDb","Database upgrade to version "+Xr+" complete")}))}})).Ou()},e.delete=function(t){return sn("SimpleDb","Removing database:",t),xr(window.indexedDB.deleteDatabase(t)).Ou()},e.ph=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.rw())return!0;if(void 0===window.navigator)return!1;var t=h.getUA(),i=e.iw(t),n=0<i&&i<10,r=e.uw(t),u=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||u)},e.rw=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.sw)},e.ow=function(t,e){return t.store(e)},e.iw=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.uw=function(t){var e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.hw=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,i){return c.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,l;return c.__generator(this,(function(h){switch(h.label){case 0:n="readonly"===t,r=0,s=function(){var t,s,l,h;return c.__generator(this,(function(u){switch(u.label){case 0:++r,t=Nr.open(o.db,n?"readonly":"readwrite",e),u.label=1;case 1:return u.trys.push([1,3,,4]),(s=i(t).catch((function(e){return t.abort(e),En.reject(e)})).Ou()).catch((function(){})),[4,t.cw];case 2:return u.sent(),[2,{value:s}];case 3:return l=u.sent(),h="FirebaseError"!==l.name&&r<3,sn("SimpleDb","Transaction failed with error: %s. Retrying: %s.",l.message,h),h?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},o=this,h.label=1;case 1:return[5,s()];case 2:return"object"==typeof(l=h.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Cr=function(){function t(t){this.aw=t,this.fw=!1,this.lw=null}return Object.defineProperty(t.prototype,"Cu",{get:function(){return this.fw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dw",{get:function(){return this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.aw=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.fw=!0},t.prototype.vw=function(t){this.lw=t},t.prototype.delete=function(){return xr(this.aw.delete())},t}(),Nr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.ww=new Sn,this.transaction.oncomplete=function(){e.ww.resolve()},this.transaction.onabort=function(){t.error?e.ww.reject(t.error):e.ww.resolve()},this.transaction.onerror=function(t){var i=Rr(t.target.error);e.ww.reject(i)}}return t.open=function(e,i,n){return new t(e.transaction(n,i))},Object.defineProperty(t.prototype,"cw",{get:function(){return this.ww.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.ww.reject(t),this.aborted||(sn("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return ln(!!e,"Object store not part of transaction: "+t),new Or(e)},t}(),Or=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var i;return void 0!==e?(sn("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(sn("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),xr(i)},t.prototype.add=function(t){return sn("SimpleDb","ADD",this.store.name,t,t),xr(this.store.add(t))},t.prototype.get=function(t){var e=this;return xr(this.store.get(t)).next((function(i){return void 0===i&&(i=null),sn("SimpleDb","GET",e.store.name,t,i),i}))},t.prototype.delete=function(t){return sn("SimpleDb","DELETE",this.store.name,t),xr(this.store.delete(t))},t.prototype.count=function(){return sn("SimpleDb","COUNT",this.store.name),xr(this.store.count())},t.prototype.mw=function(t,e){var i=this.cursor(this.options(t,e)),n=[];return this.gw(i,(function(t,e){n.push(e)})).next((function(){return n}))},t.prototype.bw=function(t,e){sn("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,e);i.pw=!1;var n=this.cursor(i);return this.gw(n,(function(t,e,i){return i.delete()}))},t.prototype.yw=function(t,e){var i;e?i=t:(i={},e=t);var n=this.cursor(i);return this.gw(n,e)},t.prototype._w=function(t){var e=this.cursor({});return new En((function(i,n){e.onerror=function(t){var e=Rr(t.target.error);n(e)},e.onsuccess=function(e){var n=e.target.result;n?t(n.primaryKey,n.value).next((function(t){t?n.continue():i()})):i()}}))},t.prototype.gw=function(t,e){var i=[];return new En((function(n,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var u=new Cr(r),s=e(r.primaryKey,r.value,u);if(s instanceof En){var o=s.catch((function(t){return u.done(),En.reject(t)}));i.push(o)}u.Cu?n():null===u.dw?r.continue():r.continue(u.dw)}else n()}})).next((function(){return En.Vu(i)}))},t.prototype.options=function(t,e){var i=void 0;return void 0!==t&&("string"==typeof t?i=t:(ln(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:i,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var i=this.store.index(t.index);return t.pw?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function xr(t){return new En((function(e,i){t.onsuccess=function(t){var i=t.target.result;e(i)},t.onerror=function(t){var e=Rr(t.target.error);i(e)}}))}var Pr=!1;function Rr(t){var e=Ar.iw(h.getUA());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var n=new y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pr||(Pr=!0,setTimeout((function(){throw n}),0)),n}}return t}var Mr=function(){function t(t,e,i,n){this.userId=t,this.serializer=e,this.sc=i,this.Ks=n,this.Iw={}}return t.Tw=function(e,i,n,r){return ln(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",i,n,r)},t.prototype.Dc=function(t){var e=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vr(t).yw({index:no.userMutationsIndex,range:i},(function(t,i,n){e=!1,n.done()})).next((function(){return e}))},t.prototype.vo=function(t,e,i){return this.Ew(t).next((function(e){return e.lastStreamToken=i.toBase64(),Br(t).put(e)}))},t.prototype.Eo=function(t){return this.Ew(t).next((function(t){return rt.fromBase64String(t.lastStreamToken)}))},t.prototype.Do=function(t,e){return this.Ew(t).next((function(i){return i.lastStreamToken=e.toBase64(),Br(t).put(i)}))},t.prototype.fo=function(t,e,i,n){var r=this,u=Fr(t),s=Vr(t);return s.add({}).next((function(o){ln("number"==typeof o,"Auto-generated key is not a number");for(var c=new gn(o,e,i,n),l=r.serializer.Dw(r.userId,c),a=[],h=new gt((function(t,e){return fn(t.it(),e.it())})),f=0,d=n;f<d.length;f++){var v=d[f],m=io.key(r.userId,v.key.path,o);h=h.add(v.key.path.J()),a.push(s.put(l)),a.push(u.put(m,io.PLACEHOLDER))}return h.forEach((function(e){a.push(r.sc.Ic(t,e))})),t.ec((function(){r.Iw[o]=c.keys()})),En.Vu(a).next((function(){return c}))}))},t.prototype._o=function(t,e){var i=this;return Vr(t).get(e).next((function(t){return t?(ln(t.userId===i.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.serializer.Rw(t)):null}))},t.prototype.do=function(t,e){var i=this;return this.Iw[e]?En.resolve(this.Iw[e]):this._o(t,e).next((function(t){if(t){var n=t.keys();return i.Iw[e]=n,n}return null}))},t.prototype.Lo=function(t,e){var i=this,n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]),u=null;return Vr(t).yw({index:no.userMutationsIndex,range:r},(function(t,e,r){e.userId===i.userId&&(ln(e.batchId>=n,"Should have found mutation after "+n),u=i.serializer.Rw(e)),r.done()})).next((function(){return u}))},t.prototype.To=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Vr(t).yw({index:no.userMutationsIndex,range:e,reverse:!0},(function(t,e,n){i=e.batchId,n.done()})).next((function(){return i}))},t.prototype.uo=function(t){var e=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vr(t).mw(no.userMutationsIndex,i).next((function(t){return t.map((function(t){return e.serializer.Rw(t)}))}))},t.prototype.oc=function(t,e){var i=this,n=io.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),u=[];return Fr(t).yw({range:r},(function(n,r,s){var o=n[0],c=n[1],l=n[2],a=ti(c);if(o===i.userId&&e.path.isEqual(a))return Vr(t).get(l).next((function(t){if(!t)throw cn("Dangling document-mutation reference found: "+n+" which points to "+l);ln(t.userId===i.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),u.push(i.serializer.Rw(t))}));s.done()})).next((function(){return u}))},t.prototype.ac=function(t,e){var i=this,n=new gt(fn),r=[];return e.forEach((function(e){var u=io.prefixForPath(i.userId,e.path),s=IDBKeyRange.lowerBound(u),o=Fr(t).yw({range:s},(function(t,r,u){var s=t[0],o=t[1],c=t[2],l=ti(o);s===i.userId&&e.path.isEqual(l)?n=n.add(c):u.done()}));r.push(o)})),En.Vu(r).next((function(){return i.Sw(t,n)}))},t.prototype.wc=function(t,e){var i=this;ln(!e.Nn(),"Document queries shouldn't go down this path"),ln(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,u=io.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(u),o=new gt(fn);return Fr(t).yw({range:s},(function(t,e,u){var s=t[0],c=t[1],l=t[2],a=ti(c);s===i.userId&&n.Z(a)?a.length===r&&(o=o.add(l)):u.done()})).next((function(){return i.Sw(t,o)}))},t.prototype.Sw=function(t,e){var i=this,n=[],r=[];return e.forEach((function(e){r.push(Vr(t).get(e).next((function(t){if(null===t)throw cn("Dangling document-mutation reference found, which points to "+e);ln(t.userId===i.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.push(i.serializer.Rw(t))})))})),En.Vu(r).next((function(){return n}))},t.prototype.Io=function(t,e){var i=this;return jr(t.Aw,this.userId,e).next((function(n){return t.ec((function(){i.th(e.batchId)})),En.forEach(n,(function(e){return i.Ks.Pc(t,e)}))}))},t.prototype.th=function(t){delete this.Iw[t]},t.prototype.po=function(t){var e=this;return this.Dc(t).next((function(i){if(!i)return En.resolve();var n=IDBKeyRange.lowerBound(io.prefixForUser(e.userId)),r=[];return Fr(t).yw({range:n},(function(t,i,n){if(t[0]===e.userId){var u=ti(t[1]);r.push(u)}else n.done()})).next((function(){ln(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(t){return t.it()})))}))}))},t.prototype.Cs=function(t,e){return Lr(t,this.userId,e)},t.prototype.Ew=function(t){var e=this;return Br(t).get(this.userId).next((function(t){return t||new eo(e.userId,-1,"")}))},t}();function Lr(t,e,i){var n=io.prefixForPath(e,i.path),r=n[1],u=IDBKeyRange.lowerBound(n),s=!1;return Fr(t).yw({range:u,pw:!0},(function(t,i,n){var u=t[0],o=t[1];t[2],u===e&&o===r&&(s=!0),n.done()})).next((function(){return s}))}function jr(t,e,i){var n=t.store(no.store),r=t.store(io.store),u=[],s=IDBKeyRange.only(i.batchId),o=0,c=n.yw({range:s},(function(t,e,i){return o++,i.delete()}));u.push(c.next((function(){ln(1===o,"Dangling document-mutation reference found: Missing batch "+i.batchId)})));for(var l=[],a=0,h=i.mutations;a<h.length;a++){var f=h[a],d=io.key(e,f.key.path,i.batchId);u.push(r.delete(d)),l.push(f.key)}return En.Vu(u).next((function(){return l}))}function Vr(t){return ko.ow(t,no.store)}function Fr(t){return ko.ow(t,io.store)}function Br(t){return ko.ow(t,eo.store)}var Ur=function(){function t(t,e){this.Ks=t,this.serializer=e,this.Wc=oi.qc()}return t.prototype.Go=function(t){var e=this;return this.Cw(t).next((function(i){return i.highestTargetId=e.Wc.after(i.highestTargetId),e.Pw(t,i).next((function(){return i.highestTargetId}))}))},t.prototype.Ro=function(t){return this.Cw(t).next((function(t){return dt.L(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.zc=function(t){return zr(t.Aw)},t.prototype.Fo=function(t,e,i){var n=this;return this.Cw(t).next((function(r){return r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.G()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),n.Pw(t,r)}))},t.prototype.Wo=function(t,e){var i=this;return this.Kc(t,e).next((function(){return i.Cw(t).next((function(n){return n.targetCount+=1,i.kw(e,n),i.Pw(t,n)}))}))},t.prototype.No=function(t,e){return this.Kc(t,e)},t.prototype.Hc=function(t,e){var i=this;return this.Jc(t,e.targetId).next((function(){return $r(t).delete(e.targetId)})).next((function(){return i.Cw(t)})).next((function(e){return ln(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,i.Pw(t,e)}))},t.prototype.ds=function(t,e,i){var n=this,r=0,u=[];return $r(t).yw((function(s,o){var c=n.serializer.Nw(o);c.sequenceNumber<=e&&null===i.get(c.targetId)&&(r++,u.push(n.Hc(t,c)))})).next((function(){return En.Vu(u)})).next((function(){return r}))},t.prototype.oe=function(t,e){var i=this;return $r(t).yw((function(t,n){var r=i.serializer.Nw(n);e(r)}))},t.prototype.Cw=function(t){return qr(t.Aw)},t.prototype.Pw=function(t,e){return(i=t,ko.ow(i,lo.store)).put(lo.key,e);var i},t.prototype.Kc=function(t,e){return $r(t).put(this.serializer.Ow(e))},t.prototype.kw=function(t,e){var i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},t.prototype.Yc=function(t){return this.Cw(t).next((function(t){return t.targetCount}))},t.prototype.Qo=function(t,e){var i=this,n=e.canonicalId(),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),u=null;return $r(t).yw({range:r,index:uo.queryTargetsIndexName},(function(t,n,r){var s=i.serializer.Nw(n);e.isEqual(s.target)&&(u=s,r.done())})).next((function(){return u}))},t.prototype.Co=function(t,e,i){var n=this,r=[],u=Hr(t);return e.forEach((function(e){var s=Xn(e.path);r.push(u.put(new co(i,s))),r.push(n.Ks._s(t,e))})),En.Vu(r)},t.prototype.Ao=function(t,e,i){var n=this,r=Hr(t);return En.forEach(e,(function(e){var u=Xn(e.path);return En.Vu([r.delete([i,u]),n.Ks.Ts(t,e)])}))},t.prototype.Jc=function(t,e){var i=Hr(t),n=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(n)},t.prototype.Ho=function(t,e){var i=IDBKeyRange.bound([e],[e+1],!1,!0),n=Hr(t),r=Pe();return n.yw({range:i,pw:!0},(function(t,e,i){var n=ti(t[1]),u=new ht(n);r=r.add(u)})).next((function(){return r}))},t.prototype.Cs=function(t,e){var i=Xn(e.path),n=IDBKeyRange.bound([i],[pn(i)],!1,!0),r=0;return Hr(t).yw({index:co.documentTargetsIndex,pw:!0,range:n},(function(t,e,i){var n=t[0];t[1],0!==n&&(r++,i.done())})).next((function(){return r>0}))},t.prototype.be=function(t,e){var i=this;return $r(t).get(e).next((function(t){return t?i.serializer.Nw(t):null}))},t}();function $r(t){return ko.ow(t,uo.store)}function qr(t){return Ar.ow(t,lo.store).get(lo.key).next((function(t){return ln(null!==t,"Missing metadata row."),t}))}function zr(t){return qr(t).next((function(t){return t.highestListenSequenceNumber}))}function Hr(t){return ko.ow(t,co.store)}var Gr=function(){function t(t,e){this.serializer=t,this.sc=e}return t.prototype.Fs=function(t,e,i){return Kr(t).put(Yr(e),i)},t.prototype.Us=function(t,e){var i=Kr(t),n=Yr(e);return i.delete(n)},t.prototype.updateMetadata=function(t,e){var i=this;return this.getMetadata(t).next((function(n){return n.byteSize+=e,i.Fw(t,n)}))},t.prototype.xs=function(t,e){var i=this;return Kr(t).get(Yr(e)).next((function(t){return i.Vw(t)}))},t.prototype.Uw=function(t,e){var i=this;return Kr(t).get(Yr(e)).next((function(t){var e=i.Vw(t);return e?{Nc:e,size:Jr(t)}:null}))},t.prototype.getEntries=function(t,e){var i=this,n=De();return this.xw(t,e,(function(t,e){var r=i.Vw(e);n=n.dt(t,r)})).next((function(){return n}))},t.prototype.jw=function(t,e){var i=this,n=De(),r=new ft(ht.W);return this.xw(t,e,(function(t,e){var u=i.Vw(e);u?(n=n.dt(t,u),r=r.dt(t,Jr(e))):(n=n.dt(t,null),r=r.dt(t,0))})).next((function(){return{Lw:n,qw:r}}))},t.prototype.xw=function(t,e,i){if(e.Y())return En.resolve();var n=IDBKeyRange.bound(e.first().path.nt(),e.last().path.nt()),r=e.yt(),u=r.Rt();return Kr(t).yw({range:n},(function(t,e,n){for(var s=ht.ft(t);u&&ht.W(u,s)<0;)i(u,null),u=r.Rt();u&&u.isEqual(s)&&(i(u,e),u=r.St()?r.Rt():null),u?n.vw(u.path.nt()):n.done()})).next((function(){for(;u;)i(u,null),u=r.St()?r.Rt():null}))},t.prototype.Jo=function(t,e,i){var n=this;ln(!e.ui(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ce(),u=e.path.length+1,s={};if(i.isEqual(dt.MIN)){var o=e.path.nt();s.range=IDBKeyRange.lowerBound(o)}else{var c=e.path.nt(),l=this.serializer.Bw(i);s.range=IDBKeyRange.lowerBound([c,l],!0),s.index=so.collectionReadTimeIndex}return Kr(t).yw(s,(function(t,i,s){if(t.length===u){var o=n.serializer.Mw(i);e.path.Z(o.key.path)?o instanceof Qt&&e.matches(o)&&(r=r.dt(o.key,o)):s.done()}})).next((function(){return r}))},t.prototype.eh=function(t,e){var i=this,n=Te(),r=this.serializer.Bw(e),u=Kr(t),s=IDBKeyRange.lowerBound(r,!0);return u.yw({index:so.readTimeIndex,range:s},(function(t,e){var u=i.serializer.Mw(e);n=n.dt(u.key,u),r=e.readTime})).next((function(){return{rh:n,readTime:i.serializer.Qw(r)}}))},t.prototype.uh=function(t){var e=this,i=Kr(t),n=dt.MIN;return i.yw({index:so.readTimeIndex,reverse:!0},(function(t,i,r){i.readTime&&(n=e.serializer.Qw(i.readTime)),r.done()})).next((function(){return n}))},t.prototype.wo=function(e){return new t.Fc(this,!!e&&e.mo)},t.prototype.Vc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Wr(t).get(ao.key).next((function(t){return ln(!!t,"Missing document cache metadata"),t}))},t.prototype.Fw=function(t,e){return Wr(t).put(ao.key,e)},t.prototype.Vw=function(t){if(t){var e=this.serializer.Mw(t);return e instanceof Zt&&e.version.isEqual(dt.q())?null:e}return null},t.Fc=function(t){function i(e,i){var n=t.call(this)||this;return n.Uc=e,n.mo=i,n.Gw=new bn((function(t){return t.toString()})),n}return c.__extends(i,t),i.prototype.qs=function(t){var e=this,i=[],n=0,r=new gt((function(t,e){return fn(t.it(),e.it())}));return this.ks.forEach((function(u,s){var o=e.Gw.get(u);if(ln(void 0!==o,"Cannot modify a document that wasn't read (for "+u+")"),s){ln(!e.readTime.isEqual(dt.MIN),"Cannot add a document with a read time of zero");var c=e.Uc.serializer.Ww(s,e.readTime);r=r.add(u.path.J());var l=Jr(c);n+=l-o,i.push(e.Uc.Fs(t,u,c))}else if(n-=o,e.mo){var a=e.Uc.serializer.Ww(new Zt(u,dt.q()),e.readTime);i.push(e.Uc.Fs(t,u,a))}else i.push(e.Uc.Us(t,u))})),r.forEach((function(n){i.push(e.Uc.sc.Ic(t,n))})),i.push(this.Uc.updateMetadata(t,n)),En.Vu(i)},i.prototype.js=function(t,e){var i=this;return this.Uc.Uw(t,e).next((function(t){return null===t?(i.Gw.set(e,0),null):(i.Gw.set(e,t.size),t.Nc)}))},i.prototype.Ls=function(t,e){var i=this;return this.Uc.jw(t,e).next((function(t){var e=t.Lw;return t.qw.forEach((function(t,e){i.Gw.set(t,e)})),e}))},i}(Rn),t}();function Wr(t){return ko.ow(t,ao.store)}function Kr(t){return ko.ow(t,so.store)}function Yr(t){return t.path.nt()}function Jr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw cn("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Xr=9,Qr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,i,n){var r=this;ln(i<n&&i>=0&&n<=Xr,"Unexpected schema upgrade from v"+i+" to v{toVersion}.");var u=new Nr(e);i<1&&n>=1&&(function(t){t.createObjectStore(to.store)}(t),function(t){t.createObjectStore(eo.store,{keyPath:eo.keyPath}),t.createObjectStore(no.store,{keyPath:no.keyPath,autoIncrement:!0}).createIndex(no.userMutationsIndex,no.userMutationsKeyPath,{unique:!0}),t.createObjectStore(io.store)}(t),fo(t),function(t){t.createObjectStore(so.store)}(t));var s=En.resolve();return i<3&&n>=3&&(0!==i&&(function(t){t.deleteObjectStore(co.store),t.deleteObjectStore(uo.store),t.deleteObjectStore(lo.store)}(t),fo(t)),s=s.next((function(){return function(t){var e=t.store(lo.store),i=new lo(0,0,dt.MIN.G(),0);return e.put(lo.key,i)}(u)}))),i<4&&n>=4&&(0!==i&&(s=s.next((function(){return function(t,e){return e.store(no.store).mw().next((function(i){t.deleteObjectStore(no.store),t.createObjectStore(no.store,{keyPath:no.keyPath,autoIncrement:!0}).createIndex(no.userMutationsIndex,no.userMutationsKeyPath,{unique:!0});var n=e.store(no.store),r=i.map((function(t){return n.put(t)}));return En.Vu(r)}))}(t,u)}))),s=s.next((function(){!function(t){t.createObjectStore(po.store,{keyPath:po.keyPath})}(t)}))),i<5&&n>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(u)}))),i<6&&n>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ao.store)}(t),r.addDocumentGlobal(u)}))),i<7&&n>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(u)}))),i<8&&n>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,u)}))),i<9&&n>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(so.store);e.createIndex(so.readTimeIndex,so.readTimeIndexPath,{unique:!1}),e.createIndex(so.collectionReadTimeIndex,so.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(so.store).yw((function(t,i){e+=Jr(i)})).next((function(){var i=new ao(e);return t.store(ao.store).put(ao.key,i)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,i=t.store(eo.store),n=t.store(no.store);return i.mw().next((function(i){return En.forEach(i,(function(i){var r=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return n.mw(no.userMutationsIndex,r).next((function(n){return En.forEach(n,(function(n){ln(n.userId===i.userId,"Cannot process batch "+n.batchId+" from unexpected user");var r=e.serializer.Rw(n);return jr(t,i.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(co.store),i=t.store(so.store);return zr(t).next((function(t){var n=[];return i.yw((function(i,r){var u=new ut(i),s=function(t){return[0,Xn(t)]}(u);n.push(e.get(s).next((function(i){return i?En.resolve():function(i){return e.put(new co(0,Xn(i),t))}(u)})))})).next((function(){return En.Vu(n)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ho.store,{keyPath:ho.keyPath});var i=e.store(ho.store),n=new ni,r=function(t){if(n.add(t)){var e=t.$(),r=t.J();return i.put({collectionId:e,parent:Xn(r)})}};return e.store(so.store).yw({pw:!0},(function(t,e){var i=new ut(t);return r(i.J())})).next((function(){return e.store(io.store).yw({pw:!0},(function(t,e){t[0];var i=t[1],n=(t[2],ti(i));return r(n.J())}))}))},t}(),Zr=function(t,e){this.seconds=t,this.nanoseconds=e},to=function(){function t(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}return t.store="owner",t.key="owner",t}(),eo=function(){function t(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}return t.store="mutationQueues",t.keyPath="userId",t}(),no=function(){function t(t,e,i,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),io=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Xn(e)]},t.key=function(t,e,i){return[t,Xn(e),i]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),ro=function(t,e){this.path=t,this.readTime=e},oo=function(t,e){this.path=t,this.version=e},so=function(){function t(t,e,i,n,r,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=n,this.readTime=r,this.parentPath=u}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),ao=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),uo=function(){function t(t,e,i,n,r,u,s){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=n,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=u,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),co=function(){function t(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i,ln(0===t==(void 0!==i),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),lo=function(){function t(t,e,i,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),ho=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function fo(t){t.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.documentTargetsIndex,co.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(uo.store,{keyPath:uo.keyPath}).createIndex(uo.queryTargetsIndexName,uo.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lo.store)}var po=function(){function t(t,e,i,n){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=n}return t.store="clientMetadata",t.keyPath="clientId",t}(),vo=[eo.store,no.store,io.store,so.store,uo.store,to.store,lo.store,co.store],mo=c.__spreadArrays(vo,[po.store]),go=c.__spreadArrays(mo,[ao.store]),yo=c.__spreadArrays(go,[ho.store]),bo=function(){function t(){this.zw=new ni}return t.prototype.Ic=function(t,e){var i=this;if(ln(e.length%2==1,"Expected a collection path."),!this.zw.has(e)){var n=e.$(),r=e.J();t.ec((function(){i.zw.add(e)}));var u={collectionId:n,parent:Xn(r)};return wo(t).put(u)}return En.resolve()},t.prototype.vc=function(t,e){var i=[],n=IDBKeyRange.bound([e,""],[pn(e),""],!1,!0);return wo(t).mw(n).next((function(t){for(var n=0,r=t;n<r.length;n++){var u=r[n];if(u.collectionId!==e)break;i.push(ti(u.parent))}return i}))},t}();function wo(t){return ko.ow(t,ho.store)}var _o=function(){function t(t){this.Kw=t}return t.prototype.Mw=function(t){if(t.document)return this.Kw.We(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.ft(t.noDocument.path),i=this.Hw(t.noDocument.readTime);return new Zt(e,i,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ht.ft(t.unknownDocument.path),i=this.Hw(t.unknownDocument.version),new te(e,i)):cn("Unexpected DbRemoteDocument")},t.prototype.Ww=function(t,e){var i=this.Bw(e),n=t.key.path.J().nt();if(t instanceof Qt){var r=t.proto?t.proto:this.Kw.Ge(t),u=t.hasCommittedMutations;return new so(null,null,r,u,i,n)}if(t instanceof Zt){var s=t.key.path.nt(),o=this.Jw(t.version);return u=t.hasCommittedMutations,new so(null,new ro(s,o),null,u,i,n)}if(t instanceof te){s=t.key.path.nt();var c=this.Jw(t.version);return new so(new oo(s,c),null,null,!0,i,n)}return cn("Unexpected MaybeDocument")},t.prototype.Bw=function(t){var e=t.G();return[e.seconds,e.nanoseconds]},t.prototype.Qw=function(t){var e=new st(t[0],t[1]);return dt.L(e)},t.prototype.Jw=function(t){var e=t.G();return new Zr(e.seconds,e.nanoseconds)},t.prototype.Hw=function(t){var e=new st(t.seconds,t.nanoseconds);return dt.L(e)},t.prototype.Dw=function(t,e){var i=this,n=e.baseMutations.map((function(t){return i.Kw.tr(t)})),r=e.mutations.map((function(t){return i.Kw.tr(t)}));return new no(t,e.batchId,e.En.toMillis(),n,r)},t.prototype.Rw=function(t){var e=this,i=(t.baseMutations||[]).map((function(t){return e.Kw.rr(t)})),n=t.mutations.map((function(t){return e.Kw.rr(t)})),r=st.fromMillis(t.localWriteTimeMs);return new gn(t.batchId,r,i,n)},t.prototype.Yw=function(t){var e=[];return t.forEach((function(t){e.push(Xn(t.path))})),e},t.prototype.Xw=function(t){for(var e=Pe(),i=0,n=t;i<n.length;i++){var r=n[i];e=e.add(new ht(ti(r)))}return e},t.prototype.Nw=function(t){var e,i=this.Hw(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?this.Hw(t.lastLimboFreeSnapshotVersion):dt.MIN;return e=void 0!==t.query.documents?this.Kw.lr(t.query):this.Kw.gr(t.query),new we(e,t.targetId,0,t.lastListenSequenceNumber,i,n,rt.fromBase64String(t.resumeToken))},t.prototype.Ow=function(t){ln(0===t.ci,"Only queries with purpose 0 may be stored, got "+t.ci);var e,i=this.Jw(t.ai),n=this.Jw(t.lastLimboFreeSnapshotVersion);e=t.target.Nn()?this.Kw.ar(t.target):this.Kw.dr(t.target);var r=t.resumeToken.toBase64();return new uo(t.targetId,t.target.canonicalId(),i,r,t.sequenceNumber,n,e)},t}(),So="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Io=function(t){function i(e,i){var n=t.call(this)||this;return n.Aw=e,n.Po=i,n}return c.__extends(i,t),i}(Kn),ko=function(){function t(e,i,n,r,u,s,o,c){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=n,this.fh=s,this.$w=c,this.Zc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zw=null,this.inForeground=!1,this.tm=null,this.nm=null,this.im=Number.NEGATIVE_INFINITY,this.em=function(t){return Promise.resolve()},this.Ks=new Do(this,u),this.rm=i+t.um,this.serializer=new _o(o),this.document=r.document,this.$s=new Ur(this.Ks,this.serializer),this.sc=new bo,this.uc=new Gr(this.serializer,this.sc),!r.window||!r.window.localStorage)throw new y(m.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.sm=this.window.localStorage}return t.ow=function(t,e){if(t instanceof Io)return Ar.ow(t.Aw,e);throw cn("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.om=function(e){return c.__awaiter(this,void 0,void 0,(function(){var i;return c.__generator(this,(function(n){switch(n.label){case 0:if(!t.ph())throw new y(m.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(i=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.hm,e.fh,e.serializer,e.$w)).start()];case 1:return n.sent(),[2,i]}}))}))},t.prototype.start=function(){var t=this;return ln(!this.ss,"IndexedDbPersistence double-started!"),ln(null!==this.window,"Expected 'window' to be defined"),Ar.ew(this.rm,Xr,new Qr(this.serializer)).then((function(e){return t.cm=e,t.am()})).then((function(){return t.fm(),t.lm(),t.dm(),t.cm.runTransaction("readonly",[lo.store],(function(t){return zr(t)}))})).then((function(e){t.$c=new _n(e,t.$w)})).then((function(){t.Zc=!0})).catch((function(e){return t.cm&&t.cm.close(),Promise.reject(e)}))},t.prototype.na=function(t){var e=this;return this.em=function(i){return c.__awaiter(e,void 0,void 0,(function(){return c.__generator(this,(function(e){return this.ss?[2,t(i)]:[2]}))}))},t(this.isPrimary)},t.prototype.ia=function(t){var e=this;this.cm.hw((function(i){return c.__awaiter(e,void 0,void 0,(function(){return c.__generator(this,(function(e){switch(e.label){case 0:return null!==i.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.nh=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fh.ou((function(){return c.__awaiter(e,void 0,void 0,(function(){return c.__generator(this,(function(t){switch(t.label){case 0:return this.ss?[4,this.am()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.am=function(){var t=this;return this.cm.runTransaction("readwrite",yo,(function(e){return To(e).put(new po(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.vm(e).next((function(e){e||(t.isPrimary=!1,t.fh.ou((function(){return t.em(!1)})))}))})).next((function(){return t.wm(e)})).next((function(i){return t.isPrimary&&!i?t.mm(e).next((function(){return!1})):!!i&&t.gm(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fh.ou((function(){return t.em(e)})),t.isPrimary=e}))},t.prototype.vm=function(t){var e=this;return Eo(t).get(to.key).next((function(t){return En.resolve(e.bm(t))}))},t.prototype.pm=function(t){return To(t).delete(this.clientId)},t.prototype.ym=function(){return c.__awaiter(this,void 0,void 0,(function(){var e=this;return c.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this._m(this.im,18e5)?[3,2]:(this.im=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var n=t.ow(i,po.store);return n.mw().next((function(t){var i=e.Im(t,18e5),r=t.filter((function(t){return-1===i.indexOf(t)}));return En.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:i.sent().forEach((function(t){e.window.localStorage.removeItem(e.Tm(t.clientId))})),i.label=2;case 2:return[2]}}))}))},t.prototype.dm=function(){var t=this;this.nm=this.fh.yu("client_metadata_refresh",4e3,(function(){return t.am().then((function(){return t.ym()})).then((function(){return t.dm()}))}))},t.prototype.bm=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.wm=function(t){var e=this;return Eo(t).get(to.key).next((function(i){if(null!==i&&e._m(i.leaseTimestampMs,5e3)&&!e.Em(i.ownerId)){if(e.bm(i)&&e.networkEnabled)return!0;if(!e.bm(i)){if(!i.allowTabSynchronization)throw new y(m.FAILED_PRECONDITION,So);return!1}}return!(!e.networkEnabled||!e.inForeground)||To(t).mw().next((function(t){return void 0===e.Im(t,5e3).find((function(t){if(e.clientId!==t.clientId){var i=!e.networkEnabled&&t.networkEnabled,n=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(i||n&&r)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&sn("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return c.__awaiter(this,void 0,void 0,(function(){var t=this;return c.__generator(this,(function(e){switch(e.label){case 0:return this.Zc=!1,this.Dm(),this.nm&&(this.nm.cancel(),this.nm=null),this.Rm(),this.Sm(),[4,this.cm.runTransaction("readwrite",[to.store,po.store],(function(e){return t.mm(e).next((function(){return t.pm(e)}))}))];case 1:return e.sent(),this.cm.close(),this.Am(),[2]}}))}))},t.prototype.Im=function(t,e){var i=this;return t.filter((function(t){return i._m(t.updateTimeMs,e)&&!i.Em(t.clientId)}))},t.prototype.$o=function(){var t=this;return this.cm.runTransaction("readonly",[po.store],(function(e){return To(e).mw().next((function(e){return t.Im(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return c.__awaiter(this,void 0,void 0,(function(){var i;return c.__generator(this,(function(n){switch(n.label){case 0:return t.ph()?(i=e+t.um,[4,Ar.delete(i)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ss",{get:function(){return this.Zc},enumerable:!0,configurable:!0}),t.prototype.Js=function(t){return ln(this.ss,"Cannot initialize MutationQueue before persistence is started."),Mr.Tw(t,this.serializer,this.sc,this.Ks)},t.prototype.Zs=function(){return ln(this.ss,"Cannot initialize TargetCache before persistence is started."),this.$s},t.prototype.Xs=function(){return ln(this.ss,"Cannot initialize RemoteDocumentCache before persistence is started."),this.uc},t.prototype.no=function(){return ln(this.ss,"Cannot initialize IndexManager before persistence is started."),this.sc},t.prototype.runTransaction=function(t,e,i){var n=this;sn("IndexedDbPersistence","Starting transaction:",t);var r,u="readonly"===e?"readonly":"readwrite";return this.cm.runTransaction(u,yo,(function(u){return r=new Io(u,n.$c.next()),"readwrite-primary"===e?n.vm(u).next((function(t){return!!t||n.wm(u)})).next((function(e){if(!e)throw an("Failed to obtain primary lease for action '"+t+"'."),n.isPrimary=!1,n.fh.ou((function(){return n.em(!1)})),new y(m.FAILED_PRECONDITION,Wn);return i(r)})).next((function(t){return n.gm(u).next((function(){return t}))})):n.Cm(u).next((function(){return i(r)}))})).then((function(t){return r.rc(),t}))},t.prototype.Cm=function(t){var e=this;return Eo(t).get(to.key).next((function(t){if(null!==t&&e._m(t.leaseTimestampMs,5e3)&&!e.Em(t.ownerId)&&!e.bm(t)&&!t.allowTabSynchronization)throw new y(m.FAILED_PRECONDITION,So)}))},t.prototype.gm=function(t){var e=new to(this.clientId,this.allowTabSynchronization,Date.now());return Eo(t).put(to.key,e)},t.ph=function(){return Ar.ph()},t.Pm=function(t){var e=t.Dn.projectId;return t.Dn.xr||(e+="."+t.Dn.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.mm=function(t){var e=this,i=Eo(t);return i.get(to.key).next((function(t){return e.bm(t)?(sn("IndexedDbPersistence","Releasing primary lease."),i.delete(to.key)):En.resolve()}))},t.prototype._m=function(t,e){var i=Date.now();return!(t<i-e||t>i&&(an("Detected an update time that is in the future: "+t+" > "+i),1))},t.prototype.fm=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.tm=function(){t.fh.ou((function(){return t.inForeground="visible"===t.document.visibilityState,t.am()}))},this.document.addEventListener("visibilitychange",this.tm),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Rm=function(){this.tm&&(ln(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.tm),this.tm=null)},t.prototype.lm=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Zw=function(){t.Dm(),t.fh.ou((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Zw))},t.prototype.Sm=function(){this.Zw&&(ln("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Zw),this.Zw=null)},t.prototype.Em=function(t){try{var e=null!==this.sm.getItem(this.Tm(t));return sn("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return an("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Dm=function(){try{this.sm.setItem(this.Tm(this.clientId),String(Date.now()))}catch(t){an("Failed to set zombie client id.",t)}},t.prototype.Am=function(){try{this.sm.removeItem(this.Tm(this.clientId))}catch(t){}},t.prototype.Tm=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.um="main",t}();function Eo(t){return t.store(to.store)}function To(t){return t.store(po.store)}var Do=function(){function t(t,e){this.db=t,this.sa=null,this.ns=new On(this,e)}return t.prototype.as=function(t){var e=this.km(t);return this.db.Zs().Yc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.km=function(t){var e=0;return this.ls(t,(function(t){e++})).next((function(){return e}))},t.prototype.oe=function(t,e){return this.db.Zs().oe(t,e)},t.prototype.ls=function(t,e){return this.Nm(t,(function(t,i){return e(i)}))},t.prototype.zs=function(t){this.sa=t},t.prototype._s=function(t,e){return Ao(t,e)},t.prototype.Ts=function(t,e){return Ao(t,e)},t.prototype.ds=function(t,e,i){return this.db.Zs().ds(t,e,i)},t.prototype.Pc=function(t,e){return Ao(t,e)},t.prototype.Om=function(t,e){return this.sa.Cs(e)?En.resolve(!0):function(t,e){var i=!1;return Br(t)._w((function(n){return Lr(t,n,e).next((function(t){return t&&(i=!0),En.resolve(!t)}))})).next((function(){return i}))}(t,e)},t.prototype.vs=function(t,e){var i=this,n=this.db.Xs().wo(),r=[],u=0;return this.Nm(t,(function(s,o){if(o<=e){var c=i.Om(t,s).next((function(e){if(!e)return u++,n.xs(t,s).next((function(){return n.Us(s),Hr(t).delete([0,Xn(s.path)])}))}));r.push(c)}})).next((function(){return En.Vu(r)})).next((function(){return n.apply(t)})).next((function(){return u}))},t.prototype.removeTarget=function(t,e){var i=e.fi(t.Po);return this.db.Zs().No(t,i)},t.prototype.Oo=function(t,e){return Ao(t,e)},t.prototype.Nm=function(t,e){var i,n=Hr(t),r=_n.Xr;return n.yw({index:co.documentTargetsIndex},(function(t,n){var u=t[0],s=(t[1],n.path),o=n.sequenceNumber;0===u?(r!==_n.Xr&&e(new ht(ti(i)),r),r=o,i=s):r=_n.Xr})).next((function(){r!==_n.Xr&&e(new ht(ti(i)),r)}))},t.prototype.ms=function(t){return this.db.Xs().Vc(t)},t}();function Ao(t,e){return Hr(t).put(function(t,e){return new co(0,Xn(t.path),e)}(e,t.Po))}var Co=function(){function t(){}return t.prototype.initialize=function(t,e,i,n,s,r){return c.__awaiter(this,void 0,void 0,(function(){var o,l,h,a;return c.__generator(this,(function(u){switch(u.label){case 0:if(ln(r.aa,"IndexedDbPersistenceProvider can only provide durable persistence"),ln(!this.persistence,"configure() already called"),o=ko.Pm(e),l=new en(e.Dn,{_e:!0}),!Hn.ph(i))throw new y(m.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return this.td=r.synchronizeTabs?new Hn(t,i,o,n,s):new Gn,h=this,[4,ko.om({allowTabSynchronization:r.synchronizeTabs,persistenceKey:o,clientId:n,platform:i,fh:t,serializer:l,hm:Cn.Hu(r.cacheSizeBytes),$w:this.td})];case 1:return h.persistence=u.sent(),a=this.persistence.Ks.ns,this.Yd=new Nn(a,t),[2]}}))}))},t.prototype.la=function(){return ln(!!this.persistence,"initialize() not called"),this.persistence},t.prototype.da=function(){return ln(!!this.td,"initialize() not called"),this.td},t.prototype.fa=function(){return ln(!!this.Yd,"initialize() not called"),this.Yd},t.prototype.clearPersistence=function(t){var e=ko.Pm(t);return ko.clearPersistence(e)},t}(),No={Firestore:yr,GeoPoint:ot,Timestamp:st,Blob:it,Transaction:wr,WriteBatch:_r,DocumentReference:Sr,DocumentSnapshot:Ir,Query:Er,QueryDocumentSnapshot:kr,QuerySnapshot:Tr,CollectionReference:Dr,FieldPath:yi,FieldValue:Ti,setLogLevel:nr.setLogLevel,CACHE_SIZE_UNLIMITED:hr};var Oo=function(){function t(){}return t.prototype.Xf=function(t){},t.prototype.shutdown=function(){},t}(),xo=function(){function t(){var t=this;this.Fm=function(){return t.Vm()},this.Um=function(){return t.xm()},this.jm=[],this.Lm()}return t.prototype.Xf=function(t){this.jm.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Fm),window.removeEventListener("offline",this.Um)},t.prototype.Lm=function(){window.addEventListener("online",this.Fm),window.addEventListener("offline",this.Um)},t.prototype.Vm=function(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.jm;t<e.length;t++)(0,e[t])(0)},t.prototype.xm=function(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.jm;t<e.length;t++)(0,e[t])(1)},t.ph=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Po=function(){function t(t){this.qm=t.qm,this.Bm=t.Bm}return t.prototype.Ma=function(t){ln(!this.Mm,"Called onOpen on stream twice!"),this.Mm=t},t.prototype.xa=function(t){ln(!this.Qm,"Called onClose on stream twice!"),this.Qm=t},t.prototype.onMessage=function(t){ln(!this.Gm,"Called onMessage on stream twice!"),this.Gm=t},t.prototype.close=function(){this.Bm()},t.prototype.send=function(t){this.qm(t)},t.prototype.Wm=function(){ln(void 0!==this.Mm,"Cannot call onOpen because no callback was set"),this.Mm()},t.prototype.zm=function(t){ln(void 0!==this.Qm,"Cannot call onClose because no callback was set"),this.Qm(t)},t.prototype.Km=function(t){ln(void 0!==this.Gm,"Cannot call onMessage because no callback was set"),this.Gm(t)},t}(),Ro={BatchGetDocuments:"batchGet",Commit:"commit"},Mo="gl-js/ fire/"+d,Lo=function(){function t(t){this.Dn=t.Dn;var e=t.ssl?"https":"http";this.Hm=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Jm=function(t,e){if(e)for(var i in e.o)e.o.hasOwnProperty(i)&&(t[i]=e.o[i]);t["X-Goog-Api-Client"]=Mo},t.prototype.tf=function(t,e,n){var r=this,u=this.Ym(t);return new Promise((function(s,o){var l=new f.XhrIo;l.listenOnce(f.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case f.ErrorCode.NO_ERROR:var e=l.getResponseJson();sn("Connection","XHR received:",JSON.stringify(e)),s(e);break;case f.ErrorCode.TIMEOUT:sn("Connection",'RPC "'+t+'" timed out'),o(new y(m.DEADLINE_EXCEEDED,"Request time out"));break;case f.ErrorCode.HTTP_ERROR:var i=l.getStatus();if(sn("Connection",'RPC "'+t+'" failed with status:',i,"response text:",l.getResponseText()),i>0){var n=l.getResponseJson().error;if(n&&n.status&&n.message){var r=(c=n.status.toLowerCase().replace("_","-"),Object.values(m).indexOf(c)>=0?c:m.UNKNOWN);o(new y(r,n.message))}else o(new y(m.UNKNOWN,"Server responded with status "+l.getStatus()))}else sn("Connection",'RPC "'+t+'" failed'),o(new y(m.UNAVAILABLE,"Connection failed."));break;default:cn('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{sn("Connection",'RPC "'+t+'" completed.')}var c}));var h=c.__assign({},e);delete h.database;var a=JSON.stringify(h);sn("Connection","XHR sending: ",u+" "+a);var d={"Content-Type":"text/plain"};r.Jm(d,n),l.send(u,"POST",a,d,15)}))},t.prototype.nf=function(t,e,i){return this.tf(t,e,i)},t.prototype.Qa=function(t,e){var i=[this.Hm,"/","google.firestore.v1.Firestore","/",t,"/channel"],n=f.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.Dn.projectId+"/databases/"+this.Dn.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Jm(r.initMessageHeaders,e),h.isMobileCordova()||h.isReactNative()||h.isElectron()||h.isIE()||h.isUWP()||h.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");sn("Connection","Creating WebChannel: "+u+" "+r);var s=n.createWebChannel(u,r),o=!1,c=!1,l=new Po({qm:function(t){c?sn("Connection","Not sending because WebChannel is closed:",t):(o||(sn("Connection","Opening WebChannel transport."),s.open(),o=!0),sn("Connection","WebChannel sending:",t),s.send(t))},Bm:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(f.WebChannel.EventType.OPEN,(function(){c||sn("Connection","WebChannel transport opened.")})),d(f.WebChannel.EventType.CLOSE,(function(){c||(c=!0,sn("Connection","WebChannel transport closed"),l.zm())})),d(f.WebChannel.EventType.ERROR,(function(t){c||(c=!0,sn("Connection","WebChannel transport errored:",t),l.zm(new y(m.UNAVAILABLE,"The operation could not be completed")))})),d(f.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var i=t.data[0];ln(!!i,"Got a webchannel message without data.");var n=i,r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){sn("Connection","WebChannel received error:",r);var u=r.status,o=function(t){var e=re[t];if(void 0!==e)return Ie(e)}(u),h=r.message;void 0===o&&(o=m.INTERNAL,h="Unknown error status: "+u+" with message "+r.message),c=!0,l.zm(new y(o,h)),s.close()}else sn("Connection","WebChannel received:",i),l.Km(i)}})),setTimeout((function(){l.Wm()}),0),l},t.prototype.Ym=function(t){var e=Ro[t];return ln(void 0!==e,"Unknown REST mapping for: "+t),this.Hm+"/v1/projects/"+this.Dn.projectId+"/databases/"+this.Dn.database+"/documents:"+e},t}(),jo=function(){function t(){this.N="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.$d=function(t){return Promise.resolve(new Lo(t))},t.prototype.Zd=function(){return xo.ph()?new xo:new Oo},t.prototype.tv=function(t){return new en(t,{_e:!0})},t.prototype.Vr=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype.randomBytes=function(t){if(t<=0)return new Uint8Array;var e=new Uint8Array(t);return crypto.getRandomValues(e),e},t}();function Vo(t){(function(t,e){var n;t.INTERNAL.registerComponent(new component.Component("firestore",(function(t){var i=t.getProvider("app").getImmediate();return e(i,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((ln((n=No)&&"object"==typeof n,"shallowCopy() expects object parameter."),c.__assign({},n))))})(t,(function(t,e){return new nr(t,e,new Co)})),t.registerVersion("@firebase/firestore","1.13.0")}nn.Fr(new jo),Vo(o),e.__PRIVATE_registerFirestore=Vo}).call(this,n(126))},187:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}var o;n.r(e),n.d(e,"LogLevel",(function(){return c})),n.d(e,"Logger",(function(){return m})),n.d(e,"setLogLevel",(function(){return y})),n.d(e,"setUserLogHandler",(function(){return w}));var c,l=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(c||(c={}));var h={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},f=c.INFO,d=((o={})[c.DEBUG]="log",o[c.VERBOSE]="log",o[c.INFO]="info",o[c.WARN]="warn",o[c.ERROR]="error",o),v=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var c=(new Date).toISOString(),l=d[e];if(!l)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[l].apply(console,r(["["+c+"]  "+t.name+":"],n))}},m=function(){function t(t){this.name=t,this._logLevel=f,this._logHandler=v,this._userLogHandler=null,l.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in c))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.DEBUG],t)),this._logHandler.apply(this,r([this,c.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.VERBOSE],t)),this._logHandler.apply(this,r([this,c.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.INFO],t)),this._logHandler.apply(this,r([this,c.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.WARN],t)),this._logHandler.apply(this,r([this,c.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.ERROR],t)),this._logHandler.apply(this,r([this,c.ERROR],t))},t}();function y(t){var e="string"==typeof t?h[t]:t;l.forEach((function(t){t.logLevel=e}))}function w(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=h[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];var h=o.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:c[n].toLowerCase(),message:h,args:o,type:e.name})}},r=0,o=l;r<o.length;r++){n(o[r])}}},188:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95),o=n(128),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,o=e.optional,c=this.normalizeInstanceIdentifier(n);try{var l=this.getOrInitializeService(c);if(!l){if(o)return null;throw Error("Service "+this.name+" is not available")}return l}catch(t){if(o)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var n=r.__values(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var c=r.__read(o.value,2),l=c[0],h=c[1],f=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService(f);h.resolve(d)}catch(t){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=c,e.ComponentContainer=h,e.Provider=l},189:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",(function(){return di})),n.d(e,"EventType",(function(){return pi})),n.d(e,"WebChannel",(function(){return vi})),n.d(e,"XhrIo",(function(){return mi})),n.d(e,"createWebChannelTransport",(function(){return fi}));var g,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=o||{},c=r;function l(a){return"string"==typeof a}function h(a){return"number"==typeof a}function f(a,b){a=a.split("."),b=b||c;for(var t=0;t<a.length;t++)if(null==(b=b[a[t]]))return null;return b}function d(){}function p(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function q(a){return"array"==p(a)}function v(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length}function m(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function _(a,b,t){return a.call.apply(a.bind,arguments)}function S(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function u(a,b,t){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:S).apply(null,arguments)}function I(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var k=Date.now||function(){return+new Date};function E(a,b){function t(){}t.prototype=b.prototype,a.N=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.yb=function(t,e,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return b.prototype[e].apply(t,r)}}function T(){this.j=this.j,this.i=this.i}T.prototype.j=!1,T.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[y]||(this[y]=++w)},T.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var D=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(l(a))return l(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},A=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n=l(a)?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};function C(a){return Array.prototype.concat.apply([],arguments)}function N(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function O(a){return/^[\s\xa0]*$/.test(a)}var x,P=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function R(a,b){return-1!=a.indexOf(b)}function M(a,b){return a<b?-1:a>b?1:0}t:{var L=c.navigator;if(L){var j=L.userAgent;if(j){x=j;break t}}x=""}function V(a,b,t){for(var e in a)b.call(t,a[e],e,a)}function F(a){var t,b={};for(t in a)b[t]=a[t];return b}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<B.length;r++)t=B[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function $(a){return $[" "](a),a}$[" "]=d;var z,a,H=R(x,"Opera"),G=R(x,"Trident")||R(x,"MSIE"),W=R(x,"Edge"),K=W||G,Y=R(x,"Gecko")&&!(R(x.toLowerCase(),"webkit")&&!R(x,"Edge"))&&!(R(x,"Trident")||R(x,"MSIE"))&&!R(x,"Edge"),J=R(x.toLowerCase(),"webkit")&&!R(x,"Edge");function X(){var a=c.document;return a?a.documentMode:void 0}t:{var Q="",Z=(a=x,Y?/rv:([^\);]+)(\)|;)/.exec(a):W?/Edge\/([\d\.]+)/.exec(a):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):J?/WebKit\/(\S+)/.exec(a):H?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Z&&(Q=Z?Z[1]:""),G){var tt=X();if(null!=tt&&tt>parseFloat(Q)){z=String(tt);break t}}z=Q}var et,nt={};function it(a){return function(a,b){var t=nt;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=P(String(z)).split("."),e=P(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var o=t[r]||"",c=e[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;b=M(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||M(0==o[2].length,0==c[2].length)||M(o[2],c[2]),o=o[3],c=c[3]}while(0==b)}return 0<=b}))}var ot=c.document;et=ot&&G?X()||("CSS1Compat"==ot.compatMode?parseInt(z,10):5):void 0;var st=!G||9<=Number(et),at=G&&!it("9"),ut=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{c.addEventListener("test",d,b),c.removeEventListener("test",d,b)}catch(t){}return a}();function ct(a,b){this.type=a,this.a=this.target=b,this.Ia=!0}function lt(a,b){if(ct.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(Y){t:{try{$(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=l(a.pointerType)?a.pointerType:ht[a.pointerType]||"",this.c=a,a.defaultPrevented&&this.b()}}ct.prototype.b=function(){this.Ia=!1},E(lt,ct);var ht={2:"touch",3:"pen",4:"mouse"};lt.prototype.b=function(){lt.N.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,at)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}};var ft="closure_listenable_"+(1e6*Math.random()|0),pt=0;function vt(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.da=n,this.key=++pt,this.X=this.Z=!1}function mt(a){a.X=!0,a.listener=null,a.proxy=null,a.src=null,a.da=null}function gt(a){this.src=a,this.a={},this.b=0}function yt(a,b){var t=b.type;if(t in a.a){var e,n=a.a[t],r=D(n,b);(e=0<=r)&&Array.prototype.splice.call(n,r,1),e&&(mt(b),0==a.a[t].length&&(delete a.a[t],a.b--))}}function bt(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.X&&r.listener==b&&r.capture==!!t&&r.da==e)return n}return-1}gt.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var o=bt(a,b,e,n);return-1<o?(b=a[o],t||(b.Z=!1)):((b=new vt(b,this.src,r,!!e,n)).Z=t,a.push(b)),b};var wt="closure_lm_"+(1e6*Math.random()|0),_t={};function St(a,b,t,e,n){if(e&&e.once)return function t(a,b,e,n,r){if(q(b)){for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);return null}return e=Nt(e),a&&a[ft]?a.Aa(b,e,m(n)?!!n.capture:!!n,r):It(a,b,e,!0,n,r)}(a,b,t,e,n);if(q(b)){for(var r=0;r<b.length;r++)St(a,b[r],t,e,n);return null}return t=Nt(t),a&&a[ft]?a.za(b,t,m(e)?!!e.capture:!!e,n):It(a,b,t,!1,e,n)}function It(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var o=m(n)?!!n.capture:!!n;if(o&&!st)return null;var c=At(a);if(c||(a[wt]=c=new gt(a)),(t=c.add(b,t,e,o,r)).proxy)return t;if(e=function(){var a=Dt,b=st?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)ut||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(Et(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}return t}function kt(a){if(!h(a)&&a&&!a.X){var b=a.src;if(b&&b[ft])yt(b.c,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(Et(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=At(b))?(yt(t,a),0==t.b&&(t.src=null,b[wt]=null)):mt(a)}}}function Et(a){return a in _t?_t[a]:_t[a]="on"+a}function Tt(a,b){var t=a.listener,e=a.da||a.src;return a.Z&&kt(a),t.call(e,b)}function Dt(a,b){return!!a.X||(st?Tt(a,new lt(b,this)):Tt(a,b=new lt(b||f("window.event"),this)))}function At(a){return(a=a[wt])instanceof gt?a:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(a){return"function"==p(a)?a:(a[Ct]||(a[Ct]=function(b){return a.handleEvent(b)}),a[Ct])}function Ot(){T.call(this),this.c=new gt(this),this.J=this,this.B=null}function xt(a,b,t,e){if(!(b=a.c.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.X&&o.capture==t){var c=o.listener,l=o.da||o.src;o.Z&&yt(a.c,o),n=!1!==c.call(l,e)&&n}}return n&&0!=e.Ia}E(Ot,T),Ot.prototype[ft]=!0,(g=Ot.prototype).addEventListener=function(a,b,t,e){St(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){!function t(a,b,e,n,r){if(q(b))for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);else n=m(n)?!!n.capture:!!n,e=Nt(e),a&&a[ft]?(a=a.c,(b=String(b).toString())in a.a&&(-1<(e=bt(o=a.a[b],e,n,r))&&(mt(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete a.a[b],a.b--)))):a&&(a=At(a))&&(b=a.a[b.toString()],a=-1,b&&(a=bt(b,e,n,r)),(e=-1<a?b[a]:null)&&kt(e))}(this,a,b,t,e)},g.dispatchEvent=function(a){var b,t=this.B;if(t)for(b=[];t;t=t.B)b.push(t);t=this.J;var e=a.type||a;if(l(a))a=new ct(a,t);else if(a instanceof ct)a.target=a.target||t;else{var n=a;U(a=new ct(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var o=a.a=b[r];n=xt(o,e,!0,a)&&n}if(n=xt(o=a.a=t,e,!0,a)&&n,n=xt(o,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=xt(o=a.a=b[r],e,!1,a)&&n;return n},g.G=function(){if(Ot.N.G.call(this),this.c){var t,a=this.c;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)mt(e[n]);delete a.a[t],a.b--}}this.B=null},g.za=function(a,b,t,e){return this.c.add(String(a),b,!1,t,e)},g.Aa=function(a,b,t,e){return this.c.add(String(a),b,!0,t,e)};var Pt=c.JSON.stringify;function Rt(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function Mt(){this.b=this.a=null}Rt.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var Lt,jt=new Rt((function(){return new Ft}),(function(a){a.reset()}));function Vt(){var a=qt,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Ft(){this.next=this.b=this.a=null}function Bt(a){c.setTimeout((function(){throw a}),0)}function Ut(a,b){Lt||function(){var a=c.Promise.resolve(void 0);Lt=function(){a.then(zt)}}(),$t||(Lt(),$t=!0),qt.add(a,b)}Mt.prototype.add=function(a,b){var t=jt.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},Ft.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Ft.prototype.reset=function(){this.next=this.b=this.a=null};var $t=!1,qt=new Mt;function zt(){for(var a;a=Vt();){try{a.a.call(a.b)}catch(t){Bt(t)}var b=jt;b.f(a),100>b.b&&(b.b++,a.next=b.a,b.a=a)}$t=!1}function Ht(a,b){Ot.call(this),this.b=a||1,this.a=b||c,this.f=u(this.gb,this),this.g=k()}function Gt(a){a.ba=!1,a.L&&(a.a.clearTimeout(a.L),a.L=null)}function Wt(a,b,t){if("function"==p(a))t&&(a=u(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=u(a.handleEvent,a)}return 2147483647<Number(b)?-1:c.setTimeout(a,b||0)}function Kt(a,b,t){T.call(this),this.f=null!=t?u(a,t):a,this.c=b,this.b=u(this.$a,this),this.a=[]}function Yt(a){a.U=Wt(a.b,a.c),a.f.apply(null,a.a)}function Jt(a){T.call(this),this.b=a,this.a={}}E(Ht,Ot),(g=Ht.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var a=k()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Gt(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=k())},g.G=function(){Ht.N.G.call(this),Gt(this),delete this.a},E(Kt,T),(g=Kt.prototype).ea=!1,g.U=null,g.Ta=function(a){this.a=arguments,this.U?this.ea=!0:Yt(this)},g.G=function(){Kt.N.G.call(this),this.U&&(c.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.$a=function(){this.U=null,this.ea&&(this.ea=!1,Yt(this))},E(Jt,T);var Xt=[];function Qt(a,b,t,e){q(t)||(t&&(Xt[0]=t.toString()),t=Xt);for(var n=0;n<t.length;n++){var r=St(b,t[n],e||a.handleEvent,!1,a.b||a);if(!r)break;a.a[r.key]=r}}function Zt(a){V(a.a,(function(b,t){this.a.hasOwnProperty(t)&&kt(b)}),a),a.a={}}function te(){}Jt.prototype.G=function(){Jt.N.G.call(this),Zt(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=new Ot;function ne(a){ct.call(this,"serverreachability",a)}function ie(a){ee.dispatchEvent(new ne(ee,a))}function re(a){ct.call(this,"statevent",a)}function oe(a){ee.dispatchEvent(new re(ee,a))}function se(a){ct.call(this,"timingevent",a)}function ae(a,b){if("function"!=p(a))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){a()}),b)}E(ne,ct),E(re,ct),E(se,ct);var ue={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},ce={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function le(){}function he(a){var b;return(b=a.a)||(b=a.a={}),b}function fe(){}le.prototype.a=null;var de,pe={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ve(){ct.call(this,"d")}function me(){ct.call(this,"c")}function ge(){}function ye(a,b,t){this.g=a,this.W=b,this.V=t||1,this.I=new Jt(this),this.O=be,a=K?125:void 0,this.P=new Ht(a),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ve,ct),E(me,ct),E(ge,le),de=new ge;var be=45e3,we={},_e={};function Se(a,b,t){a.F=1,a.f=We(Be(b)),a.l=t,a.H=!0,ke(a,null)}function Ie(a,b,t,e){a.F=1,a.f=We(Be(b)),a.l=null,a.H=t,ke(a,e)}function ke(a,b){a.v=k(),De(a),a.D=Be(a.f),Ge(a.D,"t",a.V),a.A=0,a.a=a.g.$(a.g.Y()?b:null),0<a.J&&(a.B=new Kt(u(a.Ja,a,a.a),a.J)),Qt(a.I,a.a,"readystatechange",a.cb),b=a.h?F(a.h):{},a.l?(a.w||(a.w="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.a.ca(a.D,a.w,a.l,b)):(a.w="GET",a.a.ca(a.D,a.w,null,b)),ie(1)}function Ee(a,b,t){for(var e=!0;!a.m&&a.A<t.length;){var n=Te(a,t);if(n==_e){4==b&&(a.c=4,oe(14),e=!1);break}if(n==we){a.c=4,oe(15),e=!1;break}xe(a,n)}4==b&&0==t.length&&(a.c=1,oe(16),e=!1),a.b=a.b&&e,e||(Oe(a),Ne(a))}function Te(a,b){var t=a.A,e=b.indexOf("\n",t);return-1==e?_e:(t=Number(b.substring(t,e)),isNaN(t)?we:(e+=1)+t>b.length?_e:(b=b.substr(e,t),a.A=e+t,b))}function De(a){a.R=k()+a.O,Ae(a,a.O)}function Ae(a,b){if(null!=a.i)throw Error("WatchDog timer not null");a.i=ae(u(a.ab,a),b)}function Ce(a){a.i&&(c.clearTimeout(a.i),a.i=null)}function Ne(a){a.g.Ca()||a.m||a.g.na(a)}function Oe(a){Ce(a);var b=a.B;b&&"function"==typeof b.la&&b.la(),a.B=null,Gt(a.P),Zt(a.I),a.a&&(b=a.a,a.a=null,b.abort(),b.la())}function xe(a,b){try{a.g.Fa(a,b),ie(4)}catch(t){}}function Pe(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(v(a)||l(a))A(a,b,void 0);else{if(a.K&&"function"==typeof a.K)var t=a.K();else if(a.C&&"function"==typeof a.C)t=void 0;else if(v(a)||l(a)){t=[];for(var e=a.length,n=0;n<e;n++)t.push(n)}else for(n in t=[],e=0,a)t[e++]=n;n=(e=function(a){if(a.C&&"function"==typeof a.C)return a.C();if(l(a))return a.split("");if(v(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}(a)).length;for(var r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}}function Re(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Re)for(t=a.K(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Me(a,b){je(a.b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Le(a))}function Le(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];je(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)je(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function je(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(g=ye.prototype).setTimeout=function(a){this.O=a},g.cb=function(a){a=a.target;var b=this.B;b&&3==Vn(a)?b.Ta():this.Ja(a)},g.Ja=function(a){try{if(a==this.a)t:{var b=Vn(this.a),t=this.a.ya(),e=this.a.T();if(!(3>b||3==b&&!K&&!this.a.aa())){this.m||4!=b||7==t||ie(8==t||0>=e?3:2),Ce(this);var n=this.a.T();this.o=n;var r=this.a.aa();if(this.b=200==n){if(this.S&&!this.s){e:{if(this.a){var o=Fn(this.a,"X-HTTP-Initial-Response");if(o&&!O(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.c=3,oe(12),Oe(this),Ne(this);break t}this.s=!0,xe(this,c)}this.H?(Ee(this,b,r),K&&this.b&&3==b&&(Qt(this.I,this.P,"tick",this.bb),this.P.start())):xe(this,r),4==b&&Oe(this),this.b&&!this.m&&(4==b?this.g.na(this):(this.b=!1,De(this)))}else 400==n&&0<r.indexOf("Unknown SID")?(this.c=3,oe(12)):(this.c=0,oe(13)),Oe(this),Ne(this)}}}catch(t){}},g.bb=function(){if(this.a){var a=Vn(this.a),b=this.a.aa();this.A<b.length&&(Ce(this),Ee(this,a,b),this.b&&4!=a&&De(this))}},g.cancel=function(){this.m=!0,Oe(this)},g.ab=function(){this.i=null;var a=k();0<=a-this.R?(2!=this.F&&(ie(3),oe(17)),Oe(this),this.c=2,Ne(this)):Ae(this,this.R-a)},(g=Re.prototype).C=function(){Le(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},g.K=function(){return Le(this),this.a.concat()},g.get=function(a,b){return je(this.b,a)?this.b[a]:b},g.set=function(a,b){je(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},g.forEach=function(a,b){for(var t=this.K(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Ve=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fe(a,b){var t;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,a instanceof Fe?(this.h=void 0!==b?b:a.h,Ue(this,a.f),this.j=a.j,$e(this,a.b),qe(this,a.i),this.a=a.a,ze(this,un(a.c)),this.g=a.g):a&&(t=String(a).match(Ve))?(this.h=!!b,Ue(this,t[1]||"",!0),this.j=Ke(t[2]||""),$e(this,t[3]||"",!0),qe(this,t[4]),this.a=Ke(t[5]||"",!0),ze(this,t[6]||"",!0),this.g=Ke(t[7]||"")):(this.h=!!b,this.c=new nn(null,this.h))}function Be(a){return new Fe(a)}function Ue(a,b,t){a.f=t?Ke(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function $e(a,b,t){a.b=t?Ke(b,!0):b}function qe(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function ze(a,b,t){b instanceof nn?(a.c=b,function(a,b){b&&!a.f&&(rn(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(on(this,e),an(this,n,t))}),a)),a.f=b}(a.c,a.h)):(t||(b=Ye(b,tn)),a.c=new nn(b,a.h))}function He(a,b,t){a.c.set(b,t)}function Ge(a,b,t){q(t)||(t=[String(t)]),an(a.c,b,t)}function We(a){return He(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^k()).toString(36)),a}function Ke(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ye(a,b,t){return l(a)?(a=encodeURI(a).replace(b,Je),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Je(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Fe.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Ye(b,Xe,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.j)&&a.push(Ye(b,Xe,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.i)&&a.push(":",String(t))),(t=this.a)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(Ye(t,"/"==t.charAt(0)?Ze:Qe,!0))),(t=this.c.toString())&&a.push("?",t),(t=this.g)&&a.push("#",Ye(t,en)),a.join("")},Fe.prototype.resolve=function(a){var b=Be(this),t=!!a.f;t?Ue(b,a.f):t=!!a.j,t?b.j=a.j:t=!!a.b,t?$e(b,a.b):t=null!=a.i;var e=a.a;if(t)qe(b,a.i);else if(t=!!a.a){if("/"!=e.charAt(0))if(this.b&&!this.a)e="/"+e;else{var n=b.a.lastIndexOf("/");-1!=n&&(e=b.a.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(R(n,"./")||R(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],o=0;o<n.length;){var c=n[o++];"."==c?e&&o==n.length&&r.push(""):".."==c?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&o==n.length&&r.push("")):(r.push(c),e=!0)}e=r.join("/")}else e=n}return t?b.a=e:t=""!==a.c.toString(),t?ze(b,un(a.c)):t=!!a.g,t&&(b.g=a.g),b};var Xe=/[#\/\?@]/g,Qe=/[#\?:]/g,Ze=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function rn(a){a.a||(a.a=new Re,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function on(a,b){rn(a),b=cn(a,b),je(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Me(a.a,b))}function sn(a,b){return rn(a),b=cn(a,b),je(a.a.b,b)}function an(a,b,t){on(a,b),0<t.length&&(a.c=null,a.a.set(cn(a,b),N(t)),a.b+=t.length)}function un(a){var b=new nn;return b.c=a.c,a.a&&(b.a=new Re(a.a),b.b=a.b),b}function cn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function ln(a){this.a=a,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function hn(a){var b=a.a.F.a;if(null!=b)oe(4),b?(oe(10),Xn(a.a,a,!1)):(oe(11),Xn(a.a,a,!0));else{a.b=new ye(a,void 0,void 0),a.b.h=a.h,b=ni(b=a.a,b.Y()?a.f:null,a.i),oe(4),Ge(b,"TYPE","xmlhttp");var t=a.a.j,e=a.a.I;t&&e&&He(b,t,e),Ie(a.b,b,!1,a.f)}}function fn(){this.a=this.b=null}function dn(){this.a=new Re}function pn(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[y]||(a[y]=++w)):b.charAt(0)+a}function vn(a,b){this.b=a,this.a=b}function mn(a){this.g=a||gn,c.PerformanceNavigationTiming?a=0<(a=c.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(c.ka&&c.ka.Da&&c.ka.Da()&&c.ka.Da().zb),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new dn),this.b=null,this.c=[]}(g=nn.prototype).add=function(a,b){rn(this),this.c=null,a=cn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},g.forEach=function(a,b){rn(this),this.a.forEach((function(t,e){A(t,(function(t){a.call(b,t,e,this)}),this)}),this)},g.K=function(){rn(this);for(var a=this.a.C(),b=this.a.K(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},g.C=function(a){rn(this);var b=[];if(l(a))sn(this,a)&&(b=C(b,this.a.get(cn(this,a))));else{a=this.a.C();for(var t=0;t<a.length;t++)b=C(b,a[t])}return b},g.set=function(a,b){return rn(this),this.c=null,sn(this,a=cn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},g.get=function(a,b){return a&&0<(a=this.C(a)).length?String(a[0]):b},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.K(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.C(e);for(var r=0;r<e.length;r++){var o=n;""!==e[r]&&(o+="="+encodeURIComponent(String(e[r]))),a.push(o)}}return this.c=a.join("&")},E((function(){}),(function(){})),(g=ln.prototype).M=null,g.$=function(a){return this.a.$(a)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Ca=function(){return!1},g.Fa=function(a,b){if(this.c=a.o,0==this.M){if(!this.a.o&&(a=a.a)){var t=Fn(a,"X-Client-Wire-Protocol");this.l=t||null,this.a.j&&(a=Fn(a,"X-HTTP-Session-Id"))&&(this.a.I=a)}if(b){try{var e=this.a.ja.a.parse(b)}catch(t){return(b=this.a).m=this.c,void ti(b,2)}this.f=e[0]}else(b=this.a).m=this.c,ti(b,2)}else 1==this.M&&(this.g?oe(6):"11111"==b?(oe(5),this.g=!0,(!G||10<=Number(et))&&(this.c=200,this.b.cancel(),oe(11),Xn(this.a,this,!0))):(oe(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,hn(this)):1==this.M&&(this.g?(oe(11),Xn(this.a,this,!0)):(oe(10),Xn(this.a,this,!1)));else{0==this.M?oe(8):1==this.M&&oe(9);var a=this.a;a.m=this.c,ti(a,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},dn.prototype.add=function(a){this.a.set(pn(a),a)},dn.prototype.C=function(){return this.a.C()};var gn=10;function yn(a,b){!a.a&&(R(b,"spdy")||R(b,"quic")||R(b,"h2"))&&(a.f=a.g,a.a=new dn,a.b&&(dd(a,a.b),a.b=null))}function bn(a){return!!a.b||!!a.a&&a.a.a.c>=a.f}function wn(a){return a.b?1:a.a?a.a.a.c:0}function _n(a,b){return a.b?a=a.b==b:a.a?(b=pn(b),a=je(a.a.a.b,b)):a=!1,a}function dd(a,b){a.a?a.a.add(b):a.b=b}function Sn(a,b){var t;a.b&&a.b==b?a.b=null:((t=a.a)&&(t=pn(b),t=je(a.a.a.b,t)),t&&Me(a.a.a,pn(b)))}function In(a){if(null!=a.b)return a.c.concat(a.b.j);if(null!=a.a&&0!=a.a.a.c){var b=a.c;return A(a.a.C(),(function(t){b=b.concat(t.j)})),b}return N(a.c)}function kn(){}function En(){this.a=new kn}function Tn(a,b,t){var e=t||"";try{Pe(a,(function(t,n){var r=t;m(t)&&(r=Pt(t)),b.push(e+n+"="+encodeURIComponent(r))}))}catch(t){throw b.push(e+"type="+encodeURIComponent("_badmap")),t}}function Dn(a,b,t,e,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(e)}catch(t){}}mn.prototype.cancel=function(){this.c=In(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(A(this.a.C(),(function(a){a.cancel()})),function(a){a.b={},a.a.length=0,a.c=0}(this.a.a))},kn.prototype.stringify=function(a){return c.JSON.stringify(a,void 0)},kn.prototype.parse=function(a){return c.JSON.parse(a,void 0)};var An=c.JSON.parse;function Cn(a){Ot.call(this),this.headers=new Re,this.H=a||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Nn,this.D=this.F=!1}E(Cn,Ot);var Nn="",On=/^https?$/i,xn=["POST","PUT"];function Pn(a){return"content-type"==a.toLowerCase()}function Rn(a,b){a.b=!1,a.a&&(a.g=!0,a.a.abort(),a.g=!1),a.f=b,a.h=5,Mn(a),jn(a)}function Mn(a){a.v||(a.v=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Ln(a){if(a.b&&void 0!==o&&(!a.s[1]||4!=Vn(a)||2!=a.T()))if(a.l&&4==Vn(a))Wt(a.Ea,0,a);else if(a.dispatchEvent("readystatechange"),4==Vn(a)){a.b=!1;try{var t,b=a.T();t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.A).match(Ve)[1]||null;if(!r&&c.self&&c.self.location){var l=c.self.location.protocol;r=l.substr(0,l.length-1)}n=!On.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.h=6;try{var h=2<Vn(a)?a.a.statusText:""}catch(t){h=""}a.f=h+" ["+a.T()+"]",Mn(a)}}finally{jn(a)}}}function jn(a,b){if(a.a){td(a);var t=a.a,e=a.s[0]?d:null;a.a=null,a.s=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){}}}function td(a){a.a&&a.D&&(a.a.ontimeout=null),a.m&&(c.clearTimeout(a.m),a.m=null)}function Vn(a){return a.a?a.a.readyState:0}function Fn(a,b){return a.a?a.a.getResponseHeader(b):null}function Bn(a,b,t){t:{for(e in t){var e=!1;break t}e=!0}if(e)return a;if(t=function(a){var b="";return V(a,(function(t,e){b+=e,b+=":",b+=t,b+="\r\n"})),b}(t),l(a)){if(b=encodeURIComponent(String(b)),b+=t=null!=t?"="+encodeURIComponent(String(t)):""){if(0>(t=a.indexOf("#"))&&(t=a.length),0>(e=a.indexOf("?"))||e>t){e=t;var n=""}else n=a.substring(e+1,t);t=(a=[a.substr(0,e),n,a.substr(t)])[1],a[1]=b?t?t+"&"+b:b:t,a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}return He(a,b,t),a}function Un(a){this.f=[],this.F=new fn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!f("internalChannelParams.failFast",a),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=f("internalChannelParams.baseRetryDelayMs",a)||5e3,this.Ra=f("internalChannelParams.retryDelaySeedMs",a)||1e4,this.Pa=f("internalChannelParams.forwardChannelMaxRetries",a)||2,this.qa=f("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2e4,this.Ka=a&&a.Ab||void 0,this.D=void 0,this.R=a&&a.supportsCrossDomainXhr||!1,this.H="",this.b=new mn(a&&a.concurrentRequestLimit),this.ja=new En,this.o=!a||void 0===a.backgroundChannelTest||a.backgroundChannelTest,(this.W=a&&a.fastHandshake||!1)&&!this.o&&(this.o=!0),a&&a.forceLongPolling&&(this.oa=!1),this.fa=void 0}function $n(a){if(qn(a),3==a.u){var b=a.P++,t=Be(a.B);He(t,"SID",a.H),He(t,"RID",b),He(t,"TYPE","terminate"),Wn(a,t),(b=new ye(a,b,void 0)).F=2,b.f=We(Be(t)),t=!1,c.navigator&&c.navigator.sendBeacon&&(t=c.navigator.sendBeacon(b.f.toString(),"")),!t&&c.Image&&((new Image).src=b.f,t=!0),t||(b.a=b.g.$(null),b.a.ca(b.f)),b.v=k(),De(b)}ei(a)}function qn(a){a.w&&(a.w.abort(),a.w=null),a.a&&(a.a.cancel(),a.a=null),a.l&&(c.clearTimeout(a.l),a.l=null),Qn(a),a.b.cancel(),a.h&&(h(a.h)&&c.clearTimeout(a.h),a.h=null)}function zn(a,b){a.f.push(new vn(a.Qa++,b)),3==a.u&&Hn(a)}function Hn(a){bn(a.b)||a.h||(a.h=!0,Ut(a.Ha,a),a.A=0)}function Gn(a,b){var t;t=b?b.W:a.P++;var e=Be(a.B);He(e,"SID",a.H),He(e,"RID",t),He(e,"AID",a.O),Wn(a,e),a.g&&a.i&&Bn(e,a.g,a.i),t=new ye(a,t,a.A+1),null===a.g&&(t.h=a.i),b&&(a.f=b.j.concat(a.f)),b=Kn(a,t,1e3),t.setTimeout(Math.round(.5*a.qa)+Math.round(.5*a.qa*Math.random())),dd(a.b,t),Se(t,e,b)}function Wn(a,b){a.c&&Pe({},(function(t,e){He(b,e,t)}))}function Kn(a,b,t){t=Math.min(a.f.length,t);var e=a.c?u(a.c.Sa,a.c,a):null;t:for(var n=a.f,r=-1;;){var o=["count="+t];-1==r?0<t?(r=n[0].b,o.push("ofs="+r)):r=0:o.push("ofs="+r);for(var c=!0,l=0;l<t;l++){var h=n[l].b,f=n[l].a;if(0>(h-=r))r=Math.max(0,n[l].b-100),c=!1;else try{Tn(f,o,"req"+h+"_")}catch(t){e&&e(f)}}if(c){e=o.join("&");break t}}return a=a.f.splice(0,t),b.j=a,e}function Yn(a){a.a||a.l||(a.S=1,Ut(a.Ga,a),a.v=0)}function Jn(a){return!(a.a||a.l||3<=a.v)&&(a.S++,a.l=ae(u(a.Ga,a),Zn(a,a.v)),a.v++,!0)}function Xn(a,b,t){var e=b.l;e&&yn(a.b,e),a.ia=a.oa&&t,a.m=b.c,a.B=ni(a,null,a.ha),Hn(a)}function Qn(a){null!=a.s&&(c.clearTimeout(a.s),a.s=null)}function Zn(a,b){var t=a.Na+Math.floor(Math.random()*a.Ra);return a.ma()||(t*=2),t*b}function ti(a,b){if(2==b){var t=null;a.c&&(t=null);var e=u(a.eb,a);t||(t=new Fe("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Ue(t,"https"),We(t)),function(a,b){var t=new te;if(c.Image){var e=new Image;e.onload=I(Dn,t,e,"TestLoadImage: loaded",!0,b),e.onerror=I(Dn,t,e,"TestLoadImage: error",!1,b),e.onabort=I(Dn,t,e,"TestLoadImage: abort",!1,b),e.ontimeout=I(Dn,t,e,"TestLoadImage: timeout",!1,b),c.setTimeout((function(){e.ontimeout&&e.ontimeout()}),1e4),e.src=a}else b(!1)}(t.toString(),e)}else oe(2);a.u=0,a.c&&a.c.ta(b),ei(a),qn(a)}function ei(a){a.u=0,a.m=-1,a.c&&(0==In(a.b).length&&0==a.f.length||(a.b.c.length=0,N(a.f),a.f.length=0),a.c.sa())}function ni(a,b,t){var e=function(a){return a instanceof Fe?Be(a):new Fe(a,void 0)}(t);if(""!=e.b)b&&$e(e,b+"."+e.b),qe(e,e.i);else{var n,r=c.location;n=b?b+"."+r.hostname:r.hostname,e=function(a,b,t,e){var n=new Fe(null,void 0);return a&&Ue(n,a),b&&$e(n,b),t&&qe(n,t),e&&(n.a=e),n}(r.protocol,n,+r.port,t)}return a.V&&V(a.V,(function(t,n){He(e,n,t)})),b=a.j,t=a.I,b&&t&&He(e,b,t),He(e,"VER",a.wa),Wn(a,e),e}function ii(){}function ri(){if(G&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function oi(a,b){Ot.call(this),this.a=new Un(b),this.g=a,this.m=b&&b.fb?b.fb:function(a){for(var b=arguments[0],t=1;t<arguments.length;t++){var e,n=arguments[t];if(0==n.lastIndexOf("/",0))b=n;else(e=""==b)||(e=0<=(e=b.length-1)&&b.indexOf("/",e)==e),b+=e?n:"/"+n}return b}(this.g,"test"),this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.i=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.xa&&(a?a["X-WebChannel-Client-Profile"]=b.xa:a={"X-WebChannel-Client-Profile":b.xa}),this.a.J=a,(a=b&&b.httpHeadersOverwriteParam)&&!O(a)&&(this.a.g=a),this.l=b&&b.supportsCrossDomainXhr||!1,this.h=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.a.j=b,null!==(a=this.b)&&b in a&&(b in(a=this.b)&&delete a[b])),this.f=new ui(this)}function si(a){ve.call(this);var b=a.__sm__;if(b){t:{for(var t in b){a=t;break t}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function ai(){me.call(this),this.status=1}function ui(a){this.a=a}(g=Cn.prototype).ca=function(a,b,t,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+a);b=b?b.toUpperCase():"GET",this.A=a,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?he(this.H):he(de),this.a.onreadystatechange=u(this.Ea,this);try{this.w=!0,this.a.open(b,String(a),!0),this.w=!1}catch(t){return void Rn(this,t)}a=t||"";var n=new Re(this.headers);e&&Pe(e,(function(t,e){n.set(e,t)})),e=function(a){t:{for(var b=Pn,t=a.length,e=l(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:l(a)?a.charAt(b):a[b]}(n.K()),t=c.FormData&&a instanceof c.FormData,!(0<=D(xn,b))||e||t||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{td(this),0<this.o&&((this.D=function(a){return G&&it(9)&&h(a.timeout)&&void 0!==a.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=u(this.Ba,this)):this.m=Wt(this.Ba,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(t){Rn(this,t)}},g.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jn(this,!0)),Cn.N.G.call(this)},g.Ea=function(){this.j||(this.w||this.l||this.g?Ln(this):this.Za())},g.Za=function(){Ln(this)},g.T=function(){try{return 2<Vn(this)?this.a.status:-1}catch(t){return-1}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},g.Ua=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),An(b)}},g.ya=function(){return this.h},g.Xa=function(){return l(this.f)?this.f:String(this.f)},(g=Un.prototype).wa=8,g.u=1,g.Ca=function(){return 0==this.u},g.Ha=function(a){if(this.h)if(this.h=null,1==this.u){if(!a){this.P=Math.floor(1e5*Math.random());var t,b=new ye(this,a=this.P++,void 0),e=this.i;if(this.J&&(e?U(e=F(e),this.J):e=this.J),null===this.g&&(b.h=e),this.W)t:{for(var n=t=0;n<this.f.length;n++){var r=this.f[n];if(void 0===(r="__data__"in r.a&&l(r=r.a.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break t}if(4096===t||n===this.f.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Kn(this,b,t),He(n=Be(this.B),"RID",a),He(n,"CVER",22),this.o&&this.j&&He(n,"X-HTTP-Session-Id",this.j),Wn(this,n),this.g&&e&&Bn(n,this.g,e),dd(this.b,b),this.W?(He(n,"$req",t),He(n,"SID","null"),b.S=!0,Se(b,n,null)):Se(b,n,t),this.u=2}}else 3==this.u&&(a?Gn(this,a):0==this.f.length||bn(this.b)||Gn(this))},g.Ga=function(){this.l=null,this.a=new ye(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var a=Be(this.pa);He(a,"RID","rpc"),He(a,"SID",this.H),He(a,"CI",this.ia?"0":"1"),He(a,"AID",this.O),Wn(this,a),He(a,"TYPE","xmlhttp"),this.g&&this.i&&Bn(a,this.g,this.i),this.D&&this.a.setTimeout(this.D),Ie(this.a,a,!0,this.ga)},g.Fa=function(a,b){if(0!=this.u&&(this.a==a||_n(this.b,a)))if(this.m=a.o,!a.s&&_n(this.b,a)&&3==this.u){try{var t=this.ja.a.parse(b)}catch(e){t=null}if(q(t)&&3==t.length){if(0==(b=t)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<a.v))break t;Qn(this),this.a.cancel(),this.a=null}Jn(this),oe(18)}}else this.ra=b[1],0<this.ra-this.O&&37500>b[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ae(u(this.Ya,this),6e3));if(1>=wn(this.b)&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else ti(this,11)}else if((a.s||this.a==a)&&Qn(this),!O(b))for(b=t=this.ja.a.parse(b),t=0;t<b.length;t++){var e=b[t];if(this.O=e[0],e=e[1],2==this.u)if("c"==e[0]){this.H=e[1],this.ga=e[2];var n=e[3];null!=n&&(this.wa=n),null!=(e=e[5])&&h(e)&&0<e&&(this.D=1.5*e),this.o&&(e=a.a)&&((n=Fn(e,"X-Client-Wire-Protocol"))&&yn(this.b,n),this.j&&(e=Fn(e,"X-HTTP-Session-Id")))&&(this.I=e,He(this.B,this.j,e)),this.u=3,this.c&&this.c.va(),e=a,this.pa=ni(this,this.Y()?this.ga:null,this.ha),e.s?(Sn(this.b,e),(n=this.D)&&e.setTimeout(n),e.i&&(Ce(e),De(e)),this.a=e):Yn(this),0<this.f.length&&Hn(this)}else"stop"!=e[0]&&"close"!=e[0]||ti(this,7);else 3==this.u&&("stop"==e[0]||"close"==e[0]?"stop"==e[0]?ti(this,7):$n(this):"noop"!=e[0]&&this.c&&this.c.ua(e),this.v=0)}},g.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Jn(this),oe(19))},g.na=function(a){var b=null;if(this.a==a){Qn(this),this.a=null;var t=2}else{if(!_n(this.b,a))return;b=a.j,Sn(this.b,a),t=1}if(this.m=a.o,0!=this.u)if(a.b)1==t?(b=k()-a.v,ee.dispatchEvent(new se(ee,a.l?a.l.length:0,b,this.A)),Hn(this)):Yn(this);else{var e=a.c;if(3==e||0==e&&0<this.m||!(1==t&&function(a,b){return!(wn(a.b)>=a.b.f-(a.h?1:0))&&(a.h?(a.f=b.j.concat(a.f),!0):!(1==a.u||2==a.u||a.A>=(a.Oa?0:a.Pa))&&(a.h=ae(u(a.Ha,a,b),Zn(a,a.A)),a.A++,!0))}(this,a)||2==t&&Jn(this)))switch(b&&0<b.length&&(a=this.b,a.c=a.c.concat(b)),e){case 1:ti(this,5);break;case 4:ti(this,10);break;case 3:ti(this,6);break;default:ti(this,2)}}},g.eb=function(a){oe(a?2:1)},g.$=function(a){if(a&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new Cn(this.Ka)).F=this.R,a},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=ii.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Sa=function(){},ri.prototype.a=function(a,b){return new oi(a,b)},E(oi,Ot),(g=oi.prototype).addEventListener=function(a,b,t,e){oi.N.addEventListener.call(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){oi.N.removeEventListener.call(this,a,b,t,e)},g.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var a=this.a,b=this.m,t=this.g,e=this.b||void 0;oe(0),a.ha=t,a.V=e||{},a.o&&(a.F.b=[],a.F.a=!1),a.w=new ln(a),null===a.g&&(a.w.h=a.i),t=b,a.g&&a.i&&(t=Bn(b,a.g,a.i)),(a=a.w).i=t,b=ni(a.a,null,a.i),oe(3),null!=(t=a.a.F.b)?(a.f=t[0],a.M=1,hn(a)):(Ge(b,"MODE","init"),!a.a.o&&a.a.j&&Ge(b,"X-HTTP-Session-Id",a.a.j),a.b=new ye(a,void 0,void 0),a.b.h=a.h,Ie(a.b,b,!1,null),a.M=0)},g.close=function(){$n(this.a)},g.Wa=function(a){if(l(a)){var b={};b.__data__=a,zn(this.a,b)}else this.h?((b={}).__data__=Pt(a),zn(this.a,b)):zn(this.a,a)},g.G=function(){this.a.c=null,delete this.f,$n(this.a),delete this.a,oi.N.G.call(this)},E(si,ve),E(ai,me),E(ui,ii),ui.prototype.va=function(){this.a.dispatchEvent("a")},ui.prototype.ua=function(a){this.a.dispatchEvent(new si(a))},ui.prototype.ta=function(a){this.a.dispatchEvent(new ai(a))},ui.prototype.sa=function(){this.a.dispatchEvent("b")};var ci=I((function(a,b){function t(){}t.prototype=a.prototype;var e=new t;return a.apply(e,Array.prototype.slice.call(arguments,1)),e}),ri);ri.prototype.createWebChannel=ri.prototype.a,oi.prototype.send=oi.prototype.Wa,oi.prototype.open=oi.prototype.Va,oi.prototype.close=oi.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,ce.COMPLETE="complete",fe.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Ot.prototype.listen=Ot.prototype.za,Cn.prototype.listenOnce=Cn.prototype.Aa,Cn.prototype.getLastError=Cn.prototype.Xa,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getResponseJson=Cn.prototype.Ua,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var hi={createWebChannelTransport:ci,ErrorCode:ue,EventType:ce,WebChannel:fe,XhrIo:Cn},fi=hi.createWebChannelTransport,di=hi.ErrorCode,pi=hi.EventType,vi=hi.WebChannel,mi=hi.XhrIo;e.default=hi}.call(this,n(21))},191:function(t,e,n){"use strict";n.r(e),n.d(e,"State",(function(){return c})),n.d(e,"Getter",(function(){return l})),n.d(e,"Action",(function(){return h})),n.d(e,"Mutation",(function(){return f})),n.d(e,"namespace",(function(){return d}));var r=n(11),o=n(29),c=v("computed",o.e),l=v("computed",o.c),h=v("methods",o.b),f=v("methods",o.d);function d(t,e){function n(e){return function(a,b){if("string"==typeof b){var n=b,r=a;return e(n,{namespace:t})(r,n)}var o=a,c=function(a,b){var t={};return[a,b].forEach((function(e){Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}(b||{},{namespace:t});return e(o,c)}}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(e)):{State:n(c),Getter:n(l),Mutation:n(f),Action:n(h)}}function v(t,e){function n(map,n){return Object(r.createDecorator)((function(r,o){r[t]||(r[t]={});var c,l=((c={})[o]=map,c);r[t][o]=void 0!==n?e(n,l)[o]:e(l)[o]}))}return function(a,b){if("string"==typeof b){var t=b,e=a;return n(t,void 0)(e,t)}return n(a,function(t){var e=t&&t.namespace;if("string"!=typeof e)return;if("/"!==e[e.length-1])return e+"/";return e}(b))}}},2:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){o(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function h(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return h}))},3:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return o}));var r=n(2);var o=Math.sign||function(t){return t<0?-1:t>0?1:0};function c(t,path){return path.split(".").reduce((function(t,i){return t?t[i]:null}),t)}function l(t,e,n){if(!t)return-1;if(!n||"function"!=typeof n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(t[i],e))return i;return-1}var h=function(t){return"object"===Object(r.c)(t)&&!Array.isArray(t)},f=function t(e,source){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n||!Object.assign){var o=function(t){return h(source[t])&&null!==e&&e.hasOwnProperty(t)&&h(e[t])},c=Object.getOwnPropertyNames(source).map((function(c){return Object(r.a)({},c,o(c)?t(e[c],source[c],n):source[c])})).reduce((function(a,b){return Object(r.b)({},a,{},b)}),{});return Object(r.b)({},e,{},c)}return Object.assign(e,source)},d={Android:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/Android/i)},BlackBerry:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return"undefined"!=typeof window&&window.navigator.userAgent.match(/IEMobile/i)},any:function(){return d.Android()||d.BlackBerry()||d.iOS()||d.Opera()||d.Windows()}};function v(t){void 0!==t.remove?t.remove():void 0!==t.parentNode&&null!==t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){var n;return JSON.parse(JSON.stringify(t)).sort((n=e,function(a,b){return n.map((function(t){var e=1;return"-"===t[0]&&(e=-1,t=t.substring(1)),a[t]>b[t]?e:a[t]<b[t]?-e:0})).reduce((function(p,t){return p||t}),0)}))}},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(3),o=n(1),c={props:{type:{type:String,default:"is-dark"},message:String,duration:Number,queue:{type:Boolean,default:void 0},position:{type:String,default:"is-top",validator:function(t){return["is-top-right","is-top","is-top-left","is-bottom-right","is-bottom","is-bottom-left"].indexOf(t)>-1}},container:String},data:function(){return{isActive:!1,parentTop:null,parentBottom:null,newContainer:this.container||o.c.defaultContainerElement}},computed:{correctParent:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return this.parentTop;case"is-bottom-right":case"is-bottom":case"is-bottom-left":return this.parentBottom}},transition:function(){switch(this.position){case"is-top-right":case"is-top":case"is-top-left":return{enter:"fadeInDown",leave:"fadeOut"};case"is-bottom-right":case"is-bottom":case"is-bottom-left":return{enter:"fadeInUp",leave:"fadeOut"}}}},methods:{shouldQueue:function(){return!!(void 0!==this.queue?this.queue:o.c.defaultNoticeQueue)&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},close:function(){var t=this;clearTimeout(this.timer),this.isActive=!1,this.$emit("close"),setTimeout((function(){t.$destroy(),Object(r.f)(t.$el)}),150)},showNotice:function(){var t=this;this.shouldQueue()?setTimeout((function(){return t.showNotice()}),250):(this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.indefinite||(this.timer=setTimeout((function(){return t.close()}),this.newDuration)))},setupContainer:function(){if(this.parentTop=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-top"),this.parentBottom=document.querySelector((this.newContainer?this.newContainer:"body")+">.notices.is-bottom"),!this.parentTop||!this.parentBottom){this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="notices is-top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="notices is-bottom");var t=document.querySelector(this.newContainer)||document.body;t.appendChild(this.parentTop),t.appendChild(this.parentBottom),this.newContainer&&(this.parentTop.classList.add("has-custom-container"),this.parentBottom.classList.add("has-custom-container"))}}},beforeMount:function(){this.setupContainer()},mounted:function(){this.showNotice()}}},48:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r},58:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(3),o=n(1),c=n(0);const l={name:"BToast",mixins:[n(35).a],data:function(){return{newDuration:this.duration||o.c.defaultToastDuration}}};var h,f=Object(c.a)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":t.transition.enter,"leave-active-class":t.transition.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"toast",class:[t.type,t.position],attrs:{"aria-hidden":!t.isActive,role:"alert"}},[n("div",{domProps:{innerHTML:t._s(t.message)}})])])},staticRenderFns:[]},void 0,l,void 0,!1,void 0,void 0,void 0),d={open:function(t){var e;"string"==typeof t&&(t={message:t});var n={position:o.c.defaultToastPosition||"is-top"};t.parent&&(e=t.parent,delete t.parent);var c=Object(r.d)(n,t);return new(("undefined"!=typeof window&&window.Vue?window.Vue:h||o.a).extend(f))({parent:e,el:document.createElement("div"),propsData:c})}},v={install:function(t){h=t,Object(c.b)(t,"toast",d)}};Object(c.d)(v),e.b=v},6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,c=n(94),l=n(127),component=n(183),h=n(184),f=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),d=new l.ErrorFactory("app","Firebase",f),v=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),m=new h.Logger("@firebase/app"),y=function(){function t(t,e,n){var r,o,h=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=l.deepCopy(t),this.container=new component.ComponentContainer(e.name),this._addComponent(new component.Component("app",(function(){return h}),"PUBLIC"));try{for(var f=c.__values(this.firebase_.INTERNAL.components.values()),d=f.next();!d.done;d=f.next()){var v=d.value;this._addComponent(v)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(component){try{this.container.addComponent(component)}catch(t){m.debug("Component "+component.name+" failed to register with FirebaseApp "+this.name,t)}},t.prototype._addOrOverwriteComponent=function(component){this.container.addOrOverwriteComponent(component)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw d.create("app-deleted",{appName:this.name_})},t}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var w=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!=typeof o||null===o){o={name:o}}var c=o;void 0===c.name&&(c.name="[DEFAULT]");var h=c.name;if("string"!=typeof h||!h)throw d.create("bad-app-name",{appName:String(h)});if(l.contains(e,h))throw d.create("duplicate-app",{appName:h});var f=new t(n,c,r);return e[h]=f,f},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=v[t])&&void 0!==r?r:t;n&&(o+="-"+n);var c=o.match(/\s|\//),l=e.match(/\s|\//);if(c||l){var h=['Unable to register library "'+o+'" with version "'+e+'":'];return c&&h.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),c&&l&&h.push("and"),l&&h.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void m.warn(h.join(" "))}f(new component.Component(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},setLogLevel:h.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw d.create("invalid-log-argument",{appName:name});h.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.12.0",INTERNAL:{registerComponent:f,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||"[DEFAULT]",!l.contains(e,t))throw d.create("no-app",{appName:t});return e[t]}function f(component){var h,f,v=component.name;if(n.has(v))return m.debug("There were multiple attempts to register component "+v+"."),"PUBLIC"===component.type?r[v]:null;if(n.set(v,component),"PUBLIC"===component.type){var y=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[v])throw d.create("invalid-app-argument",{appName:v});return t[v]()};void 0!==component.serviceProps&&l.deepExtend(y,component.serviceProps),r[v]=y,t.prototype[v]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,v);return n.apply(this,component.multipleInstances?t:[])}}try{for(var w=c.__values(Object.keys(e)),_=w.next();!_.done;_=w.next()){var S=_.value;e[S]._addComponent(component)}}catch(t){h={error:t}}finally{try{_&&!_.done&&(f=w.return)&&f.call(w)}finally{if(h)throw h.error}}return"PUBLIC"===component.type?r[v]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,r}(y);return e.INTERNAL=c.__assign(c.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){l.deepExtend(e,t)},createSubscribe:l.createSubscribe,ErrorFactory:l.ErrorFactory,deepExtend:l.deepExtend}),e}(),_=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var component=t.getComponent();return"VERSION"===(null==component?void 0:component.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(l.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var S=self.firebase.SDK_VERSION;S&&S.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var I=w.initializeApp;w.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.isNode()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),I.apply(void 0,t)};var k=w;!function(t,e){t.INTERNAL.registerComponent(new component.Component("platform-logger",(function(t){return new _(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.0",e),t.registerVersion("fire-js","")}(k),e.default=k,e.firebase=k},77:function(t,e,n){"use strict";var r,o=(r=n(6))&&"object"==typeof r&&"default"in r?r.default:r;o.registerVersion("firebase","7.13.1","app"),t.exports=o},79:function(t,e,n){!function(t,e,n,r,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var c="default"in r?r.default:r;c.registerHooks(["beforeRouteEnter","beforeRouteUpdate","beforeRouteLeave","asyncData","fetch","head","key","layout","loading","middleware","scrollToTop","transition","validate","watchQuery","meta"]);var l=/\B([A-Z])/g,h=function(t){return t.replace(l,"-$1").toLowerCase()};t.Vue=e,Object.defineProperty(t,"Emit",{enumerable:!0,get:function(){return n.Emit}}),Object.defineProperty(t,"Inject",{enumerable:!0,get:function(){return n.Inject}}),Object.defineProperty(t,"InjectReactive",{enumerable:!0,get:function(){return n.InjectReactive}}),Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return n.Model}}),Object.defineProperty(t,"Prop",{enumerable:!0,get:function(){return n.Prop}}),Object.defineProperty(t,"PropSync",{enumerable:!0,get:function(){return n.PropSync}}),Object.defineProperty(t,"Provide",{enumerable:!0,get:function(){return n.Provide}}),Object.defineProperty(t,"ProvideReactive",{enumerable:!0,get:function(){return n.ProvideReactive}}),Object.defineProperty(t,"Ref",{enumerable:!0,get:function(){return n.Ref}}),Object.defineProperty(t,"Watch",{enumerable:!0,get:function(){return n.Watch}}),t.Component=c,Object.defineProperty(t,"mixins",{enumerable:!0,get:function(){return r.mixins}}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return o.Action}}),Object.defineProperty(t,"Getter",{enumerable:!0,get:function(){return o.Getter}}),Object.defineProperty(t,"Mutation",{enumerable:!0,get:function(){return o.Mutation}}),Object.defineProperty(t,"State",{enumerable:!0,get:function(){return o.State}}),Object.defineProperty(t,"namespace",{enumerable:!0,get:function(){return o.namespace}}),t.NextTick=function(t){return function(e,n,r){var o=r.value;r.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!1!==o.apply(this,e)){if("function"!=typeof this[t])throw new TypeError("must be a method name");this.$nextTick(this[t])}}}},t.Off=function(t,e){return function(n,r,o){r=h(r);var c=o.value;o.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!1!==c.apply(this,n))if(e){if("function"!=typeof this[e])throw new TypeError("must be a method name");this.$off(t||r,this[e])}else t?this.$off(t||r):this.$off()}}},t.On=function(t){return r.createDecorator((function(e,n){var r=h(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$on(t||r,e.methods[n])}}))},t.Once=function(t){return r.createDecorator((function(e,n){var r=h(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$once(t||r,e.methods[n])}}))},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(4),n(137),n(11),n(191))},93:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(c=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var c,l,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);r&&o[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),e.push(h))}},e}},94:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return h})),n.d(e,"__param",(function(){return f})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return m})),n.d(e,"__exportStar",(function(){return y})),n.d(e,"__values",(function(){return w})),n.d(e,"__read",(function(){return _})),n.d(e,"__spread",(function(){return S})),n.d(e,"__spreadArrays",(function(){return I})),n.d(e,"__await",(function(){return k})),n.d(e,"__asyncGenerator",(function(){return E})),n.d(e,"__asyncDelegator",(function(){return T})),n.d(e,"__asyncValues",(function(){return D})),n.d(e,"__makeTemplateObject",(function(){return A})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return N})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return x}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function l(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function f(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function m(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function y(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function I(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function k(t){return this instanceof k?(this.v=t,this):new k(t)}function E(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof k?Promise.resolve(n.value.v).then(c,l):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function c(t){o("next",t)}function l(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function T(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:k(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function D(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=w(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},95:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return c})),n.d(e,"__rest",(function(){return l})),n.d(e,"__decorate",(function(){return h})),n.d(e,"__param",(function(){return f})),n.d(e,"__metadata",(function(){return d})),n.d(e,"__awaiter",(function(){return v})),n.d(e,"__generator",(function(){return m})),n.d(e,"__exportStar",(function(){return y})),n.d(e,"__values",(function(){return w})),n.d(e,"__read",(function(){return _})),n.d(e,"__spread",(function(){return S})),n.d(e,"__spreadArrays",(function(){return I})),n.d(e,"__await",(function(){return k})),n.d(e,"__asyncGenerator",(function(){return E})),n.d(e,"__asyncDelegator",(function(){return T})),n.d(e,"__asyncValues",(function(){return D})),n.d(e,"__makeTemplateObject",(function(){return A})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return N})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return x}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function l(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function h(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}function f(t,e){return function(n,r){e(n,r,t)}}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function m(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function y(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function I(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function k(t){return this instanceof k?(this.v=t,this):new k(t)}function E(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise((function(a,b){q.push([t,e,a,b])>1||o(t,e)}))})}function o(t,e){try{(n=g[t](e)).value instanceof k?Promise.resolve(n.value.v).then(c,l):h(q[0][2],n)}catch(t){h(q[0][3],t)}var n}function c(t){o("next",t)}function l(t){o("throw",t)}function h(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function T(t){var i,p;return i={},e("next"),e("throw",(function(t){throw t})),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:k(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function D(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=w(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(n=t[e](n)).done,n.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},96:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],c=o[0],l={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}n.r(e),n.d(e,"default",(function(){return y}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,h=0,f=!1,d=function(){},v=null,m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function y(t,e,n,o){f=n,v=o||{};var l=r(t,e);return w(l),function(e){for(var n=[],i=0;i<l.length;i++){var o=l[i];(h=c[o.id]).refs--,n.push(h)}e?w(l=r(t,e)):l=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var f=0;f<h.parts.length;f++)h.parts[f]();delete c[h.id]}}}}function w(t){for(var i=0;i<t.length;i++){var e=t[i],n=c[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(S(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(S(e.parts[r]));c[e.id]={id:e.id,refs:1,parts:o}}}}function _(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function S(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(f)return d;r.parentNode.removeChild(r)}if(m){var o=h++;r=l||(l=_()),e=E.bind(null,r,o,!1),n=E.bind(null,r,o,!0)}else r=_(),e=T.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var I,k=(I=[],function(t,e){return I[t]=e,I.filter(Boolean).join("\n")});function E(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=k(e,o);else{var c=document.createTextNode(o),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(c,l[e]):t.appendChild(c)}}function T(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),v.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},99:function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r}}]);